Ballerina File(0,3870)
  IMPORT_DECLARATION(0,22)
    PsiElement(import)('import')(0,6)
    PsiWhiteSpace(' ')(6,7)
    ORG_NAME(7,16)
      PsiElement(identifier)('ballerina')(7,16)
    PsiElement(/)('/')(16,17)
    COMPLETE_PACKAGE_NAME(17,21)
      PACKAGE_NAME(17,21)
        PsiElement(identifier)('http')(17,21)
    PsiElement(;)(';')(21,22)
  PsiWhiteSpace('\n')(22,23)
  IMPORT_DECLARATION(23,43)
    PsiElement(import)('import')(23,29)
    PsiWhiteSpace(' ')(29,30)
    ORG_NAME(30,39)
      PsiElement(identifier)('ballerina')(30,39)
    PsiElement(/)('/')(39,40)
    COMPLETE_PACKAGE_NAME(40,42)
      PACKAGE_NAME(40,42)
        PsiElement(identifier)('io')(40,42)
    PsiElement(;)(';')(42,43)
  PsiWhiteSpace('\n')(43,44)
  IMPORT_DECLARATION(44,65)
    PsiElement(import)('import')(44,50)
    PsiWhiteSpace(' ')(50,51)
    ORG_NAME(51,60)
      PsiElement(identifier)('ballerina')(51,60)
    PsiElement(/)('/')(60,61)
    COMPLETE_PACKAGE_NAME(61,64)
      PACKAGE_NAME(61,64)
        PsiElement(identifier)('log')(61,64)
    PsiElement(;)(';')(64,65)
  PsiWhiteSpace('\n')(65,66)
  IMPORT_DECLARATION(66,88)
    PsiElement(import)('import')(66,72)
    PsiWhiteSpace(' ')(72,73)
    ORG_NAME(73,82)
      PsiElement(identifier)('ballerina')(73,82)
    PsiElement(/)('/')(82,83)
    COMPLETE_PACKAGE_NAME(83,87)
      PACKAGE_NAME(83,87)
        PsiElement(identifier)('mime')(83,87)
    PsiElement(;)(';')(87,88)
  PsiWhiteSpace('\n\n')(88,90)
  PsiComment(LINE_COMMENT)('// Creates an endpoint for the client.')(90,128)
  PsiWhiteSpace('\n')(128,129)
  DEFINITION(129,187)
    GLOBAL_VARIABLE_DEFINITION(129,187)
      SIMPLE_TYPE_NAME(129,140)
        REFERENCE_TYPE_NAME(129,140)
          USER_DEFINE_TYPE_NAME(129,140)
            NAME_REFERENCE(129,140)
              PACKAGE_REFERENCE(129,134)
                PsiElement(identifier)('http')(129,133)
                PsiElement(:)(':')(133,134)
              PsiElement(identifier)('Client')(134,140)
      PsiWhiteSpace(' ')(140,141)
      PsiElement(identifier)('clientEndpoint')(141,155)
      PsiWhiteSpace(' ')(155,156)
      PsiElement(=)('=')(156,157)
      PsiWhiteSpace(' ')(157,158)
      TYPE_INIT_EXPRESSION(158,186)
        INIT_WITHOUT_TYPE(158,186)
          PsiElement(new)('new')(158,161)
          PsiElement(()('(')(161,162)
          INVOCATION_ARG_LIST(162,185)
            INVOCATION_ARG(162,185)
              SIMPLE_LITERAL_EXPRESSION(162,185)
                SIMPLE_LITERAL(162,185)
                  PsiElement(QUOTED_STRING_LITERAL)('"http://localhost:9090"')(162,185)
          PsiElement())(')')(185,186)
      PsiElement(;)(';')(186,187)
  PsiWhiteSpace('\n\n')(187,189)
  DEFINITION(189,2816)
    ANNOTATION_ATTACHMENT(189,232)
      PsiElement(@)('@')(189,190)
      NAME_REFERENCE(190,208)
        PACKAGE_REFERENCE(190,195)
          PsiElement(identifier)('http')(190,194)
          PsiElement(:)(':')(194,195)
        PsiElement(identifier)('ServiceConfig')(195,208)
      PsiWhiteSpace(' ')(208,209)
      RECORD_LITERAL(209,232)
        PsiElement({)('{')(209,210)
        PsiWhiteSpace(' ')(210,211)
        RECORD_LITERAL_BODY(211,230)
          RECORD_KEY_VALUE(211,230)
            RECORD_KEY(211,219)
              VARIABLE_REFERENCE_EXPRESSION(211,219)
                SIMPLE_VARIABLE_REFERENCE(211,219)
                  NAME_REFERENCE(211,219)
                    PsiElement(identifier)('basePath')(211,219)
            PsiElement(:)(':')(219,220)
            PsiWhiteSpace(' ')(220,221)
            SIMPLE_LITERAL_EXPRESSION(221,230)
              SIMPLE_LITERAL(221,230)
                PsiElement(QUOTED_STRING_LITERAL)('"/stream"')(221,230)
        PsiWhiteSpace(' ')(230,231)
        PsiElement(})('}')(231,232)
    PsiWhiteSpace('\n')(232,233)
    DEFINITION(233,2816)
      SERVICE_DEFINITION(233,2816)
        PsiElement(service)('service')(233,240)
        PsiWhiteSpace(' ')(240,241)
        PsiElement(identifier)('HTTPStreamingService')(241,261)
        PsiWhiteSpace(' ')(261,262)
        PsiElement(on)('on')(262,264)
        PsiWhiteSpace(' ')(264,265)
        EXPRESSION_LIST(265,288)
          TYPE_INIT_EXPRESSION(265,288)
            INIT_WITH_TYPE(265,288)
              PsiElement(new)('new')(265,268)
              PsiWhiteSpace(' ')(268,269)
              USER_DEFINE_TYPE_NAME(269,282)
                NAME_REFERENCE(269,282)
                  PACKAGE_REFERENCE(269,274)
                    PsiElement(identifier)('http')(269,273)
                    PsiElement(:)(':')(273,274)
                  PsiElement(identifier)('Listener')(274,282)
              PsiElement(()('(')(282,283)
              INVOCATION_ARG_LIST(283,287)
                INVOCATION_ARG(283,287)
                  SIMPLE_LITERAL_EXPRESSION(283,287)
                    SIMPLE_LITERAL(283,287)
                      INTEGER_LITERAL(283,287)
                        PsiElement(DECIMAL_INTEGER_LITERAL)('9090')(283,287)
              PsiElement())(')')(287,288)
        PsiWhiteSpace(' ')(288,289)
        SERVICE_BODY(289,2816)
          PsiElement({)('{')(289,290)
          PsiWhiteSpace('\n\n    ')(290,296)
          SERVICE_BODY_MEMBER(296,1560)
            OBJECT_FUNCTION_DEFINITION(296,1560)
              ANNOTATION_ATTACHMENT(296,378)
                PsiElement(@)('@')(296,297)
                NAME_REFERENCE(297,316)
                  PACKAGE_REFERENCE(297,302)
                    PsiElement(identifier)('http')(297,301)
                    PsiElement(:)(':')(301,302)
                  PsiElement(identifier)('ResourceConfig')(302,316)
                PsiWhiteSpace(' ')(316,317)
                RECORD_LITERAL(317,378)
                  PsiElement({)('{')(317,318)
                  PsiWhiteSpace('\n        ')(318,327)
                  RECORD_LITERAL_BODY(327,372)
                    RECORD_KEY_VALUE(327,343)
                      RECORD_KEY(327,334)
                        VARIABLE_REFERENCE_EXPRESSION(327,334)
                          SIMPLE_VARIABLE_REFERENCE(327,334)
                            NAME_REFERENCE(327,334)
                              PsiElement(identifier)('methods')(327,334)
                      PsiElement(:)(':')(334,335)
                      PsiWhiteSpace(' ')(335,336)
                      ARRAY_LITERAL_EXPRESSION(336,343)
                        ARRAY_LITERAL(336,343)
                          PsiElement([)('[')(336,337)
                          EXPRESSION_LIST(337,342)
                            SIMPLE_LITERAL_EXPRESSION(337,342)
                              SIMPLE_LITERAL(337,342)
                                PsiElement(QUOTED_STRING_LITERAL)('"GET"')(337,342)
                          PsiElement(])(']')(342,343)
                    PsiElement(,)(',')(343,344)
                    PsiWhiteSpace('\n        ')(344,353)
                    RECORD_KEY_VALUE(353,372)
                      RECORD_KEY(353,357)
                        VARIABLE_REFERENCE_EXPRESSION(353,357)
                          SIMPLE_VARIABLE_REFERENCE(353,357)
                            NAME_REFERENCE(353,357)
                              PsiElement(identifier)('path')(353,357)
                      PsiElement(:)(':')(357,358)
                      PsiWhiteSpace(' ')(358,359)
                      SIMPLE_LITERAL_EXPRESSION(359,372)
                        SIMPLE_LITERAL(359,372)
                          PsiElement(QUOTED_STRING_LITERAL)('"/fileupload"')(359,372)
                  PsiWhiteSpace('\n    ')(372,377)
                  PsiElement(})('}')(377,378)
              PsiWhiteSpace('\n    ')(378,383)
              PsiElement(resource)('resource')(383,391)
              PsiWhiteSpace(' ')(391,392)
              PsiElement(function)('function')(392,400)
              PsiWhiteSpace(' ')(400,401)
              CALLABLE_UNIT_SIGNATURE(401,508)
                ANY_IDENTIFIER_NAME(401,419)
                  PsiElement(identifier)('handleOutputStream')(401,419)
                PsiElement(()('(')(419,420)
                FORMAL_PARAMETER_LIST(420,507)
                  PARAMETER(420,438)
                    PARAMETER_WITH_TYPE(420,438)
                      SIMPLE_TYPE_NAME(420,431)
                        REFERENCE_TYPE_NAME(420,431)
                          USER_DEFINE_TYPE_NAME(420,431)
                            NAME_REFERENCE(420,431)
                              PACKAGE_REFERENCE(420,425)
                                PsiElement(identifier)('http')(420,424)
                                PsiElement(:)(':')(424,425)
                              PsiElement(identifier)('Caller')(425,431)
                      PsiWhiteSpace(' ')(431,432)
                      PsiElement(identifier)('caller')(432,438)
                  PsiElement(,)(',')(438,439)
                  PsiWhiteSpace('\n                                         ')(439,481)
                  PARAMETER(481,507)
                    PARAMETER_WITH_TYPE(481,507)
                      SIMPLE_TYPE_NAME(481,493)
                        REFERENCE_TYPE_NAME(481,493)
                          USER_DEFINE_TYPE_NAME(481,493)
                            NAME_REFERENCE(481,493)
                              PACKAGE_REFERENCE(481,486)
                                PsiElement(identifier)('http')(481,485)
                                PsiElement(:)(':')(485,486)
                              PsiElement(identifier)('Request')(486,493)
                      PsiWhiteSpace(' ')(493,494)
                      PsiElement(identifier)('clientRequest')(494,507)
                PsiElement())(')')(507,508)
              PsiWhiteSpace(' ')(508,509)
              CALLABLE_UNIT_BODY(509,1560)
                PsiElement({)('{')(509,510)
                PsiWhiteSpace('\n        ')(510,519)
                STATEMENT(519,546)
                  VARIABLE_DEFINITION_STATEMENT(519,546)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(519,546)
                      SIMPLE_TYPE_NAME(519,531)
                        REFERENCE_TYPE_NAME(519,531)
                          USER_DEFINE_TYPE_NAME(519,531)
                            NAME_REFERENCE(519,531)
                              PACKAGE_REFERENCE(519,524)
                                PsiElement(identifier)('http')(519,523)
                                PsiElement(:)(':')(523,524)
                              PsiElement(identifier)('Request')(524,531)
                      PsiWhiteSpace(' ')(531,532)
                      BINDING_PATTERN(532,539)
                        PsiElement(identifier)('request')(532,539)
                      PsiWhiteSpace(' ')(539,540)
                      PsiElement(=)('=')(540,541)
                      PsiWhiteSpace(' ')(541,542)
                      TYPE_INIT_EXPRESSION(542,545)
                        INIT_WITHOUT_TYPE(542,545)
                          PsiElement(new)('new')(542,545)
                      PsiElement(;)(';')(545,546)
                PsiWhiteSpace('\n\n        ')(546,556)
                PsiComment(LINE_COMMENT)('//Sets the file as request payload.')(556,591)
                PsiWhiteSpace('\n        ')(591,600)
                STATEMENT(600,702)
                  EXPRESSION_STMT(600,702)
                    VARIABLE_REFERENCE_EXPRESSION(600,701)
                      INVOCATION_REFERENCE(600,701)
                        SIMPLE_VARIABLE_REFERENCE(600,607)
                          NAME_REFERENCE(600,607)
                            PsiElement(identifier)('request')(600,607)
                        INVOCATION(607,701)
                          PsiElement(.)('.')(607,608)
                          ANY_IDENTIFIER_NAME(608,624)
                            PsiElement(identifier)('setFileAsPayload')(608,624)
                          PsiElement(()('(')(624,625)
                          INVOCATION_ARG_LIST(625,700)
                            INVOCATION_ARG(625,652)
                              SIMPLE_LITERAL_EXPRESSION(625,652)
                                SIMPLE_LITERAL(625,652)
                                  PsiElement(QUOTED_STRING_LITERAL)('"./files/BallerinaLang.pdf"')(625,652)
                            PsiElement(,)(',')(652,653)
                            PsiWhiteSpace('\n            ')(653,666)
                            INVOCATION_ARG(666,700)
                              NAMED_ARGS(666,700)
                                PsiElement(identifier)('contentType')(666,677)
                                PsiWhiteSpace(' ')(677,678)
                                PsiElement(=)('=')(678,679)
                                PsiWhiteSpace(' ')(679,680)
                                VARIABLE_REFERENCE_EXPRESSION(680,700)
                                  SIMPLE_VARIABLE_REFERENCE(680,700)
                                    NAME_REFERENCE(680,700)
                                      PACKAGE_REFERENCE(680,685)
                                        PsiElement(identifier)('mime')(680,684)
                                        PsiElement(:)(':')(684,685)
                                      PsiElement(identifier)('APPLICATION_PDF')(685,700)
                          PsiElement())(')')(700,701)
                    PsiElement(;)(';')(701,702)
                PsiWhiteSpace('\n\n        ')(702,712)
                PsiComment(LINE_COMMENT)('//Sends the request to the client with the file content.')(712,768)
                PsiWhiteSpace('\n        ')(768,777)
                STATEMENT(777,848)
                  VARIABLE_DEFINITION_STATEMENT(777,848)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(777,848)
                      PsiElement(var)('var')(777,780)
                      PsiWhiteSpace(' ')(780,781)
                      BINDING_PATTERN(781,795)
                        PsiElement(identifier)('clientResponse')(781,795)
                      PsiWhiteSpace(' ')(795,796)
                      PsiElement(=)('=')(796,797)
                      PsiWhiteSpace(' ')(797,798)
                      ACTION_INVOCATION_EXPRESSION(798,847)
                        ACTION_INVOCATION(798,847)
                          SIMPLE_VARIABLE_REFERENCE(798,812)
                            NAME_REFERENCE(798,812)
                              PsiElement(identifier)('clientEndpoint')(798,812)
                          PsiElement(->)('->')(812,814)
                          FUNCTION_INVOCATION(814,847)
                            FUNCTION_NAME_REFERENCE(814,818)
                              ANY_IDENTIFIER_NAME(814,818)
                                PsiElement(identifier)('post')(814,818)
                            PsiElement(()('(')(818,819)
                            INVOCATION_ARG_LIST(819,846)
                              INVOCATION_ARG(819,837)
                                SIMPLE_LITERAL_EXPRESSION(819,837)
                                  SIMPLE_LITERAL(819,837)
                                    PsiElement(QUOTED_STRING_LITERAL)('"/stream/receiver"')(819,837)
                              PsiElement(,)(',')(837,838)
                              PsiWhiteSpace(' ')(838,839)
                              INVOCATION_ARG(839,846)
                                VARIABLE_REFERENCE_EXPRESSION(839,846)
                                  SIMPLE_VARIABLE_REFERENCE(839,846)
                                    NAME_REFERENCE(839,846)
                                      PsiElement(identifier)('request')(839,846)
                            PsiElement())(')')(846,847)
                      PsiElement(;)(';')(847,848)
                PsiWhiteSpace('\n\n        ')(848,858)
                STATEMENT(858,882)
                  VARIABLE_DEFINITION_STATEMENT(858,882)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(858,882)
                      SIMPLE_TYPE_NAME(858,871)
                        REFERENCE_TYPE_NAME(858,871)
                          USER_DEFINE_TYPE_NAME(858,871)
                            NAME_REFERENCE(858,871)
                              PACKAGE_REFERENCE(858,863)
                                PsiElement(identifier)('http')(858,862)
                                PsiElement(:)(':')(862,863)
                              PsiElement(identifier)('Response')(863,871)
                      PsiWhiteSpace(' ')(871,872)
                      BINDING_PATTERN(872,875)
                        PsiElement(identifier)('res')(872,875)
                      PsiWhiteSpace(' ')(875,876)
                      PsiElement(=)('=')(876,877)
                      PsiWhiteSpace(' ')(877,878)
                      TYPE_INIT_EXPRESSION(878,881)
                        INIT_WITHOUT_TYPE(878,881)
                          PsiElement(new)('new')(878,881)
                      PsiElement(;)(';')(881,882)
                PsiWhiteSpace('\n        ')(882,891)
                STATEMENT(891,1348)
                  IF_ELSE_STATEMENT(891,1348)
                    IF_CLAUSE(891,1158)
                      PsiElement(if)('if')(891,893)
                      BRACED_OR_TUPLE_EXPRESSION(893,926)
                        TUPLE_LITERAL(893,926)
                          PsiElement(()('(')(893,894)
                          TYPE_TEST_EXPRESSION(894,925)
                            VARIABLE_REFERENCE_EXPRESSION(894,908)
                              SIMPLE_VARIABLE_REFERENCE(894,908)
                                NAME_REFERENCE(894,908)
                                  PsiElement(identifier)('clientResponse')(894,908)
                            PsiWhiteSpace(' ')(908,909)
                            PsiElement(is)('is')(909,911)
                            PsiWhiteSpace(' ')(911,912)
                            SIMPLE_TYPE_NAME(912,925)
                              REFERENCE_TYPE_NAME(912,925)
                                USER_DEFINE_TYPE_NAME(912,925)
                                  NAME_REFERENCE(912,925)
                                    PACKAGE_REFERENCE(912,917)
                                      PsiElement(identifier)('http')(912,916)
                                      PsiElement(:)(':')(916,917)
                                    PsiElement(identifier)('Response')(917,925)
                          PsiElement())(')')(925,926)
                      PsiWhiteSpace(' ')(926,927)
                      PsiElement({)('{')(927,928)
                      PsiWhiteSpace('\n            ')(928,941)
                      BLOCK(941,1148)
                        STATEMENT(941,987)
                          VARIABLE_DEFINITION_STATEMENT(941,987)
                            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(941,987)
                              PsiElement(var)('var')(941,944)
                              PsiWhiteSpace(' ')(944,945)
                              BINDING_PATTERN(945,952)
                                PsiElement(identifier)('payload')(945,952)
                              PsiWhiteSpace(' ')(952,953)
                              PsiElement(=)('=')(953,954)
                              PsiWhiteSpace(' ')(954,955)
                              VARIABLE_REFERENCE_EXPRESSION(955,986)
                                INVOCATION_REFERENCE(955,986)
                                  SIMPLE_VARIABLE_REFERENCE(955,969)
                                    NAME_REFERENCE(955,969)
                                      PsiElement(identifier)('clientResponse')(955,969)
                                  INVOCATION(969,986)
                                    PsiElement(.)('.')(969,970)
                                    ANY_IDENTIFIER_NAME(970,984)
                                      PsiElement(identifier)('getTextPayload')(970,984)
                                    PsiElement(()('(')(984,985)
                                    PsiElement())(')')(985,986)
                              PsiElement(;)(';')(986,987)
                        PsiWhiteSpace('\n            ')(987,1000)
                        STATEMENT(1000,1148)
                          IF_ELSE_STATEMENT(1000,1148)
                            IF_CLAUSE(1000,1087)
                              PsiElement(if)('if')(1000,1002)
                              PsiWhiteSpace(' ')(1002,1003)
                              BRACED_OR_TUPLE_EXPRESSION(1003,1022)
                                TUPLE_LITERAL(1003,1022)
                                  PsiElement(()('(')(1003,1004)
                                  TYPE_TEST_EXPRESSION(1004,1021)
                                    VARIABLE_REFERENCE_EXPRESSION(1004,1011)
                                      SIMPLE_VARIABLE_REFERENCE(1004,1011)
                                        NAME_REFERENCE(1004,1011)
                                          PsiElement(identifier)('payload')(1004,1011)
                                    PsiWhiteSpace(' ')(1011,1012)
                                    PsiElement(is)('is')(1012,1014)
                                    PsiWhiteSpace(' ')(1014,1015)
                                    SIMPLE_TYPE_NAME(1015,1021)
                                      VALUE_TYPE_NAME(1015,1021)
                                        PsiElement(string)('string')(1015,1021)
                                  PsiElement())(')')(1021,1022)
                              PsiWhiteSpace(' ')(1022,1023)
                              PsiElement({)('{')(1023,1024)
                              PsiWhiteSpace('\n                ')(1024,1041)
                              BLOCK(1041,1073)
                                STATEMENT(1041,1073)
                                  EXPRESSION_STMT(1041,1073)
                                    VARIABLE_REFERENCE_EXPRESSION(1041,1072)
                                      INVOCATION_REFERENCE(1041,1072)
                                        SIMPLE_VARIABLE_REFERENCE(1041,1044)
                                          NAME_REFERENCE(1041,1044)
                                            PsiElement(identifier)('res')(1041,1044)
                                        INVOCATION(1044,1072)
                                          PsiElement(.)('.')(1044,1045)
                                          ANY_IDENTIFIER_NAME(1045,1055)
                                            PsiElement(identifier)('setPayload')(1045,1055)
                                          PsiElement(()('(')(1055,1056)
                                          INVOCATION_ARG_LIST(1056,1071)
                                            INVOCATION_ARG(1056,1071)
                                              UNARY_EXPRESSION(1056,1071)
                                                PsiElement(untaint)('untaint')(1056,1063)
                                                PsiWhiteSpace(' ')(1063,1064)
                                                VARIABLE_REFERENCE_EXPRESSION(1064,1071)
                                                  SIMPLE_VARIABLE_REFERENCE(1064,1071)
                                                    NAME_REFERENCE(1064,1071)
                                                      PsiElement(identifier)('payload')(1064,1071)
                                          PsiElement())(')')(1071,1072)
                                    PsiElement(;)(';')(1072,1073)
                              PsiWhiteSpace('\n            ')(1073,1086)
                              PsiElement(})('}')(1086,1087)
                            PsiWhiteSpace(' ')(1087,1088)
                            ELSE_CLAUSE(1088,1148)
                              PsiElement(else)('else')(1088,1092)
                              PsiWhiteSpace(' ')(1092,1093)
                              PsiElement({)('{')(1093,1094)
                              PsiWhiteSpace('\n                ')(1094,1111)
                              BLOCK(1111,1134)
                                STATEMENT(1111,1134)
                                  EXPRESSION_STMT(1111,1134)
                                    VARIABLE_REFERENCE_EXPRESSION(1111,1133)
                                      FUNCTION_INVOCATION_REFERENCE(1111,1133)
                                        FUNCTION_INVOCATION(1111,1133)
                                          FUNCTION_NAME_REFERENCE(1111,1119)
                                            ANY_IDENTIFIER_NAME(1111,1119)
                                              PsiElement(identifier)('setError')(1111,1119)
                                          PsiElement(()('(')(1119,1120)
                                          INVOCATION_ARG_LIST(1120,1132)
                                            INVOCATION_ARG(1120,1123)
                                              VARIABLE_REFERENCE_EXPRESSION(1120,1123)
                                                SIMPLE_VARIABLE_REFERENCE(1120,1123)
                                                  NAME_REFERENCE(1120,1123)
                                                    PsiElement(identifier)('res')(1120,1123)
                                            PsiElement(,)(',')(1123,1124)
                                            PsiWhiteSpace(' ')(1124,1125)
                                            INVOCATION_ARG(1125,1132)
                                              VARIABLE_REFERENCE_EXPRESSION(1125,1132)
                                                SIMPLE_VARIABLE_REFERENCE(1125,1132)
                                                  NAME_REFERENCE(1125,1132)
                                                    PsiElement(identifier)('payload')(1125,1132)
                                          PsiElement())(')')(1132,1133)
                                    PsiElement(;)(';')(1133,1134)
                              PsiWhiteSpace('\n            ')(1134,1147)
                              PsiElement(})('}')(1147,1148)
                      PsiWhiteSpace('\n        ')(1148,1157)
                      PsiElement(})('}')(1157,1158)
                    PsiWhiteSpace(' ')(1158,1159)
                    ELSE_CLAUSE(1159,1348)
                      PsiElement(else)('else')(1159,1163)
                      PsiWhiteSpace(' ')(1163,1164)
                      PsiElement({)('{')(1164,1165)
                      PsiWhiteSpace('\n            ')(1165,1178)
                      BLOCK(1178,1338)
                        STATEMENT(1178,1295)
                          EXPRESSION_STMT(1178,1295)
                            VARIABLE_REFERENCE_EXPRESSION(1178,1294)
                              FUNCTION_INVOCATION_REFERENCE(1178,1294)
                                FUNCTION_INVOCATION(1178,1294)
                                  FUNCTION_NAME_REFERENCE(1178,1192)
                                    PACKAGE_REFERENCE(1178,1182)
                                      PsiElement(identifier)('log')(1178,1181)
                                      PsiElement(:)(':')(1181,1182)
                                    ANY_IDENTIFIER_NAME(1182,1192)
                                      PsiElement(identifier)('printError')(1182,1192)
                                  PsiElement(()('(')(1192,1193)
                                  INVOCATION_ARG_LIST(1193,1293)
                                    INVOCATION_ARG(1193,1243)
                                      SIMPLE_LITERAL_EXPRESSION(1193,1243)
                                        SIMPLE_LITERAL(1193,1243)
                                          PsiElement(QUOTED_STRING_LITERAL)('"Error occurred while sending data to the client "')(1193,1243)
                                    PsiElement(,)(',')(1243,1244)
                                    PsiWhiteSpace('\n                            ')(1244,1273)
                                    INVOCATION_ARG(1273,1293)
                                      NAMED_ARGS(1273,1293)
                                        PsiElement(identifier)('err')(1273,1276)
                                        PsiWhiteSpace(' ')(1276,1277)
                                        PsiElement(=)('=')(1277,1278)
                                        PsiWhiteSpace(' ')(1278,1279)
                                        VARIABLE_REFERENCE_EXPRESSION(1279,1293)
                                          SIMPLE_VARIABLE_REFERENCE(1279,1293)
                                            NAME_REFERENCE(1279,1293)
                                              PsiElement(identifier)('clientResponse')(1279,1293)
                                  PsiElement())(')')(1293,1294)
                            PsiElement(;)(';')(1294,1295)
                        PsiWhiteSpace('\n            ')(1295,1308)
                        STATEMENT(1308,1338)
                          EXPRESSION_STMT(1308,1338)
                            VARIABLE_REFERENCE_EXPRESSION(1308,1337)
                              FUNCTION_INVOCATION_REFERENCE(1308,1337)
                                FUNCTION_INVOCATION(1308,1337)
                                  FUNCTION_NAME_REFERENCE(1308,1316)
                                    ANY_IDENTIFIER_NAME(1308,1316)
                                      PsiElement(identifier)('setError')(1308,1316)
                                  PsiElement(()('(')(1316,1317)
                                  INVOCATION_ARG_LIST(1317,1336)
                                    INVOCATION_ARG(1317,1320)
                                      VARIABLE_REFERENCE_EXPRESSION(1317,1320)
                                        SIMPLE_VARIABLE_REFERENCE(1317,1320)
                                          NAME_REFERENCE(1317,1320)
                                            PsiElement(identifier)('res')(1317,1320)
                                    PsiElement(,)(',')(1320,1321)
                                    PsiWhiteSpace(' ')(1321,1322)
                                    INVOCATION_ARG(1322,1336)
                                      VARIABLE_REFERENCE_EXPRESSION(1322,1336)
                                        SIMPLE_VARIABLE_REFERENCE(1322,1336)
                                          NAME_REFERENCE(1322,1336)
                                            PsiElement(identifier)('clientResponse')(1322,1336)
                                  PsiElement())(')')(1336,1337)
                            PsiElement(;)(';')(1337,1338)
                      PsiWhiteSpace('\n        ')(1338,1347)
                      PsiElement(})('}')(1347,1348)
                PsiWhiteSpace('\n        ')(1348,1357)
                STATEMENT(1357,1391)
                  VARIABLE_DEFINITION_STATEMENT(1357,1391)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(1357,1391)
                      PsiElement(var)('var')(1357,1360)
                      PsiWhiteSpace(' ')(1360,1361)
                      BINDING_PATTERN(1361,1367)
                        PsiElement(identifier)('result')(1361,1367)
                      PsiWhiteSpace(' ')(1367,1368)
                      PsiElement(=)('=')(1368,1369)
                      PsiWhiteSpace(' ')(1369,1370)
                      ACTION_INVOCATION_EXPRESSION(1370,1390)
                        ACTION_INVOCATION(1370,1390)
                          SIMPLE_VARIABLE_REFERENCE(1370,1376)
                            NAME_REFERENCE(1370,1376)
                              PsiElement(identifier)('caller')(1370,1376)
                          PsiElement(->)('->')(1376,1378)
                          FUNCTION_INVOCATION(1378,1390)
                            FUNCTION_NAME_REFERENCE(1378,1385)
                              ANY_IDENTIFIER_NAME(1378,1385)
                                PsiElement(identifier)('respond')(1378,1385)
                            PsiElement(()('(')(1385,1386)
                            INVOCATION_ARG_LIST(1386,1389)
                              INVOCATION_ARG(1386,1389)
                                VARIABLE_REFERENCE_EXPRESSION(1386,1389)
                                  SIMPLE_VARIABLE_REFERENCE(1386,1389)
                                    NAME_REFERENCE(1386,1389)
                                      PsiElement(identifier)('res')(1386,1389)
                            PsiElement())(')')(1389,1390)
                      PsiElement(;)(';')(1390,1391)
                PsiWhiteSpace('\n        ')(1391,1400)
                STATEMENT(1400,1554)
                  IF_ELSE_STATEMENT(1400,1554)
                    IF_CLAUSE(1400,1554)
                      PsiElement(if)('if')(1400,1402)
                      PsiWhiteSpace(' ')(1402,1403)
                      BRACED_OR_TUPLE_EXPRESSION(1403,1420)
                        TUPLE_LITERAL(1403,1420)
                          PsiElement(()('(')(1403,1404)
                          TYPE_TEST_EXPRESSION(1404,1419)
                            VARIABLE_REFERENCE_EXPRESSION(1404,1410)
                              SIMPLE_VARIABLE_REFERENCE(1404,1410)
                                NAME_REFERENCE(1404,1410)
                                  PsiElement(identifier)('result')(1404,1410)
                            PsiWhiteSpace(' ')(1410,1411)
                            PsiElement(is)('is')(1411,1413)
                            PsiWhiteSpace(' ')(1413,1414)
                            SIMPLE_TYPE_NAME(1414,1419)
                              REFERENCE_TYPE_NAME(1414,1419)
                                BUILT_IN_REFERENCE_TYPE_NAME(1414,1419)
                                  ERROR_TYPE_NAME(1414,1419)
                                    PsiElement(error)('error')(1414,1419)
                          PsiElement())(')')(1419,1420)
                      PsiWhiteSpace(' ')(1420,1421)
                      PsiElement({)('{')(1421,1422)
                      PsiWhiteSpace('\n            ')(1422,1435)
                      BLOCK(1435,1544)
                        STATEMENT(1435,1544)
                          EXPRESSION_STMT(1435,1544)
                            VARIABLE_REFERENCE_EXPRESSION(1435,1543)
                              FUNCTION_INVOCATION_REFERENCE(1435,1543)
                                FUNCTION_INVOCATION(1435,1543)
                                  FUNCTION_NAME_REFERENCE(1435,1449)
                                    PACKAGE_REFERENCE(1435,1439)
                                      PsiElement(identifier)('log')(1435,1438)
                                      PsiElement(:)(':')(1438,1439)
                                    ANY_IDENTIFIER_NAME(1439,1449)
                                      PsiElement(identifier)('printError')(1439,1449)
                                  PsiElement(()('(')(1449,1450)
                                  INVOCATION_ARG_LIST(1450,1542)
                                    INVOCATION_ARG(1450,1500)
                                      SIMPLE_LITERAL_EXPRESSION(1450,1500)
                                        SIMPLE_LITERAL(1450,1500)
                                          PsiElement(QUOTED_STRING_LITERAL)('"Error while while sending response to the caller"')(1450,1500)
                                    PsiElement(,)(',')(1500,1501)
                                    PsiWhiteSpace('\n                            ')(1501,1530)
                                    INVOCATION_ARG(1530,1542)
                                      NAMED_ARGS(1530,1542)
                                        PsiElement(identifier)('err')(1530,1533)
                                        PsiWhiteSpace(' ')(1533,1534)
                                        PsiElement(=)('=')(1534,1535)
                                        PsiWhiteSpace(' ')(1535,1536)
                                        VARIABLE_REFERENCE_EXPRESSION(1536,1542)
                                          SIMPLE_VARIABLE_REFERENCE(1536,1542)
                                            NAME_REFERENCE(1536,1542)
                                              PsiElement(identifier)('result')(1536,1542)
                                  PsiElement())(')')(1542,1543)
                            PsiElement(;)(';')(1543,1544)
                      PsiWhiteSpace('\n        ')(1544,1553)
                      PsiElement(})('}')(1553,1554)
                PsiWhiteSpace('\n    ')(1554,1559)
                PsiElement(})('}')(1559,1560)
          PsiWhiteSpace('\n\n    ')(1560,1566)
          SERVICE_BODY_MEMBER(1566,2814)
            OBJECT_FUNCTION_DEFINITION(1566,2814)
              ANNOTATION_ATTACHMENT(1566,1647)
                PsiElement(@)('@')(1566,1567)
                NAME_REFERENCE(1567,1586)
                  PACKAGE_REFERENCE(1567,1572)
                    PsiElement(identifier)('http')(1567,1571)
                    PsiElement(:)(':')(1571,1572)
                  PsiElement(identifier)('ResourceConfig')(1572,1586)
                PsiWhiteSpace(' ')(1586,1587)
                RECORD_LITERAL(1587,1647)
                  PsiElement({)('{')(1587,1588)
                  PsiWhiteSpace('\n        ')(1588,1597)
                  RECORD_LITERAL_BODY(1597,1641)
                    RECORD_KEY_VALUE(1597,1614)
                      RECORD_KEY(1597,1604)
                        VARIABLE_REFERENCE_EXPRESSION(1597,1604)
                          SIMPLE_VARIABLE_REFERENCE(1597,1604)
                            NAME_REFERENCE(1597,1604)
                              PsiElement(identifier)('methods')(1597,1604)
                      PsiElement(:)(':')(1604,1605)
                      PsiWhiteSpace(' ')(1605,1606)
                      ARRAY_LITERAL_EXPRESSION(1606,1614)
                        ARRAY_LITERAL(1606,1614)
                          PsiElement([)('[')(1606,1607)
                          EXPRESSION_LIST(1607,1613)
                            SIMPLE_LITERAL_EXPRESSION(1607,1613)
                              SIMPLE_LITERAL(1607,1613)
                                PsiElement(QUOTED_STRING_LITERAL)('"POST"')(1607,1613)
                          PsiElement(])(']')(1613,1614)
                    PsiElement(,)(',')(1614,1615)
                    PsiWhiteSpace('\n        ')(1615,1624)
                    RECORD_KEY_VALUE(1624,1641)
                      RECORD_KEY(1624,1628)
                        VARIABLE_REFERENCE_EXPRESSION(1624,1628)
                          SIMPLE_VARIABLE_REFERENCE(1624,1628)
                            NAME_REFERENCE(1624,1628)
                              PsiElement(identifier)('path')(1624,1628)
                      PsiElement(:)(':')(1628,1629)
                      PsiWhiteSpace(' ')(1629,1630)
                      SIMPLE_LITERAL_EXPRESSION(1630,1641)
                        SIMPLE_LITERAL(1630,1641)
                          PsiElement(QUOTED_STRING_LITERAL)('"/receiver"')(1630,1641)
                  PsiWhiteSpace('\n    ')(1641,1646)
                  PsiElement(})('}')(1646,1647)
              PsiWhiteSpace('\n    ')(1647,1652)
              PsiElement(resource)('resource')(1652,1660)
              PsiWhiteSpace(' ')(1660,1661)
              PsiElement(function)('function')(1661,1669)
              PsiWhiteSpace(' ')(1669,1670)
              CALLABLE_UNIT_SIGNATURE(1670,1775)
                ANY_IDENTIFIER_NAME(1670,1687)
                  PsiElement(identifier)('handleInputStream')(1670,1687)
                PsiElement(()('(')(1687,1688)
                FORMAL_PARAMETER_LIST(1688,1774)
                  PARAMETER(1688,1706)
                    PARAMETER_WITH_TYPE(1688,1706)
                      SIMPLE_TYPE_NAME(1688,1699)
                        REFERENCE_TYPE_NAME(1688,1699)
                          USER_DEFINE_TYPE_NAME(1688,1699)
                            NAME_REFERENCE(1688,1699)
                              PACKAGE_REFERENCE(1688,1693)
                                PsiElement(identifier)('http')(1688,1692)
                                PsiElement(:)(':')(1692,1693)
                              PsiElement(identifier)('Caller')(1693,1699)
                      PsiWhiteSpace(' ')(1699,1700)
                      PsiElement(identifier)('caller')(1700,1706)
                  PsiElement(,)(',')(1706,1707)
                  PsiWhiteSpace('\n                                        ')(1707,1748)
                  PARAMETER(1748,1774)
                    PARAMETER_WITH_TYPE(1748,1774)
                      SIMPLE_TYPE_NAME(1748,1760)
                        REFERENCE_TYPE_NAME(1748,1760)
                          USER_DEFINE_TYPE_NAME(1748,1760)
                            NAME_REFERENCE(1748,1760)
                              PACKAGE_REFERENCE(1748,1753)
                                PsiElement(identifier)('http')(1748,1752)
                                PsiElement(:)(':')(1752,1753)
                              PsiElement(identifier)('Request')(1753,1760)
                      PsiWhiteSpace(' ')(1760,1761)
                      PsiElement(identifier)('clientRequest')(1761,1774)
                PsiElement())(')')(1774,1775)
              PsiWhiteSpace(' ')(1775,1776)
              CALLABLE_UNIT_BODY(1776,2814)
                PsiElement({)('{')(1776,1777)
                PsiWhiteSpace('\n        ')(1777,1786)
                STATEMENT(1786,1810)
                  VARIABLE_DEFINITION_STATEMENT(1786,1810)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(1786,1810)
                      SIMPLE_TYPE_NAME(1786,1799)
                        REFERENCE_TYPE_NAME(1786,1799)
                          USER_DEFINE_TYPE_NAME(1786,1799)
                            NAME_REFERENCE(1786,1799)
                              PACKAGE_REFERENCE(1786,1791)
                                PsiElement(identifier)('http')(1786,1790)
                                PsiElement(:)(':')(1790,1791)
                              PsiElement(identifier)('Response')(1791,1799)
                      PsiWhiteSpace(' ')(1799,1800)
                      BINDING_PATTERN(1800,1803)
                        PsiElement(identifier)('res')(1800,1803)
                      PsiWhiteSpace(' ')(1803,1804)
                      PsiElement(=)('=')(1804,1805)
                      PsiWhiteSpace(' ')(1805,1806)
                      TYPE_INIT_EXPRESSION(1806,1809)
                        INIT_WITHOUT_TYPE(1806,1809)
                          PsiElement(new)('new')(1806,1809)
                      PsiElement(;)(';')(1809,1810)
                PsiWhiteSpace('\n        ')(1810,1819)
                STATEMENT(1819,1864)
                  VARIABLE_DEFINITION_STATEMENT(1819,1864)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(1819,1864)
                      PsiElement(var)('var')(1819,1822)
                      PsiWhiteSpace(' ')(1822,1823)
                      BINDING_PATTERN(1823,1830)
                        PsiElement(identifier)('payload')(1823,1830)
                      PsiWhiteSpace(' ')(1830,1831)
                      PsiElement(=)('=')(1831,1832)
                      PsiWhiteSpace(' ')(1832,1833)
                      VARIABLE_REFERENCE_EXPRESSION(1833,1863)
                        INVOCATION_REFERENCE(1833,1863)
                          SIMPLE_VARIABLE_REFERENCE(1833,1846)
                            NAME_REFERENCE(1833,1846)
                              PsiElement(identifier)('clientRequest')(1833,1846)
                          INVOCATION(1846,1863)
                            PsiElement(.)('.')(1846,1847)
                            ANY_IDENTIFIER_NAME(1847,1861)
                              PsiElement(identifier)('getByteChannel')(1847,1861)
                            PsiElement(()('(')(1861,1862)
                            PsiElement())(')')(1862,1863)
                      PsiElement(;)(';')(1863,1864)
                PsiWhiteSpace('\n        ')(1864,1873)
                STATEMENT(1873,2615)
                  IF_ELSE_STATEMENT(1873,2615)
                    IF_CLAUSE(1873,2562)
                      PsiElement(if)('if')(1873,1875)
                      PsiWhiteSpace(' ')(1875,1876)
                      BRACED_OR_TUPLE_EXPRESSION(1876,1911)
                        TUPLE_LITERAL(1876,1911)
                          PsiElement(()('(')(1876,1877)
                          TYPE_TEST_EXPRESSION(1877,1910)
                            VARIABLE_REFERENCE_EXPRESSION(1877,1884)
                              SIMPLE_VARIABLE_REFERENCE(1877,1884)
                                NAME_REFERENCE(1877,1884)
                                  PsiElement(identifier)('payload')(1877,1884)
                            PsiWhiteSpace(' ')(1884,1885)
                            PsiElement(is)('is')(1885,1887)
                            PsiWhiteSpace(' ')(1887,1888)
                            SIMPLE_TYPE_NAME(1888,1910)
                              REFERENCE_TYPE_NAME(1888,1910)
                                USER_DEFINE_TYPE_NAME(1888,1910)
                                  NAME_REFERENCE(1888,1910)
                                    PACKAGE_REFERENCE(1888,1891)
                                      PsiElement(identifier)('io')(1888,1890)
                                      PsiElement(:)(':')(1890,1891)
                                    PsiElement(identifier)('ReadableByteChannel')(1891,1910)
                          PsiElement())(')')(1910,1911)
                      PsiWhiteSpace(' ')(1911,1912)
                      PsiElement({)('{')(1912,1913)
                      PsiWhiteSpace('\n            ')(1913,1926)
                      PsiComment(LINE_COMMENT)('//Writes the incoming stream to a file. First get the destination')(1926,1991)
                      PsiWhiteSpace('\n            ')(1991,2004)
                      PsiComment(LINE_COMMENT)('//channel by providing the file name, the content should be')(2004,2063)
                      PsiWhiteSpace('\n            ')(2063,2076)
                      PsiComment(LINE_COMMENT)('//written to.')(2076,2089)
                      PsiWhiteSpace('\n            ')(2089,2102)
                      BLOCK(2102,2552)
                        STATEMENT(2102,2210)
                          VARIABLE_DEFINITION_STATEMENT(2102,2210)
                            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(2102,2210)
                              SIMPLE_TYPE_NAME(2102,2124)
                                REFERENCE_TYPE_NAME(2102,2124)
                                  USER_DEFINE_TYPE_NAME(2102,2124)
                                    NAME_REFERENCE(2102,2124)
                                      PACKAGE_REFERENCE(2102,2105)
                                        PsiElement(identifier)('io')(2102,2104)
                                        PsiElement(:)(':')(2104,2105)
                                      PsiElement(identifier)('WritableByteChannel')(2105,2124)
                              PsiWhiteSpace(' ')(2124,2125)
                              BINDING_PATTERN(2125,2143)
                                PsiElement(identifier)('destinationChannel')(2125,2143)
                              PsiWhiteSpace(' ')(2143,2144)
                              PsiElement(=)('=')(2144,2145)
                              PsiWhiteSpace('\n                ')(2145,2162)
                              VARIABLE_REFERENCE_EXPRESSION(2162,2209)
                                FUNCTION_INVOCATION_REFERENCE(2162,2209)
                                  FUNCTION_INVOCATION(2162,2209)
                                    FUNCTION_NAME_REFERENCE(2162,2181)
                                      PACKAGE_REFERENCE(2162,2165)
                                        PsiElement(identifier)('io')(2162,2164)
                                        PsiElement(:)(':')(2164,2165)
                                      ANY_IDENTIFIER_NAME(2165,2181)
                                        PsiElement(identifier)('openWritableFile')(2165,2181)
                                    PsiElement(()('(')(2181,2182)
                                    INVOCATION_ARG_LIST(2182,2208)
                                      INVOCATION_ARG(2182,2208)
                                        SIMPLE_LITERAL_EXPRESSION(2182,2208)
                                          SIMPLE_LITERAL(2182,2208)
                                            PsiElement(QUOTED_STRING_LITERAL)('"./files/ReceivedFile.pdf"')(2182,2208)
                                    PsiElement())(')')(2208,2209)
                              PsiElement(;)(';')(2209,2210)
                        PsiWhiteSpace('\n            ')(2210,2223)
                        STATEMENT(2223,2270)
                          VARIABLE_DEFINITION_STATEMENT(2223,2270)
                            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(2223,2270)
                              PsiElement(var)('var')(2223,2226)
                              PsiWhiteSpace(' ')(2226,2227)
                              BINDING_PATTERN(2227,2233)
                                PsiElement(identifier)('result')(2227,2233)
                              PsiWhiteSpace(' ')(2233,2234)
                              PsiElement(=)('=')(2234,2235)
                              PsiWhiteSpace(' ')(2235,2236)
                              VARIABLE_REFERENCE_EXPRESSION(2236,2269)
                                FUNCTION_INVOCATION_REFERENCE(2236,2269)
                                  FUNCTION_INVOCATION(2236,2269)
                                    FUNCTION_NAME_REFERENCE(2236,2240)
                                      ANY_IDENTIFIER_NAME(2236,2240)
                                        PsiElement(identifier)('copy')(2236,2240)
                                    PsiElement(()('(')(2240,2241)
                                    INVOCATION_ARG_LIST(2241,2268)
                                      INVOCATION_ARG(2241,2248)
                                        VARIABLE_REFERENCE_EXPRESSION(2241,2248)
                                          SIMPLE_VARIABLE_REFERENCE(2241,2248)
                                            NAME_REFERENCE(2241,2248)
                                              PsiElement(identifier)('payload')(2241,2248)
                                      PsiElement(,)(',')(2248,2249)
                                      PsiWhiteSpace(' ')(2249,2250)
                                      INVOCATION_ARG(2250,2268)
                                        VARIABLE_REFERENCE_EXPRESSION(2250,2268)
                                          SIMPLE_VARIABLE_REFERENCE(2250,2268)
                                            NAME_REFERENCE(2250,2268)
                                              PsiElement(identifier)('destinationChannel')(2250,2268)
                                    PsiElement())(')')(2268,2269)
                              PsiElement(;)(';')(2269,2270)
                        PsiWhiteSpace('\n            ')(2270,2283)
                        STATEMENT(2283,2438)
                          IF_ELSE_STATEMENT(2283,2438)
                            IF_CLAUSE(2283,2438)
                              PsiElement(if)('if')(2283,2285)
                              PsiWhiteSpace(' ')(2285,2286)
                              BRACED_OR_TUPLE_EXPRESSION(2286,2303)
                                TUPLE_LITERAL(2286,2303)
                                  PsiElement(()('(')(2286,2287)
                                  TYPE_TEST_EXPRESSION(2287,2302)
                                    VARIABLE_REFERENCE_EXPRESSION(2287,2293)
                                      SIMPLE_VARIABLE_REFERENCE(2287,2293)
                                        NAME_REFERENCE(2287,2293)
                                          PsiElement(identifier)('result')(2287,2293)
                                    PsiWhiteSpace(' ')(2293,2294)
                                    PsiElement(is)('is')(2294,2296)
                                    PsiWhiteSpace(' ')(2296,2297)
                                    SIMPLE_TYPE_NAME(2297,2302)
                                      REFERENCE_TYPE_NAME(2297,2302)
                                        BUILT_IN_REFERENCE_TYPE_NAME(2297,2302)
                                          ERROR_TYPE_NAME(2297,2302)
                                            PsiElement(error)('error')(2297,2302)
                                  PsiElement())(')')(2302,2303)
                              PsiWhiteSpace(' ')(2303,2304)
                              PsiElement({)('{')(2304,2305)
                              PsiWhiteSpace('\n                ')(2305,2322)
                              BLOCK(2322,2424)
                                STATEMENT(2322,2424)
                                  EXPRESSION_STMT(2322,2424)
                                    VARIABLE_REFERENCE_EXPRESSION(2322,2423)
                                      FUNCTION_INVOCATION_REFERENCE(2322,2423)
                                        FUNCTION_INVOCATION(2322,2423)
                                          FUNCTION_NAME_REFERENCE(2322,2336)
                                            PACKAGE_REFERENCE(2322,2326)
                                              PsiElement(identifier)('log')(2322,2325)
                                              PsiElement(:)(':')(2325,2326)
                                            ANY_IDENTIFIER_NAME(2326,2336)
                                              PsiElement(identifier)('printError')(2326,2336)
                                          PsiElement(()('(')(2336,2337)
                                          INVOCATION_ARG_LIST(2337,2422)
                                            INVOCATION_ARG(2337,2376)
                                              SIMPLE_LITERAL_EXPRESSION(2337,2376)
                                                SIMPLE_LITERAL(2337,2376)
                                                  PsiElement(QUOTED_STRING_LITERAL)('"error occurred while performing copy "')(2337,2376)
                                            PsiElement(,)(',')(2376,2377)
                                            PsiWhiteSpace('\n                                ')(2377,2410)
                                            INVOCATION_ARG(2410,2422)
                                              NAMED_ARGS(2410,2422)
                                                PsiElement(identifier)('err')(2410,2413)
                                                PsiWhiteSpace(' ')(2413,2414)
                                                PsiElement(=)('=')(2414,2415)
                                                PsiWhiteSpace(' ')(2415,2416)
                                                VARIABLE_REFERENCE_EXPRESSION(2416,2422)
                                                  SIMPLE_VARIABLE_REFERENCE(2416,2422)
                                                    NAME_REFERENCE(2416,2422)
                                                      PsiElement(identifier)('result')(2416,2422)
                                          PsiElement())(')')(2422,2423)
                                    PsiElement(;)(';')(2423,2424)
                              PsiWhiteSpace('\n            ')(2424,2437)
                              PsiElement(})('}')(2437,2438)
                        PsiWhiteSpace('\n            ')(2438,2451)
                        STATEMENT(2451,2466)
                          EXPRESSION_STMT(2451,2466)
                            VARIABLE_REFERENCE_EXPRESSION(2451,2465)
                              FUNCTION_INVOCATION_REFERENCE(2451,2465)
                                FUNCTION_INVOCATION(2451,2465)
                                  FUNCTION_NAME_REFERENCE(2451,2456)
                                    ANY_IDENTIFIER_NAME(2451,2456)
                                      PsiElement(identifier)('close')(2451,2456)
                                  PsiElement(()('(')(2456,2457)
                                  INVOCATION_ARG_LIST(2457,2464)
                                    INVOCATION_ARG(2457,2464)
                                      VARIABLE_REFERENCE_EXPRESSION(2457,2464)
                                        SIMPLE_VARIABLE_REFERENCE(2457,2464)
                                          NAME_REFERENCE(2457,2464)
                                            PsiElement(identifier)('payload')(2457,2464)
                                  PsiElement())(')')(2464,2465)
                            PsiElement(;)(';')(2465,2466)
                        PsiWhiteSpace('\n            ')(2466,2479)
                        STATEMENT(2479,2505)
                          EXPRESSION_STMT(2479,2505)
                            VARIABLE_REFERENCE_EXPRESSION(2479,2504)
                              FUNCTION_INVOCATION_REFERENCE(2479,2504)
                                FUNCTION_INVOCATION(2479,2504)
                                  FUNCTION_NAME_REFERENCE(2479,2484)
                                    ANY_IDENTIFIER_NAME(2479,2484)
                                      PsiElement(identifier)('close')(2479,2484)
                                  PsiElement(()('(')(2484,2485)
                                  INVOCATION_ARG_LIST(2485,2503)
                                    INVOCATION_ARG(2485,2503)
                                      VARIABLE_REFERENCE_EXPRESSION(2485,2503)
                                        SIMPLE_VARIABLE_REFERENCE(2485,2503)
                                          NAME_REFERENCE(2485,2503)
                                            PsiElement(identifier)('destinationChannel')(2485,2503)
                                  PsiElement())(')')(2503,2504)
                            PsiElement(;)(';')(2504,2505)
                        PsiWhiteSpace('\n\n            ')(2505,2519)
                        STATEMENT(2519,2552)
                          EXPRESSION_STMT(2519,2552)
                            VARIABLE_REFERENCE_EXPRESSION(2519,2551)
                              INVOCATION_REFERENCE(2519,2551)
                                SIMPLE_VARIABLE_REFERENCE(2519,2522)
                                  NAME_REFERENCE(2519,2522)
                                    PsiElement(identifier)('res')(2519,2522)
                                INVOCATION(2522,2551)
                                  PsiElement(.)('.')(2522,2523)
                                  ANY_IDENTIFIER_NAME(2523,2533)
                                    PsiElement(identifier)('setPayload')(2523,2533)
                                  PsiElement(()('(')(2533,2534)
                                  INVOCATION_ARG_LIST(2534,2550)
                                    INVOCATION_ARG(2534,2550)
                                      SIMPLE_LITERAL_EXPRESSION(2534,2550)
                                        SIMPLE_LITERAL(2534,2550)
                                          PsiElement(QUOTED_STRING_LITERAL)('"File Received!"')(2534,2550)
                                  PsiElement())(')')(2550,2551)
                            PsiElement(;)(';')(2551,2552)
                      PsiWhiteSpace('\n        ')(2552,2561)
                      PsiElement(})('}')(2561,2562)
                    PsiWhiteSpace(' ')(2562,2563)
                    ELSE_CLAUSE(2563,2615)
                      PsiElement(else)('else')(2563,2567)
                      PsiWhiteSpace(' ')(2567,2568)
                      PsiElement({)('{')(2568,2569)
                      PsiWhiteSpace('\n            ')(2569,2582)
                      BLOCK(2582,2605)
                        STATEMENT(2582,2605)
                          EXPRESSION_STMT(2582,2605)
                            VARIABLE_REFERENCE_EXPRESSION(2582,2604)
                              FUNCTION_INVOCATION_REFERENCE(2582,2604)
                                FUNCTION_INVOCATION(2582,2604)
                                  FUNCTION_NAME_REFERENCE(2582,2590)
                                    ANY_IDENTIFIER_NAME(2582,2590)
                                      PsiElement(identifier)('setError')(2582,2590)
                                  PsiElement(()('(')(2590,2591)
                                  INVOCATION_ARG_LIST(2591,2603)
                                    INVOCATION_ARG(2591,2594)
                                      VARIABLE_REFERENCE_EXPRESSION(2591,2594)
                                        SIMPLE_VARIABLE_REFERENCE(2591,2594)
                                          NAME_REFERENCE(2591,2594)
                                            PsiElement(identifier)('res')(2591,2594)
                                    PsiElement(,)(',')(2594,2595)
                                    PsiWhiteSpace(' ')(2595,2596)
                                    INVOCATION_ARG(2596,2603)
                                      VARIABLE_REFERENCE_EXPRESSION(2596,2603)
                                        SIMPLE_VARIABLE_REFERENCE(2596,2603)
                                          NAME_REFERENCE(2596,2603)
                                            PsiElement(identifier)('payload')(2596,2603)
                                  PsiElement())(')')(2603,2604)
                            PsiElement(;)(';')(2604,2605)
                      PsiWhiteSpace('\n        ')(2605,2614)
                      PsiElement(})('}')(2614,2615)
                PsiWhiteSpace('\n        ')(2615,2624)
                STATEMENT(2624,2658)
                  VARIABLE_DEFINITION_STATEMENT(2624,2658)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(2624,2658)
                      PsiElement(var)('var')(2624,2627)
                      PsiWhiteSpace(' ')(2627,2628)
                      BINDING_PATTERN(2628,2634)
                        PsiElement(identifier)('result')(2628,2634)
                      PsiWhiteSpace(' ')(2634,2635)
                      PsiElement(=)('=')(2635,2636)
                      PsiWhiteSpace(' ')(2636,2637)
                      ACTION_INVOCATION_EXPRESSION(2637,2657)
                        ACTION_INVOCATION(2637,2657)
                          SIMPLE_VARIABLE_REFERENCE(2637,2643)
                            NAME_REFERENCE(2637,2643)
                              PsiElement(identifier)('caller')(2637,2643)
                          PsiElement(->)('->')(2643,2645)
                          FUNCTION_INVOCATION(2645,2657)
                            FUNCTION_NAME_REFERENCE(2645,2652)
                              ANY_IDENTIFIER_NAME(2645,2652)
                                PsiElement(identifier)('respond')(2645,2652)
                            PsiElement(()('(')(2652,2653)
                            INVOCATION_ARG_LIST(2653,2656)
                              INVOCATION_ARG(2653,2656)
                                VARIABLE_REFERENCE_EXPRESSION(2653,2656)
                                  SIMPLE_VARIABLE_REFERENCE(2653,2656)
                                    NAME_REFERENCE(2653,2656)
                                      PsiElement(identifier)('res')(2653,2656)
                            PsiElement())(')')(2656,2657)
                      PsiElement(;)(';')(2657,2658)
                PsiWhiteSpace('\n        ')(2658,2667)
                STATEMENT(2667,2808)
                  IF_ELSE_STATEMENT(2667,2808)
                    IF_CLAUSE(2667,2808)
                      PsiElement(if)('if')(2667,2669)
                      PsiWhiteSpace(' ')(2669,2670)
                      BRACED_OR_TUPLE_EXPRESSION(2670,2687)
                        TUPLE_LITERAL(2670,2687)
                          PsiElement(()('(')(2670,2671)
                          TYPE_TEST_EXPRESSION(2671,2686)
                            VARIABLE_REFERENCE_EXPRESSION(2671,2677)
                              SIMPLE_VARIABLE_REFERENCE(2671,2677)
                                NAME_REFERENCE(2671,2677)
                                  PsiElement(identifier)('result')(2671,2677)
                            PsiWhiteSpace(' ')(2677,2678)
                            PsiElement(is)('is')(2678,2680)
                            PsiWhiteSpace(' ')(2680,2681)
                            SIMPLE_TYPE_NAME(2681,2686)
                              REFERENCE_TYPE_NAME(2681,2686)
                                BUILT_IN_REFERENCE_TYPE_NAME(2681,2686)
                                  ERROR_TYPE_NAME(2681,2686)
                                    PsiElement(error)('error')(2681,2686)
                          PsiElement())(')')(2686,2687)
                      PsiWhiteSpace(' ')(2687,2688)
                      PsiElement({)('{')(2688,2689)
                      PsiWhiteSpace('\n           ')(2689,2701)
                      BLOCK(2701,2798)
                        STATEMENT(2701,2798)
                          EXPRESSION_STMT(2701,2798)
                            VARIABLE_REFERENCE_EXPRESSION(2701,2797)
                              FUNCTION_INVOCATION_REFERENCE(2701,2797)
                                FUNCTION_INVOCATION(2701,2797)
                                  FUNCTION_NAME_REFERENCE(2701,2715)
                                    PACKAGE_REFERENCE(2701,2705)
                                      PsiElement(identifier)('log')(2701,2704)
                                      PsiElement(:)(':')(2704,2705)
                                    ANY_IDENTIFIER_NAME(2705,2715)
                                      PsiElement(identifier)('printError')(2705,2715)
                                  PsiElement(()('(')(2715,2716)
                                  INVOCATION_ARG_LIST(2716,2796)
                                    INVOCATION_ARG(2716,2755)
                                      SIMPLE_LITERAL_EXPRESSION(2716,2755)
                                        SIMPLE_LITERAL(2716,2755)
                                          PsiElement(QUOTED_STRING_LITERAL)('"Error occurred while sending response"')(2716,2755)
                                    PsiElement(,)(',')(2755,2756)
                                    PsiWhiteSpace('\n                           ')(2756,2784)
                                    INVOCATION_ARG(2784,2796)
                                      NAMED_ARGS(2784,2796)
                                        PsiElement(identifier)('err')(2784,2787)
                                        PsiWhiteSpace(' ')(2787,2788)
                                        PsiElement(=)('=')(2788,2789)
                                        PsiWhiteSpace(' ')(2789,2790)
                                        VARIABLE_REFERENCE_EXPRESSION(2790,2796)
                                          SIMPLE_VARIABLE_REFERENCE(2790,2796)
                                            NAME_REFERENCE(2790,2796)
                                              PsiElement(identifier)('result')(2790,2796)
                                  PsiElement())(')')(2796,2797)
                            PsiElement(;)(';')(2797,2798)
                      PsiWhiteSpace('\n        ')(2798,2807)
                      PsiElement(})('}')(2807,2808)
                PsiWhiteSpace('\n    ')(2808,2813)
                PsiElement(})('}')(2813,2814)
          PsiWhiteSpace('\n')(2814,2815)
          PsiElement(})('}')(2815,2816)
  PsiWhiteSpace('\n\n')(2816,2818)
  PsiComment(LINE_COMMENT)('//Sets the error to the response.')(2818,2851)
  PsiWhiteSpace('\n')(2851,2852)
  DEFINITION(2852,2995)
    FUNCTION_DEFINITION(2852,2995)
      PsiElement(function)('function')(2852,2860)
      PsiWhiteSpace(' ')(2860,2861)
      CALLABLE_UNIT_SIGNATURE(2861,2899)
        ANY_IDENTIFIER_NAME(2861,2869)
          PsiElement(identifier)('setError')(2861,2869)
        PsiElement(()('(')(2869,2870)
        FORMAL_PARAMETER_LIST(2870,2898)
          PARAMETER(2870,2887)
            PARAMETER_WITH_TYPE(2870,2887)
              SIMPLE_TYPE_NAME(2870,2883)
                REFERENCE_TYPE_NAME(2870,2883)
                  USER_DEFINE_TYPE_NAME(2870,2883)
                    NAME_REFERENCE(2870,2883)
                      PACKAGE_REFERENCE(2870,2875)
                        PsiElement(identifier)('http')(2870,2874)
                        PsiElement(:)(':')(2874,2875)
                      PsiElement(identifier)('Response')(2875,2883)
              PsiWhiteSpace(' ')(2883,2884)
              PsiElement(identifier)('res')(2884,2887)
          PsiElement(,)(',')(2887,2888)
          PsiWhiteSpace(' ')(2888,2889)
          PARAMETER(2889,2898)
            PARAMETER_WITH_TYPE(2889,2898)
              SIMPLE_TYPE_NAME(2889,2894)
                REFERENCE_TYPE_NAME(2889,2894)
                  BUILT_IN_REFERENCE_TYPE_NAME(2889,2894)
                    ERROR_TYPE_NAME(2889,2894)
                      PsiElement(error)('error')(2889,2894)
              PsiWhiteSpace(' ')(2894,2895)
              PsiElement(identifier)('err')(2895,2898)
        PsiElement())(')')(2898,2899)
      PsiWhiteSpace(' ')(2899,2900)
      CALLABLE_UNIT_BODY(2900,2995)
        PsiElement({)('{')(2900,2901)
        PsiWhiteSpace('\n    ')(2901,2906)
        STATEMENT(2906,2927)
          ASSIGNMENT_STATEMENT(2906,2927)
            FIELD_VARIABLE_REFERENCE(2906,2920)
              SIMPLE_VARIABLE_REFERENCE(2906,2909)
                NAME_REFERENCE(2906,2909)
                  PsiElement(identifier)('res')(2906,2909)
              FIELD(2909,2920)
                PsiElement(.)('.')(2909,2910)
                PsiElement(identifier)('statusCode')(2910,2920)
            PsiWhiteSpace(' ')(2920,2921)
            PsiElement(=)('=')(2921,2922)
            PsiWhiteSpace(' ')(2922,2923)
            SIMPLE_LITERAL_EXPRESSION(2923,2926)
              SIMPLE_LITERAL(2923,2926)
                INTEGER_LITERAL(2923,2926)
                  PsiElement(DECIMAL_INTEGER_LITERAL)('500')(2923,2926)
            PsiElement(;)(';')(2926,2927)
        PsiWhiteSpace('\n    ')(2927,2932)
        STATEMENT(2932,2993)
          EXPRESSION_STMT(2932,2993)
            VARIABLE_REFERENCE_EXPRESSION(2932,2992)
              INVOCATION_REFERENCE(2932,2992)
                SIMPLE_VARIABLE_REFERENCE(2932,2935)
                  NAME_REFERENCE(2932,2935)
                    PsiElement(identifier)('res')(2932,2935)
                INVOCATION(2935,2992)
                  PsiElement(.)('.')(2935,2936)
                  ANY_IDENTIFIER_NAME(2936,2946)
                    PsiElement(identifier)('setPayload')(2936,2946)
                  PsiElement(()('(')(2946,2947)
                  INVOCATION_ARG_LIST(2947,2991)
                    INVOCATION_ARG(2947,2991)
                      UNARY_EXPRESSION(2947,2991)
                        PsiElement(untaint)('untaint')(2947,2954)
                        PsiWhiteSpace(' ')(2954,2955)
                        VARIABLE_REFERENCE_EXPRESSION(2955,2991)
                          TYPE_ACCESS_EXPR_INVOCATION_REFERENCE(2955,2991)
                            TYPE_ACCESS_EXPRESSION(2955,2961)
                              SIMPLE_TYPE_NAME(2955,2961)
                                VALUE_TYPE_NAME(2955,2961)
                                  PsiElement(string)('string')(2955,2961)
                            INVOCATION(2961,2991)
                              PsiElement(.)('.')(2961,2962)
                              ANY_IDENTIFIER_NAME(2962,2969)
                                PsiElement(identifier)('convert')(2962,2969)
                              PsiElement(()('(')(2969,2970)
                              INVOCATION_ARG_LIST(2970,2990)
                                INVOCATION_ARG(2970,2990)
                                  VARIABLE_REFERENCE_EXPRESSION(2970,2990)
                                    FIELD_VARIABLE_REFERENCE(2970,2990)
                                      INVOCATION_REFERENCE(2970,2982)
                                        SIMPLE_VARIABLE_REFERENCE(2970,2973)
                                          NAME_REFERENCE(2970,2973)
                                            PsiElement(identifier)('err')(2970,2973)
                                        INVOCATION(2973,2982)
                                          PsiElement(.)('.')(2973,2974)
                                          ANY_IDENTIFIER_NAME(2974,2980)
                                            PsiElement(identifier)('detail')(2974,2980)
                                          PsiElement(()('(')(2980,2981)
                                          PsiElement())(')')(2981,2982)
                                      FIELD(2982,2990)
                                        PsiElement(.)('.')(2982,2983)
                                        PsiElement(identifier)('message')(2983,2990)
                              PsiElement())(')')(2990,2991)
                  PsiElement())(')')(2991,2992)
            PsiElement(;)(';')(2992,2993)
        PsiWhiteSpace('\n')(2993,2994)
        PsiElement(})('}')(2994,2995)
  PsiWhiteSpace('\n\n')(2995,2997)
  PsiComment(LINE_COMMENT)('// Copies the content from the source channel to the destination channel.')(2997,3070)
  PsiWhiteSpace('\n')(3070,3071)
  DEFINITION(3071,3533)
    FUNCTION_DEFINITION(3071,3533)
      PsiElement(function)('function')(3071,3079)
      PsiWhiteSpace(' ')(3079,3080)
      CALLABLE_UNIT_SIGNATURE(3080,3168)
        ANY_IDENTIFIER_NAME(3080,3084)
          PsiElement(identifier)('copy')(3080,3084)
        PsiElement(()('(')(3084,3085)
        FORMAL_PARAMETER_LIST(3085,3139)
          PARAMETER(3085,3111)
            PARAMETER_WITH_TYPE(3085,3111)
              SIMPLE_TYPE_NAME(3085,3107)
                REFERENCE_TYPE_NAME(3085,3107)
                  USER_DEFINE_TYPE_NAME(3085,3107)
                    NAME_REFERENCE(3085,3107)
                      PACKAGE_REFERENCE(3085,3088)
                        PsiElement(identifier)('io')(3085,3087)
                        PsiElement(:)(':')(3087,3088)
                      PsiElement(identifier)('ReadableByteChannel')(3088,3107)
              PsiWhiteSpace(' ')(3107,3108)
              PsiElement(identifier)('src')(3108,3111)
          PsiElement(,)(',')(3111,3112)
          PsiWhiteSpace(' ')(3112,3113)
          PARAMETER(3113,3139)
            PARAMETER_WITH_TYPE(3113,3139)
              SIMPLE_TYPE_NAME(3113,3135)
                REFERENCE_TYPE_NAME(3113,3135)
                  USER_DEFINE_TYPE_NAME(3113,3135)
                    NAME_REFERENCE(3113,3135)
                      PACKAGE_REFERENCE(3113,3116)
                        PsiElement(identifier)('io')(3113,3115)
                        PsiElement(:)(':')(3115,3116)
                      PsiElement(identifier)('WritableByteChannel')(3116,3135)
              PsiWhiteSpace(' ')(3135,3136)
              PsiElement(identifier)('dst')(3136,3139)
        PsiElement())(')')(3139,3140)
        PsiWhiteSpace('\n             ')(3140,3154)
        RETURN_PARAMETER(3154,3168)
          PsiElement(returns)('returns')(3154,3161)
          PsiWhiteSpace(' ')(3161,3162)
          RETURN_TYPE(3162,3168)
            NULLABLE_TYPE_NAME(3162,3168)
              SIMPLE_TYPE_NAME(3162,3167)
                REFERENCE_TYPE_NAME(3162,3167)
                  BUILT_IN_REFERENCE_TYPE_NAME(3162,3167)
                    ERROR_TYPE_NAME(3162,3167)
                      PsiElement(error)('error')(3162,3167)
              PsiElement(?)('?')(3167,3168)
      PsiWhiteSpace(' ')(3168,3169)
      CALLABLE_UNIT_BODY(3169,3533)
        PsiElement({)('{')(3169,3170)
        PsiWhiteSpace('\n    ')(3170,3175)
        STATEMENT(3175,3193)
          VARIABLE_DEFINITION_STATEMENT(3175,3193)
            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(3175,3193)
              SIMPLE_TYPE_NAME(3175,3178)
                VALUE_TYPE_NAME(3175,3178)
                  PsiElement(int)('int')(3175,3178)
              PsiWhiteSpace(' ')(3178,3179)
              BINDING_PATTERN(3179,3188)
                PsiElement(identifier)('readCount')(3179,3188)
              PsiWhiteSpace(' ')(3188,3189)
              PsiElement(=)('=')(3189,3190)
              PsiWhiteSpace(' ')(3190,3191)
              SIMPLE_LITERAL_EXPRESSION(3191,3192)
                SIMPLE_LITERAL(3191,3192)
                  INTEGER_LITERAL(3191,3192)
                    PsiElement(DECIMAL_INTEGER_LITERAL)('1')(3191,3192)
              PsiElement(;)(';')(3192,3193)
        PsiWhiteSpace('\n    ')(3193,3198)
        STATEMENT(3198,3217)
          VARIABLE_DEFINITION_STATEMENT(3198,3217)
            VARIABLE_DEFINITION_STATEMENT_WITHOUT_ASSIGNMENT(3198,3217)
              ARRAY_TYPE_NAME(3198,3204)
                SIMPLE_TYPE_NAME(3198,3202)
                  VALUE_TYPE_NAME(3198,3202)
                    PsiElement(byte)('byte')(3198,3202)
                PsiElement([)('[')(3202,3203)
                PsiElement(])(']')(3203,3204)
              PsiWhiteSpace(' ')(3204,3205)
              PsiElement(identifier)('readContent')(3205,3216)
              PsiElement(;)(';')(3216,3217)
        PsiWhiteSpace('\n    ')(3217,3222)
        STATEMENT(3222,3519)
          WHILE_STATEMENT(3222,3519)
            PsiElement(while)('while')(3222,3227)
            PsiWhiteSpace(' ')(3227,3228)
            BRACED_OR_TUPLE_EXPRESSION(3228,3243)
              TUPLE_LITERAL(3228,3243)
                PsiElement(()('(')(3228,3229)
                BINARY_COMPARE_EXPRESSION(3229,3242)
                  VARIABLE_REFERENCE_EXPRESSION(3229,3238)
                    SIMPLE_VARIABLE_REFERENCE(3229,3238)
                      NAME_REFERENCE(3229,3238)
                        PsiElement(identifier)('readCount')(3229,3238)
                  PsiWhiteSpace(' ')(3238,3239)
                  PsiElement(>)('>')(3239,3240)
                  PsiWhiteSpace(' ')(3240,3241)
                  SIMPLE_LITERAL_EXPRESSION(3241,3242)
                    SIMPLE_LITERAL(3241,3242)
                      INTEGER_LITERAL(3241,3242)
                        PsiElement(DECIMAL_INTEGER_LITERAL)('0')(3241,3242)
                PsiElement())(')')(3242,3243)
            PsiWhiteSpace(' ')(3243,3244)
            WHILE_STATEMENT_BODY(3244,3519)
              PsiElement({)('{')(3244,3245)
              PsiWhiteSpace('\n        ')(3245,3254)
              PsiComment(LINE_COMMENT)('//Operation attempts to read a maximum of 1000 bytes')(3254,3306)
              PsiWhiteSpace('\n        ')(3306,3315)
              BLOCK(3315,3513)
                STATEMENT(3315,3359)
                  VARIABLE_DEFINITION_STATEMENT(3315,3359)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(3315,3359)
                      TUPLE_TYPE_NAME(3315,3328)
                        PsiElement(()('(')(3315,3316)
                        ARRAY_TYPE_NAME(3316,3322)
                          SIMPLE_TYPE_NAME(3316,3320)
                            VALUE_TYPE_NAME(3316,3320)
                              PsiElement(byte)('byte')(3316,3320)
                          PsiElement([)('[')(3320,3321)
                          PsiElement(])(']')(3321,3322)
                        PsiElement(,)(',')(3322,3323)
                        PsiWhiteSpace(' ')(3323,3324)
                        SIMPLE_TYPE_NAME(3324,3327)
                          VALUE_TYPE_NAME(3324,3327)
                            PsiElement(int)('int')(3324,3327)
                        PsiElement())(')')(3327,3328)
                      PsiWhiteSpace(' ')(3328,3329)
                      BINDING_PATTERN(3329,3335)
                        PsiElement(identifier)('result')(3329,3335)
                      PsiWhiteSpace(' ')(3335,3336)
                      PsiElement(=)('=')(3336,3337)
                      PsiWhiteSpace(' ')(3337,3338)
                      CHECKED_EXPRESSION(3338,3358)
                        PsiElement(check)('check')(3338,3343)
                        PsiWhiteSpace(' ')(3343,3344)
                        VARIABLE_REFERENCE_EXPRESSION(3344,3358)
                          INVOCATION_REFERENCE(3344,3358)
                            SIMPLE_VARIABLE_REFERENCE(3344,3347)
                              NAME_REFERENCE(3344,3347)
                                PsiElement(identifier)('src')(3344,3347)
                            INVOCATION(3347,3358)
                              PsiElement(.)('.')(3347,3348)
                              ANY_IDENTIFIER_NAME(3348,3352)
                                PsiElement(identifier)('read')(3348,3352)
                              PsiElement(()('(')(3352,3353)
                              INVOCATION_ARG_LIST(3353,3357)
                                INVOCATION_ARG(3353,3357)
                                  SIMPLE_LITERAL_EXPRESSION(3353,3357)
                                    SIMPLE_LITERAL(3353,3357)
                                      INTEGER_LITERAL(3353,3357)
                                        PsiElement(DECIMAL_INTEGER_LITERAL)('1000')(3353,3357)
                              PsiElement())(')')(3357,3358)
                      PsiElement(;)(';')(3358,3359)
                PsiWhiteSpace('\n        ')(3359,3368)
                STATEMENT(3368,3402)
                  TUPLE_DESTRUCTURING_STATEMENT(3368,3402)
                    TUPLE_REF_BINDING_PATTERN(3368,3392)
                      PsiElement(()('(')(3368,3369)
                      BINDING_REF_PATTERN(3369,3380)
                        SIMPLE_VARIABLE_REFERENCE(3369,3380)
                          NAME_REFERENCE(3369,3380)
                            PsiElement(identifier)('readContent')(3369,3380)
                      PsiElement(,)(',')(3380,3381)
                      PsiWhiteSpace(' ')(3381,3382)
                      BINDING_REF_PATTERN(3382,3391)
                        SIMPLE_VARIABLE_REFERENCE(3382,3391)
                          NAME_REFERENCE(3382,3391)
                            PsiElement(identifier)('readCount')(3382,3391)
                      PsiElement())(')')(3391,3392)
                    PsiWhiteSpace(' ')(3392,3393)
                    PsiElement(=)('=')(3393,3394)
                    PsiWhiteSpace(' ')(3394,3395)
                    VARIABLE_REFERENCE_EXPRESSION(3395,3401)
                      SIMPLE_VARIABLE_REFERENCE(3395,3401)
                        NAME_REFERENCE(3395,3401)
                          PsiElement(identifier)('result')(3395,3401)
                    PsiElement(;)(';')(3401,3402)
                PsiWhiteSpace('\n        ')(3402,3411)
                PsiComment(LINE_COMMENT)('//Writes the given content into the channel')(3411,3454)
                PsiWhiteSpace('\n        ')(3454,3463)
                STATEMENT(3463,3513)
                  VARIABLE_DEFINITION_STATEMENT(3463,3513)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(3463,3513)
                      PsiElement(var)('var')(3463,3466)
                      PsiWhiteSpace(' ')(3466,3467)
                      BINDING_PATTERN(3467,3478)
                        PsiElement(identifier)('writeResult')(3467,3478)
                      PsiWhiteSpace(' ')(3478,3479)
                      PsiElement(=)('=')(3479,3480)
                      PsiWhiteSpace(' ')(3480,3481)
                      CHECKED_EXPRESSION(3481,3512)
                        PsiElement(check)('check')(3481,3486)
                        PsiWhiteSpace(' ')(3486,3487)
                        VARIABLE_REFERENCE_EXPRESSION(3487,3512)
                          INVOCATION_REFERENCE(3487,3512)
                            SIMPLE_VARIABLE_REFERENCE(3487,3490)
                              NAME_REFERENCE(3487,3490)
                                PsiElement(identifier)('dst')(3487,3490)
                            INVOCATION(3490,3512)
                              PsiElement(.)('.')(3490,3491)
                              ANY_IDENTIFIER_NAME(3491,3496)
                                PsiElement(identifier)('write')(3491,3496)
                              PsiElement(()('(')(3496,3497)
                              INVOCATION_ARG_LIST(3497,3511)
                                INVOCATION_ARG(3497,3508)
                                  VARIABLE_REFERENCE_EXPRESSION(3497,3508)
                                    SIMPLE_VARIABLE_REFERENCE(3497,3508)
                                      NAME_REFERENCE(3497,3508)
                                        PsiElement(identifier)('readContent')(3497,3508)
                                PsiElement(,)(',')(3508,3509)
                                PsiWhiteSpace(' ')(3509,3510)
                                INVOCATION_ARG(3510,3511)
                                  SIMPLE_LITERAL_EXPRESSION(3510,3511)
                                    SIMPLE_LITERAL(3510,3511)
                                      INTEGER_LITERAL(3510,3511)
                                        PsiElement(DECIMAL_INTEGER_LITERAL)('0')(3510,3511)
                              PsiElement())(')')(3511,3512)
                      PsiElement(;)(';')(3512,3513)
              PsiWhiteSpace('\n    ')(3513,3518)
              PsiElement(})('}')(3518,3519)
        PsiWhiteSpace('\n    ')(3519,3524)
        STATEMENT(3524,3531)
          RETURN_STATEMENT(3524,3531)
            PsiElement(return)('return')(3524,3530)
            PsiElement(;)(';')(3530,3531)
        PsiWhiteSpace('\n')(3531,3532)
        PsiElement(})('}')(3532,3533)
  PsiWhiteSpace('\n\n')(3533,3535)
  PsiComment(LINE_COMMENT)('//Closes the byte channel.')(3535,3561)
  PsiWhiteSpace('\n')(3561,3562)
  DEFINITION(3562,3870)
    FUNCTION_DEFINITION(3562,3870)
      PsiElement(function)('function')(3562,3570)
      PsiWhiteSpace(' ')(3570,3571)
      CALLABLE_UNIT_SIGNATURE(3571,3626)
        ANY_IDENTIFIER_NAME(3571,3576)
          PsiElement(identifier)('close')(3571,3576)
        PsiElement(()('(')(3576,3577)
        FORMAL_PARAMETER_LIST(3577,3625)
          PARAMETER(3577,3625)
            PARAMETER_WITH_TYPE(3577,3625)
              UNION_TYPE_NAME(3577,3622)
                SIMPLE_TYPE_NAME(3577,3599)
                  REFERENCE_TYPE_NAME(3577,3599)
                    USER_DEFINE_TYPE_NAME(3577,3599)
                      NAME_REFERENCE(3577,3599)
                        PACKAGE_REFERENCE(3577,3580)
                          PsiElement(identifier)('io')(3577,3579)
                          PsiElement(:)(':')(3579,3580)
                        PsiElement(identifier)('ReadableByteChannel')(3580,3599)
                PsiElement(|)('|')(3599,3600)
                SIMPLE_TYPE_NAME(3600,3622)
                  REFERENCE_TYPE_NAME(3600,3622)
                    USER_DEFINE_TYPE_NAME(3600,3622)
                      NAME_REFERENCE(3600,3622)
                        PACKAGE_REFERENCE(3600,3603)
                          PsiElement(identifier)('io')(3600,3602)
                          PsiElement(:)(':')(3602,3603)
                        PsiElement(identifier)('WritableByteChannel')(3603,3622)
              PsiWhiteSpace(' ')(3622,3623)
              PsiElement(identifier)('ch')(3623,3625)
        PsiElement())(')')(3625,3626)
      PsiWhiteSpace(' ')(3626,3627)
      CALLABLE_UNIT_BODY(3627,3870)
        PsiElement({)('{')(3627,3628)
        PsiWhiteSpace('\n    ')(3628,3633)
        STATEMENT(3633,3724)
          VARIABLE_DEFINITION_STATEMENT(3633,3724)
            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(3633,3724)
              OBJECT_TYPE_NAME(3633,3704)
                PsiElement(abstract)('abstract')(3633,3641)
                PsiWhiteSpace(' ')(3641,3642)
                PsiElement(object)('object')(3642,3648)
                PsiWhiteSpace(' ')(3648,3649)
                PsiElement({)('{')(3649,3650)
                PsiWhiteSpace('\n        ')(3650,3659)
                OBJECT_BODY(3659,3698)
                  OBJECT_FUNCTION_DEFINITION(3659,3698)
                    PsiElement(PUBLIC)('public')(3659,3665)
                    PsiWhiteSpace(' ')(3665,3666)
                    PsiElement(function)('function')(3666,3674)
                    PsiWhiteSpace(' ')(3674,3675)
                    CALLABLE_UNIT_SIGNATURE(3675,3697)
                      ANY_IDENTIFIER_NAME(3675,3680)
                        PsiElement(identifier)('close')(3675,3680)
                      PsiElement(()('(')(3680,3681)
                      PsiElement())(')')(3681,3682)
                      PsiWhiteSpace(' ')(3682,3683)
                      RETURN_PARAMETER(3683,3697)
                        PsiElement(returns)('returns')(3683,3690)
                        PsiWhiteSpace(' ')(3690,3691)
                        RETURN_TYPE(3691,3697)
                          NULLABLE_TYPE_NAME(3691,3697)
                            SIMPLE_TYPE_NAME(3691,3696)
                              REFERENCE_TYPE_NAME(3691,3696)
                                BUILT_IN_REFERENCE_TYPE_NAME(3691,3696)
                                  ERROR_TYPE_NAME(3691,3696)
                                    PsiElement(error)('error')(3691,3696)
                            PsiElement(?)('?')(3696,3697)
                    PsiElement(;)(';')(3697,3698)
                PsiWhiteSpace('\n    ')(3698,3703)
                PsiElement(})('}')(3703,3704)
              PsiWhiteSpace(' ')(3704,3705)
              BINDING_PATTERN(3705,3718)
                PsiElement(identifier)('channelResult')(3705,3718)
              PsiWhiteSpace(' ')(3718,3719)
              PsiElement(=)('=')(3719,3720)
              PsiWhiteSpace(' ')(3720,3721)
              VARIABLE_REFERENCE_EXPRESSION(3721,3723)
                SIMPLE_VARIABLE_REFERENCE(3721,3723)
                  NAME_REFERENCE(3721,3723)
                    PsiElement(identifier)('ch')(3721,3723)
              PsiElement(;)(';')(3723,3724)
        PsiWhiteSpace('\n    ')(3724,3729)
        STATEMENT(3729,3760)
          VARIABLE_DEFINITION_STATEMENT(3729,3760)
            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(3729,3760)
              PsiElement(var)('var')(3729,3732)
              PsiWhiteSpace(' ')(3732,3733)
              BINDING_PATTERN(3733,3735)
                PsiElement(identifier)('cr')(3733,3735)
              PsiWhiteSpace(' ')(3735,3736)
              PsiElement(=)('=')(3736,3737)
              PsiWhiteSpace(' ')(3737,3738)
              VARIABLE_REFERENCE_EXPRESSION(3738,3759)
                INVOCATION_REFERENCE(3738,3759)
                  SIMPLE_VARIABLE_REFERENCE(3738,3751)
                    NAME_REFERENCE(3738,3751)
                      PsiElement(identifier)('channelResult')(3738,3751)
                  INVOCATION(3751,3759)
                    PsiElement(.)('.')(3751,3752)
                    ANY_IDENTIFIER_NAME(3752,3757)
                      PsiElement(identifier)('close')(3752,3757)
                    PsiElement(()('(')(3757,3758)
                    PsiElement())(')')(3758,3759)
              PsiElement(;)(';')(3759,3760)
        PsiWhiteSpace('\n    ')(3760,3765)
        STATEMENT(3765,3868)
          IF_ELSE_STATEMENT(3765,3868)
            IF_CLAUSE(3765,3868)
              PsiElement(if)('if')(3765,3767)
              PsiWhiteSpace(' ')(3767,3768)
              BRACED_OR_TUPLE_EXPRESSION(3768,3781)
                TUPLE_LITERAL(3768,3781)
                  PsiElement(()('(')(3768,3769)
                  TYPE_TEST_EXPRESSION(3769,3780)
                    VARIABLE_REFERENCE_EXPRESSION(3769,3771)
                      SIMPLE_VARIABLE_REFERENCE(3769,3771)
                        NAME_REFERENCE(3769,3771)
                          PsiElement(identifier)('cr')(3769,3771)
                    PsiWhiteSpace(' ')(3771,3772)
                    PsiElement(is)('is')(3772,3774)
                    PsiWhiteSpace(' ')(3774,3775)
                    SIMPLE_TYPE_NAME(3775,3780)
                      REFERENCE_TYPE_NAME(3775,3780)
                        BUILT_IN_REFERENCE_TYPE_NAME(3775,3780)
                          ERROR_TYPE_NAME(3775,3780)
                            PsiElement(error)('error')(3775,3780)
                  PsiElement())(')')(3780,3781)
              PsiWhiteSpace(' ')(3781,3782)
              PsiElement({)('{')(3782,3783)
              PsiWhiteSpace('\n        ')(3783,3792)
              BLOCK(3792,3862)
                STATEMENT(3792,3862)
                  EXPRESSION_STMT(3792,3862)
                    VARIABLE_REFERENCE_EXPRESSION(3792,3861)
                      FUNCTION_INVOCATION_REFERENCE(3792,3861)
                        FUNCTION_INVOCATION(3792,3861)
                          FUNCTION_NAME_REFERENCE(3792,3806)
                            PACKAGE_REFERENCE(3792,3796)
                              PsiElement(identifier)('log')(3792,3795)
                              PsiElement(:)(':')(3795,3796)
                            ANY_IDENTIFIER_NAME(3796,3806)
                              PsiElement(identifier)('printError')(3796,3806)
                          PsiElement(()('(')(3806,3807)
                          INVOCATION_ARG_LIST(3807,3860)
                            INVOCATION_ARG(3807,3850)
                              SIMPLE_LITERAL_EXPRESSION(3807,3850)
                                SIMPLE_LITERAL(3807,3850)
                                  PsiElement(QUOTED_STRING_LITERAL)('"Error occured while closing the channel: "')(3807,3850)
                            PsiElement(,)(',')(3850,3851)
                            PsiWhiteSpace(' ')(3851,3852)
                            INVOCATION_ARG(3852,3860)
                              NAMED_ARGS(3852,3860)
                                PsiElement(identifier)('err')(3852,3855)
                                PsiWhiteSpace(' ')(3855,3856)
                                PsiElement(=)('=')(3856,3857)
                                PsiWhiteSpace(' ')(3857,3858)
                                VARIABLE_REFERENCE_EXPRESSION(3858,3860)
                                  SIMPLE_VARIABLE_REFERENCE(3858,3860)
                                    NAME_REFERENCE(3858,3860)
                                      PsiElement(identifier)('cr')(3858,3860)
                          PsiElement())(')')(3860,3861)
                    PsiElement(;)(';')(3861,3862)
              PsiWhiteSpace('\n    ')(3862,3867)
              PsiElement(})('}')(3867,3868)
        PsiWhiteSpace('\n')(3868,3869)
        PsiElement(})('}')(3869,3870)
