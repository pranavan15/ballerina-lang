Ballerina File(0,1133)
  IMPORT_DECLARATION(0,20)
    PsiElement(import)('import')(0,6)
    PsiWhiteSpace(' ')(6,7)
    ORG_NAME(7,16)
      PsiElement(identifier)('ballerina')(7,16)
    PsiElement(/)('/')(16,17)
    COMPLETE_PACKAGE_NAME(17,19)
      PACKAGE_NAME(17,19)
        PsiElement(identifier)('io')(17,19)
    PsiElement(;)(';')(19,20)
  PsiWhiteSpace('\n')(20,21)
  PsiComment(LINE_COMMENT)('// Import transactions module in order to use participant annotation.')(21,90)
  PsiWhiteSpace('\n')(90,91)
  IMPORT_DECLARATION(91,121)
    PsiElement(import)('import')(91,97)
    PsiWhiteSpace(' ')(97,98)
    ORG_NAME(98,107)
      PsiElement(identifier)('ballerina')(98,107)
    PsiElement(/)('/')(107,108)
    COMPLETE_PACKAGE_NAME(108,120)
      PACKAGE_NAME(108,120)
        PsiElement(identifier)('transactions')(108,120)
    PsiElement(;)(';')(120,121)
  PsiWhiteSpace('\n\n\n')(121,124)
  DEFINITION(124,665)
    FUNCTION_DEFINITION(124,665)
      PsiElement(PUBLIC)('public')(124,130)
      PsiWhiteSpace(' ')(130,131)
      PsiElement(function)('function')(131,139)
      PsiWhiteSpace(' ')(139,140)
      CALLABLE_UNIT_SIGNATURE(140,146)
        ANY_IDENTIFIER_NAME(140,144)
          PsiElement(identifier)('main')(140,144)
        PsiElement(()('(')(144,145)
        PsiElement())(')')(145,146)
      PsiWhiteSpace(' ')(146,147)
      CALLABLE_UNIT_BODY(147,665)
        PsiElement({)('{')(147,148)
        PsiWhiteSpace('\n    ')(148,153)
        PsiComment(LINE_COMMENT)('// `transaction` blocks initiates the transaction, it's called the initiator.')(153,230)
        PsiWhiteSpace('\n    ')(230,235)
        STATEMENT(235,663)
          TRANSACTION_STATEMENT(235,663)
            TRANSACTION_CLAUSE(235,481)
              PsiElement(transaction)('transaction')(235,246)
              PsiWhiteSpace(' ')(246,247)
              PsiElement({)('{')(247,248)
              PsiWhiteSpace('\n        ')(248,257)
              PsiComment(LINE_COMMENT)('// Invoke local participant.')(257,285)
              PsiWhiteSpace('\n        ')(285,294)
              BLOCK(294,475)
                STATEMENT(294,339)
                  VARIABLE_DEFINITION_STATEMENT(294,339)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(294,339)
                      PsiElement(var)('var')(294,297)
                      PsiWhiteSpace(' ')(297,298)
                      BINDING_PATTERN(298,301)
                        PsiElement(identifier)('res')(298,301)
                      PsiWhiteSpace(' ')(301,302)
                      PsiElement(=)('=')(302,303)
                      PsiWhiteSpace(' ')(303,304)
                      TRAP_EXPRESSION(304,338)
                        PsiElement(trap)('trap')(304,308)
                        PsiWhiteSpace(' ')(308,309)
                        VARIABLE_REFERENCE_EXPRESSION(309,338)
                          FUNCTION_INVOCATION_REFERENCE(309,338)
                            FUNCTION_INVOCATION(309,338)
                              FUNCTION_NAME_REFERENCE(309,336)
                                ANY_IDENTIFIER_NAME(309,336)
                                  PsiElement(identifier)('localTransactionParticipant')(309,336)
                              PsiElement(()('(')(336,337)
                              PsiElement())(')')(337,338)
                      PsiElement(;)(';')(338,339)
                PsiWhiteSpace('\n        ')(339,348)
                STATEMENT(348,475)
                  IF_ELSE_STATEMENT(348,475)
                    IF_CLAUSE(348,475)
                      PsiElement(if)('if')(348,350)
                      PsiWhiteSpace(' ')(350,351)
                      BRACED_OR_TUPLE_EXPRESSION(351,365)
                        TUPLE_LITERAL(351,365)
                          PsiElement(()('(')(351,352)
                          TYPE_TEST_EXPRESSION(352,364)
                            VARIABLE_REFERENCE_EXPRESSION(352,355)
                              SIMPLE_VARIABLE_REFERENCE(352,355)
                                NAME_REFERENCE(352,355)
                                  PsiElement(identifier)('res')(352,355)
                            PsiWhiteSpace(' ')(355,356)
                            PsiElement(is)('is')(356,358)
                            PsiWhiteSpace(' ')(358,359)
                            SIMPLE_TYPE_NAME(359,364)
                              REFERENCE_TYPE_NAME(359,364)
                                BUILT_IN_REFERENCE_TYPE_NAME(359,364)
                                  ERROR_TYPE_NAME(359,364)
                                    PsiElement(error)('error')(359,364)
                          PsiElement())(')')(364,365)
                      PsiWhiteSpace(' ')(365,366)
                      PsiElement({)('{')(366,367)
                      PsiWhiteSpace('\n            ')(367,380)
                      PsiComment(LINE_COMMENT)('// local participant panicked.')(380,410)
                      PsiWhiteSpace('\n            ')(410,423)
                      BLOCK(423,465)
                        STATEMENT(423,465)
                          EXPRESSION_STMT(423,465)
                            VARIABLE_REFERENCE_EXPRESSION(423,464)
                              FUNCTION_INVOCATION_REFERENCE(423,464)
                                FUNCTION_INVOCATION(423,464)
                                  FUNCTION_NAME_REFERENCE(423,433)
                                    PACKAGE_REFERENCE(423,426)
                                      PsiElement(identifier)('io')(423,425)
                                      PsiElement(:)(':')(425,426)
                                    ANY_IDENTIFIER_NAME(426,433)
                                      PsiElement(identifier)('println')(426,433)
                                  PsiElement(()('(')(433,434)
                                  INVOCATION_ARG_LIST(434,463)
                                    INVOCATION_ARG(434,463)
                                      SIMPLE_LITERAL_EXPRESSION(434,463)
                                        SIMPLE_LITERAL(434,463)
                                          PsiElement(QUOTED_STRING_LITERAL)('"Local participant panicked."')(434,463)
                                  PsiElement())(')')(463,464)
                            PsiElement(;)(';')(464,465)
                      PsiWhiteSpace('\n        ')(465,474)
                      PsiElement(})('}')(474,475)
              PsiWhiteSpace('\n    ')(475,480)
              PsiElement(})('}')(480,481)
            PsiWhiteSpace(' ')(481,482)
            ON_RETRY_CLAUSE(482,541)
              PsiElement(onretry)('onretry')(482,489)
              PsiWhiteSpace(' ')(489,490)
              PsiElement({)('{')(490,491)
              PsiWhiteSpace('\n        ')(491,500)
              BLOCK(500,535)
                STATEMENT(500,535)
                  EXPRESSION_STMT(500,535)
                    VARIABLE_REFERENCE_EXPRESSION(500,534)
                      FUNCTION_INVOCATION_REFERENCE(500,534)
                        FUNCTION_INVOCATION(500,534)
                          FUNCTION_NAME_REFERENCE(500,510)
                            PACKAGE_REFERENCE(500,503)
                              PsiElement(identifier)('io')(500,502)
                              PsiElement(:)(':')(502,503)
                            ANY_IDENTIFIER_NAME(503,510)
                              PsiElement(identifier)('println')(503,510)
                          PsiElement(()('(')(510,511)
                          INVOCATION_ARG_LIST(511,533)
                            INVOCATION_ARG(511,533)
                              SIMPLE_LITERAL_EXPRESSION(511,533)
                                SIMPLE_LITERAL(511,533)
                                  PsiElement(QUOTED_STRING_LITERAL)('"Retrying transaction"')(511,533)
                          PsiElement())(')')(533,534)
                    PsiElement(;)(';')(534,535)
              PsiWhiteSpace('\n    ')(535,540)
              PsiElement(})('}')(540,541)
            PsiWhiteSpace(' ')(541,542)
            COMMITTED_ABORTED_CLAUSES(542,663)
              COMMITTED_CLAUSE(542,604)
                PsiElement(committed)('committed')(542,551)
                PsiWhiteSpace(' ')(551,552)
                PsiElement({)('{')(552,553)
                PsiWhiteSpace('\n        ')(553,562)
                BLOCK(562,598)
                  STATEMENT(562,598)
                    EXPRESSION_STMT(562,598)
                      VARIABLE_REFERENCE_EXPRESSION(562,597)
                        FUNCTION_INVOCATION_REFERENCE(562,597)
                          FUNCTION_INVOCATION(562,597)
                            FUNCTION_NAME_REFERENCE(562,572)
                              PACKAGE_REFERENCE(562,565)
                                PsiElement(identifier)('io')(562,564)
                                PsiElement(:)(':')(564,565)
                              ANY_IDENTIFIER_NAME(565,572)
                                PsiElement(identifier)('println')(565,572)
                            PsiElement(()('(')(572,573)
                            INVOCATION_ARG_LIST(573,596)
                              INVOCATION_ARG(573,596)
                                SIMPLE_LITERAL_EXPRESSION(573,596)
                                  SIMPLE_LITERAL(573,596)
                                    PsiElement(QUOTED_STRING_LITERAL)('"Transaction committed"')(573,596)
                            PsiElement())(')')(596,597)
                      PsiElement(;)(';')(597,598)
                PsiWhiteSpace('\n    ')(598,603)
                PsiElement(})('}')(603,604)
              PsiWhiteSpace(' ')(604,605)
              ABORTED_CLAUSE(605,663)
                PsiElement(aborted)('aborted')(605,612)
                PsiWhiteSpace(' ')(612,613)
                PsiElement({)('{')(613,614)
                PsiWhiteSpace('\n        ')(614,623)
                BLOCK(623,657)
                  STATEMENT(623,657)
                    EXPRESSION_STMT(623,657)
                      VARIABLE_REFERENCE_EXPRESSION(623,656)
                        FUNCTION_INVOCATION_REFERENCE(623,656)
                          FUNCTION_INVOCATION(623,656)
                            FUNCTION_NAME_REFERENCE(623,633)
                              PACKAGE_REFERENCE(623,626)
                                PsiElement(identifier)('io')(623,625)
                                PsiElement(:)(':')(625,626)
                              ANY_IDENTIFIER_NAME(626,633)
                                PsiElement(identifier)('println')(626,633)
                            PsiElement(()('(')(633,634)
                            INVOCATION_ARG_LIST(634,655)
                              INVOCATION_ARG(634,655)
                                SIMPLE_LITERAL_EXPRESSION(634,655)
                                  SIMPLE_LITERAL(634,655)
                                    PsiElement(QUOTED_STRING_LITERAL)('"Transaction aborted"')(634,655)
                            PsiElement())(')')(655,656)
                      PsiElement(;)(';')(656,657)
                PsiWhiteSpace('\n    ')(657,662)
                PsiElement(})('}')(662,663)
        PsiWhiteSpace('\n')(663,664)
        PsiElement(})('}')(664,665)
  PsiWhiteSpace('\n\n')(665,667)
  PsiComment(LINE_COMMENT)('// `@transactions:Participant` annotation from `transactions` package is used to indicate')(667,756)
  PsiWhiteSpace('\n')(756,757)
  PsiComment(LINE_COMMENT)('// function as a local participant.')(757,792)
  PsiWhiteSpace('\n')(792,793)
  DEFINITION(793,1010)
    ANNOTATION_ATTACHMENT(793,856)
      PsiElement(@)('@')(793,794)
      NAME_REFERENCE(794,818)
        PACKAGE_REFERENCE(794,807)
          PsiElement(identifier)('transactions')(794,806)
          PsiElement(:)(':')(806,807)
        PsiElement(identifier)('Participant')(807,818)
      PsiWhiteSpace(' ')(818,819)
      RECORD_LITERAL(819,856)
        PsiElement({)('{')(819,820)
        PsiWhiteSpace('\n    ')(820,825)
        RECORD_LITERAL_BODY(825,854)
          RECORD_KEY_VALUE(825,854)
            RECORD_KEY(825,833)
              VARIABLE_REFERENCE_EXPRESSION(825,833)
                SIMPLE_VARIABLE_REFERENCE(825,833)
                  NAME_REFERENCE(825,833)
                    PsiElement(identifier)('oncommit')(825,833)
            PsiElement(:)(':')(833,834)
            PsiWhiteSpace(' ')(834,835)
            VARIABLE_REFERENCE_EXPRESSION(835,854)
              SIMPLE_VARIABLE_REFERENCE(835,854)
                NAME_REFERENCE(835,854)
                  PsiElement(identifier)('participantOnCommit')(835,854)
        PsiWhiteSpace('\n')(854,855)
        PsiElement(})('}')(855,856)
    PsiWhiteSpace('\n')(856,857)
    DEFINITION(857,1010)
      FUNCTION_DEFINITION(857,1010)
        PsiElement(function)('function')(857,865)
        PsiWhiteSpace(' ')(865,866)
        CALLABLE_UNIT_SIGNATURE(866,895)
          ANY_IDENTIFIER_NAME(866,893)
            PsiElement(identifier)('localTransactionParticipant')(866,893)
          PsiElement(()('(')(893,894)
          PsiElement())(')')(894,895)
        PsiWhiteSpace(' ')(895,896)
        CALLABLE_UNIT_BODY(896,1010)
          PsiElement({)('{')(896,897)
          PsiWhiteSpace('\n    ')(897,902)
          STATEMENT(902,951)
            EXPRESSION_STMT(902,951)
              VARIABLE_REFERENCE_EXPRESSION(902,950)
                FUNCTION_INVOCATION_REFERENCE(902,950)
                  FUNCTION_INVOCATION(902,950)
                    FUNCTION_NAME_REFERENCE(902,912)
                      PACKAGE_REFERENCE(902,905)
                        PsiElement(identifier)('io')(902,904)
                        PsiElement(:)(':')(904,905)
                      ANY_IDENTIFIER_NAME(905,912)
                        PsiElement(identifier)('println')(905,912)
                    PsiElement(()('(')(912,913)
                    INVOCATION_ARG_LIST(913,949)
                      INVOCATION_ARG(913,949)
                        SIMPLE_LITERAL_EXPRESSION(913,949)
                          SIMPLE_LITERAL(913,949)
                            PsiElement(QUOTED_STRING_LITERAL)('"Invoke local participant function."')(913,949)
                    PsiElement())(')')(949,950)
              PsiElement(;)(';')(950,951)
          PsiWhiteSpace('\n    ')(951,956)
          STATEMENT(956,994)
            VARIABLE_DEFINITION_STATEMENT(956,994)
              VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(956,994)
                SIMPLE_TYPE_NAME(956,961)
                  REFERENCE_TYPE_NAME(956,961)
                    BUILT_IN_REFERENCE_TYPE_NAME(956,961)
                      ERROR_TYPE_NAME(956,961)
                        PsiElement(error)('error')(956,961)
                PsiWhiteSpace(' ')(961,962)
                BINDING_PATTERN(962,964)
                  PsiElement(identifier)('er')(962,964)
                PsiWhiteSpace(' ')(964,965)
                PsiElement(=)('=')(965,966)
                PsiWhiteSpace(' ')(966,967)
                ERROR_CONSTRUCTOR_EXPRESSION(967,993)
                  PsiElement(error)('error')(967,972)
                  PsiElement(()('(')(972,973)
                  SIMPLE_LITERAL_EXPRESSION(973,992)
                    SIMPLE_LITERAL(973,992)
                      PsiElement(QUOTED_STRING_LITERAL)('"Simulated Failure"')(973,992)
                  PsiElement())(')')(992,993)
                PsiElement(;)(';')(993,994)
          PsiWhiteSpace('\n    ')(994,999)
          STATEMENT(999,1008)
            PANIC_STATEMENT(999,1008)
              PsiElement(panic)('panic')(999,1004)
              PsiWhiteSpace(' ')(1004,1005)
              VARIABLE_REFERENCE_EXPRESSION(1005,1007)
                SIMPLE_VARIABLE_REFERENCE(1005,1007)
                  NAME_REFERENCE(1005,1007)
                    PsiElement(identifier)('er')(1005,1007)
              PsiElement(;)(';')(1007,1008)
          PsiWhiteSpace('\n')(1008,1009)
          PsiElement(})('}')(1009,1010)
  PsiWhiteSpace('\n\n')(1010,1012)
  DEFINITION(1012,1133)
    FUNCTION_DEFINITION(1012,1133)
      PsiElement(function)('function')(1012,1020)
      PsiWhiteSpace(' ')(1020,1021)
      CALLABLE_UNIT_SIGNATURE(1021,1062)
        ANY_IDENTIFIER_NAME(1021,1040)
          PsiElement(identifier)('participantOnCommit')(1021,1040)
        PsiElement(()('(')(1040,1041)
        FORMAL_PARAMETER_LIST(1041,1061)
          PARAMETER(1041,1061)
            PARAMETER_WITH_TYPE(1041,1061)
              SIMPLE_TYPE_NAME(1041,1047)
                VALUE_TYPE_NAME(1041,1047)
                  PsiElement(string)('string')(1041,1047)
              PsiWhiteSpace(' ')(1047,1048)
              PsiElement(identifier)('transactionId')(1048,1061)
        PsiElement())(')')(1061,1062)
      PsiWhiteSpace(' ')(1062,1063)
      CALLABLE_UNIT_BODY(1063,1133)
        PsiElement({)('{')(1063,1064)
        PsiWhiteSpace('\n    ')(1064,1069)
        STATEMENT(1069,1131)
          EXPRESSION_STMT(1069,1131)
            VARIABLE_REFERENCE_EXPRESSION(1069,1130)
              FUNCTION_INVOCATION_REFERENCE(1069,1130)
                FUNCTION_INVOCATION(1069,1130)
                  FUNCTION_NAME_REFERENCE(1069,1079)
                    PACKAGE_REFERENCE(1069,1072)
                      PsiElement(identifier)('io')(1069,1071)
                      PsiElement(:)(':')(1071,1072)
                    ANY_IDENTIFIER_NAME(1072,1079)
                      PsiElement(identifier)('println')(1072,1079)
                  PsiElement(()('(')(1079,1080)
                  INVOCATION_ARG_LIST(1080,1129)
                    INVOCATION_ARG(1080,1129)
                      SIMPLE_LITERAL_EXPRESSION(1080,1129)
                        SIMPLE_LITERAL(1080,1129)
                          PsiElement(QUOTED_STRING_LITERAL)('"Local participant committed function handler..."')(1080,1129)
                  PsiElement())(')')(1129,1130)
            PsiElement(;)(';')(1130,1131)
        PsiWhiteSpace('\n')(1131,1132)
        PsiElement(})('}')(1132,1133)
