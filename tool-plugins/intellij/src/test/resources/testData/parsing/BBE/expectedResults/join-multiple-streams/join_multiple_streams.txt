Ballerina File(0,4634)
  IMPORT_DECLARATION(0,22)
    PsiElement(import)('import')(0,6)
    PsiWhiteSpace(' ')(6,7)
    ORG_NAME(7,16)
      PsiElement(identifier)('ballerina')(7,16)
    PsiElement(/)('/')(16,17)
    COMPLETE_PACKAGE_NAME(17,21)
      PACKAGE_NAME(17,21)
        PsiElement(identifier)('http')(17,21)
    PsiElement(;)(';')(21,22)
  PsiWhiteSpace('\n')(22,23)
  IMPORT_DECLARATION(23,43)
    PsiElement(import)('import')(23,29)
    PsiWhiteSpace(' ')(29,30)
    ORG_NAME(30,39)
      PsiElement(identifier)('ballerina')(30,39)
    PsiElement(/)('/')(39,40)
    COMPLETE_PACKAGE_NAME(40,42)
      PACKAGE_NAME(40,42)
        PsiElement(identifier)('io')(40,42)
    PsiElement(;)(';')(42,43)
  PsiWhiteSpace('\n\n')(43,45)
  DEFINITION(45,112)
    TYPE_DEFINITION(45,112)
      PsiElement(type)('type')(45,49)
      PsiWhiteSpace(' ')(49,50)
      PsiElement(identifier)('ProductMaterial')(50,65)
      PsiWhiteSpace(' ')(65,66)
      FINITE_TYPE(66,111)
        FINITE_TYPE_UNIT(66,111)
          RECORD_TYPE_NAME(66,111)
            PsiElement(record)('record')(66,72)
            PsiWhiteSpace(' ')(72,73)
            PsiElement({)('{')(73,74)
            PsiWhiteSpace('\n    ')(74,79)
            RECORD_FIELD_DEFINITION_LIST(79,109)
              FIELD_DEFINITION(79,91)
                SIMPLE_TYPE_NAME(79,85)
                  VALUE_TYPE_NAME(79,85)
                    PsiElement(string)('string')(79,85)
                PsiWhiteSpace(' ')(85,86)
                PsiElement(identifier)('name')(86,90)
                PsiElement(;)(';')(90,91)
              PsiWhiteSpace('\n    ')(91,96)
              FIELD_DEFINITION(96,109)
                SIMPLE_TYPE_NAME(96,101)
                  VALUE_TYPE_NAME(96,101)
                    PsiElement(float)('float')(96,101)
                PsiWhiteSpace(' ')(101,102)
                PsiElement(identifier)('amount')(102,108)
                PsiElement(;)(';')(108,109)
            PsiWhiteSpace('\n')(109,110)
            PsiElement(})('}')(110,111)
      PsiElement(;)(';')(111,112)
  PsiWhiteSpace('\n\n')(112,114)
  DEFINITION(114,217)
    TYPE_DEFINITION(114,217)
      PsiElement(type)('type')(114,118)
      PsiWhiteSpace(' ')(118,119)
      PsiElement(identifier)('MaterialUsage')(119,132)
      PsiWhiteSpace(' ')(132,133)
      FINITE_TYPE(133,216)
        FINITE_TYPE_UNIT(133,216)
          RECORD_TYPE_NAME(133,216)
            PsiElement(record)('record')(133,139)
            PsiWhiteSpace(' ')(139,140)
            PsiElement({)('{')(140,141)
            PsiWhiteSpace('\n    ')(141,146)
            RECORD_FIELD_DEFINITION_LIST(146,214)
              FIELD_DEFINITION(146,158)
                SIMPLE_TYPE_NAME(146,152)
                  VALUE_TYPE_NAME(146,152)
                    PsiElement(string)('string')(146,152)
                PsiWhiteSpace(' ')(152,153)
                PsiElement(identifier)('name')(153,157)
                PsiElement(;)(';')(157,158)
              PsiWhiteSpace('\n    ')(158,163)
              FIELD_DEFINITION(163,186)
                SIMPLE_TYPE_NAME(163,168)
                  VALUE_TYPE_NAME(163,168)
                    PsiElement(float)('float')(163,168)
                PsiWhiteSpace(' ')(168,169)
                PsiElement(identifier)('totalRawMaterial')(169,185)
                PsiElement(;)(';')(185,186)
              PsiWhiteSpace('\n    ')(186,191)
              FIELD_DEFINITION(191,214)
                SIMPLE_TYPE_NAME(191,196)
                  VALUE_TYPE_NAME(191,196)
                    PsiElement(float)('float')(191,196)
                PsiWhiteSpace(' ')(196,197)
                PsiElement(identifier)('totalConsumption')(197,213)
                PsiElement(;)(';')(213,214)
            PsiWhiteSpace('\n')(214,215)
            PsiElement(})('}')(215,216)
      PsiElement(;)(';')(216,217)
  PsiWhiteSpace('\n\n')(217,219)
  PsiComment(LINE_COMMENT)('// These are the input streams that use `ProductMaterial` as the constraint type.')(219,300)
  PsiWhiteSpace('\n')(300,301)
  DEFINITION(301,349)
    GLOBAL_VARIABLE_DEFINITION(301,349)
      SIMPLE_TYPE_NAME(301,324)
        REFERENCE_TYPE_NAME(301,324)
          BUILT_IN_REFERENCE_TYPE_NAME(301,324)
            STREAM_TYPE_NAME(301,324)
              PsiElement(stream)('stream')(301,307)
              PsiElement(<)('<')(307,308)
              SIMPLE_TYPE_NAME(308,323)
                REFERENCE_TYPE_NAME(308,323)
                  USER_DEFINE_TYPE_NAME(308,323)
                    NAME_REFERENCE(308,323)
                      PsiElement(identifier)('ProductMaterial')(308,323)
              PsiElement(>)('>')(323,324)
      PsiWhiteSpace(' ')(324,325)
      PsiElement(identifier)('rawMaterialStream')(325,342)
      PsiWhiteSpace(' ')(342,343)
      PsiElement(=)('=')(343,344)
      PsiWhiteSpace(' ')(344,345)
      TYPE_INIT_EXPRESSION(345,348)
        INIT_WITHOUT_TYPE(345,348)
          PsiElement(new)('new')(345,348)
      PsiElement(;)(';')(348,349)
  PsiWhiteSpace('\n')(349,350)
  DEFINITION(350,402)
    GLOBAL_VARIABLE_DEFINITION(350,402)
      SIMPLE_TYPE_NAME(350,373)
        REFERENCE_TYPE_NAME(350,373)
          BUILT_IN_REFERENCE_TYPE_NAME(350,373)
            STREAM_TYPE_NAME(350,373)
              PsiElement(stream)('stream')(350,356)
              PsiElement(<)('<')(356,357)
              SIMPLE_TYPE_NAME(357,372)
                REFERENCE_TYPE_NAME(357,372)
                  USER_DEFINE_TYPE_NAME(357,372)
                    NAME_REFERENCE(357,372)
                      PsiElement(identifier)('ProductMaterial')(357,372)
              PsiElement(>)('>')(372,373)
      PsiWhiteSpace(' ')(373,374)
      PsiElement(identifier)('productionInputStream')(374,395)
      PsiWhiteSpace(' ')(395,396)
      PsiElement(=)('=')(396,397)
      PsiWhiteSpace(' ')(397,398)
      TYPE_INIT_EXPRESSION(398,401)
        INIT_WITHOUT_TYPE(398,401)
          PsiElement(new)('new')(398,401)
      PsiElement(;)(';')(401,402)
  PsiWhiteSpace('\n\n')(402,404)
  PsiComment(LINE_COMMENT)('// This is the output stream that contains the events/alerts that are generated based on streaming logic.')(404,509)
  PsiWhiteSpace('\n')(509,510)
  DEFINITION(510,558)
    GLOBAL_VARIABLE_DEFINITION(510,558)
      SIMPLE_TYPE_NAME(510,531)
        REFERENCE_TYPE_NAME(510,531)
          BUILT_IN_REFERENCE_TYPE_NAME(510,531)
            STREAM_TYPE_NAME(510,531)
              PsiElement(stream)('stream')(510,516)
              PsiElement(<)('<')(516,517)
              SIMPLE_TYPE_NAME(517,530)
                REFERENCE_TYPE_NAME(517,530)
                  USER_DEFINE_TYPE_NAME(517,530)
                    NAME_REFERENCE(517,530)
                      PsiElement(identifier)('MaterialUsage')(517,530)
              PsiElement(>)('>')(530,531)
      PsiWhiteSpace(' ')(531,532)
      PsiElement(identifier)('materialUsageStream')(532,551)
      PsiWhiteSpace(' ')(551,552)
      PsiElement(=)('=')(552,553)
      PsiWhiteSpace(' ')(553,554)
      TYPE_INIT_EXPRESSION(554,557)
        INIT_WITHOUT_TYPE(554,557)
          PsiElement(new)('new')(554,557)
      PsiElement(;)(';')(557,558)
  PsiWhiteSpace('\n\n')(558,560)
  DEFINITION(560,2193)
    FUNCTION_DEFINITION(560,2193)
      PsiElement(function)('function')(560,568)
      PsiWhiteSpace(' ')(568,569)
      CALLABLE_UNIT_SIGNATURE(569,609)
        ANY_IDENTIFIER_NAME(569,596)
          PsiElement(identifier)('initRealtimeProductionAlert')(569,596)
        PsiElement(()('(')(596,597)
        PsiElement())(')')(597,598)
        PsiWhiteSpace(' ')(598,599)
        RETURN_PARAMETER(599,609)
          PsiElement(returns)('returns')(599,606)
          PsiWhiteSpace(' ')(606,607)
          RETURN_TYPE(607,609)
            SIMPLE_TYPE_NAME(607,609)
              EMPTY_TUPLE_LITERAL(607,609)
                PsiElement(()('(')(607,608)
                PsiElement())(')')(608,609)
      PsiWhiteSpace(' ')(609,610)
      CALLABLE_UNIT_BODY(610,2193)
        PsiElement({)('{')(610,611)
        PsiWhiteSpace('\n    ')(611,616)
        PsiComment(LINE_COMMENT)('// Whenever the `materialUsageStream` stream receives an event from the streaming rules defined in the `forever`')(616,728)
        PsiWhiteSpace('\n    ')(728,733)
        PsiComment(LINE_COMMENT)('// block, the `printMaterialUsageAlert` function is invoked.')(733,793)
        PsiWhiteSpace('\n    ')(793,798)
        STATEMENT(798,853)
          EXPRESSION_STMT(798,853)
            VARIABLE_REFERENCE_EXPRESSION(798,852)
              INVOCATION_REFERENCE(798,852)
                SIMPLE_VARIABLE_REFERENCE(798,817)
                  NAME_REFERENCE(798,817)
                    PsiElement(identifier)('materialUsageStream')(798,817)
                INVOCATION(817,852)
                  PsiElement(.)('.')(817,818)
                  ANY_IDENTIFIER_NAME(818,827)
                    PsiElement(identifier)('subscribe')(818,827)
                  PsiElement(()('(')(827,828)
                  INVOCATION_ARG_LIST(828,851)
                    INVOCATION_ARG(828,851)
                      VARIABLE_REFERENCE_EXPRESSION(828,851)
                        SIMPLE_VARIABLE_REFERENCE(828,851)
                          NAME_REFERENCE(828,851)
                            PsiElement(identifier)('printMaterialUsageAlert')(828,851)
                  PsiElement())(')')(851,852)
            PsiElement(;)(';')(852,853)
        PsiWhiteSpace('\n\n\n    ')(853,860)
        PsiComment(LINE_COMMENT)('// Gather events related to raw materials through the `rawMaterialStream` stream and production related events')(860,970)
        PsiWhiteSpace('\n    ')(970,975)
        PsiComment(LINE_COMMENT)('// through the `productionInputStream`. The raw materials usage and production outcome for the last')(975,1074)
        PsiWhiteSpace('\n    ')(1074,1079)
        PsiComment(LINE_COMMENT)('// 10 seconds are calculated and an alert is triggered if the raw material usage is 5% higher than the')(1079,1181)
        PsiWhiteSpace('\n    ')(1181,1186)
        PsiComment(LINE_COMMENT)('// production outcome. This `forever` block is executed once, when initializing the service. The processing happens')(1186,1301)
        PsiWhiteSpace('\n    ')(1301,1306)
        PsiComment(LINE_COMMENT)('// asynchronously each time the `requestStream` or `productionInputStream` receives an event.')(1306,1399)
        PsiWhiteSpace('\n    ')(1399,1404)
        STATEMENT(1404,2191)
          FOREVER_STATEMENT(1404,2191)
            PsiElement(forever)('forever')(1404,1411)
            PsiWhiteSpace(' ')(1411,1412)
            PsiElement({)('{')(1412,1413)
            PsiWhiteSpace('\n        ')(1413,1422)
            FOREVER_STATEMENT_BODY(1422,2185)
              STREAMING_QUERY_STATEMENT(1422,2185)
                PsiElement(from)('from')(1422,1426)
                PsiWhiteSpace(' ')(1426,1427)
                STREAMING_INPUT(1427,1472)
                  SIMPLE_VARIABLE_REFERENCE(1427,1448)
                    NAME_REFERENCE(1427,1448)
                      PsiElement(identifier)('productionInputStream')(1427,1448)
                  PsiWhiteSpace(' ')(1448,1449)
                  WINDOW_CLAUSE(1449,1467)
                    PsiElement(window)('window')(1449,1455)
                    PsiWhiteSpace(' ')(1455,1456)
                    FUNCTION_INVOCATION(1456,1467)
                      FUNCTION_NAME_REFERENCE(1456,1460)
                        ANY_IDENTIFIER_NAME(1456,1460)
                          PsiElement(identifier)('time')(1456,1460)
                      PsiElement(()('(')(1460,1461)
                      INVOCATION_ARG_LIST(1461,1466)
                        INVOCATION_ARG(1461,1466)
                          SIMPLE_LITERAL_EXPRESSION(1461,1466)
                            SIMPLE_LITERAL(1461,1466)
                              INTEGER_LITERAL(1461,1466)
                                PsiElement(DECIMAL_INTEGER_LITERAL)('10000')(1461,1466)
                      PsiElement())(')')(1466,1467)
                  PsiWhiteSpace(' ')(1467,1468)
                  PsiElement(as)('as')(1468,1470)
                  PsiWhiteSpace(' ')(1470,1471)
                  PsiElement(identifier)('p')(1471,1472)
                PsiWhiteSpace('\n        ')(1472,1481)
                JOIN_STREAMING_INPUT(1481,1555)
                  JOIN_TYPE(1481,1485)
                    PsiElement(join)('join')(1481,1485)
                  PsiWhiteSpace(' ')(1485,1486)
                  STREAMING_INPUT(1486,1527)
                    SIMPLE_VARIABLE_REFERENCE(1486,1503)
                      NAME_REFERENCE(1486,1503)
                        PsiElement(identifier)('rawMaterialStream')(1486,1503)
                    PsiWhiteSpace(' ')(1503,1504)
                    WINDOW_CLAUSE(1504,1522)
                      PsiElement(window)('window')(1504,1510)
                      PsiWhiteSpace(' ')(1510,1511)
                      FUNCTION_INVOCATION(1511,1522)
                        FUNCTION_NAME_REFERENCE(1511,1515)
                          ANY_IDENTIFIER_NAME(1511,1515)
                            PsiElement(identifier)('time')(1511,1515)
                        PsiElement(()('(')(1515,1516)
                        INVOCATION_ARG_LIST(1516,1521)
                          INVOCATION_ARG(1516,1521)
                            SIMPLE_LITERAL_EXPRESSION(1516,1521)
                              SIMPLE_LITERAL(1516,1521)
                                INTEGER_LITERAL(1516,1521)
                                  PsiElement(DECIMAL_INTEGER_LITERAL)('10000')(1516,1521)
                        PsiElement())(')')(1521,1522)
                    PsiWhiteSpace(' ')(1522,1523)
                    PsiElement(as)('as')(1523,1525)
                    PsiWhiteSpace(' ')(1525,1526)
                    PsiElement(identifier)('r')(1526,1527)
                  PsiWhiteSpace('\n        ')(1527,1536)
                  PsiElement(on)('on')(1536,1538)
                  PsiWhiteSpace(' ')(1538,1539)
                  BINARY_EQUAL_EXPRESSION(1539,1555)
                    VARIABLE_REFERENCE_EXPRESSION(1539,1545)
                      FIELD_VARIABLE_REFERENCE(1539,1545)
                        SIMPLE_VARIABLE_REFERENCE(1539,1540)
                          NAME_REFERENCE(1539,1540)
                            PsiElement(identifier)('r')(1539,1540)
                        FIELD(1540,1545)
                          PsiElement(.)('.')(1540,1541)
                          PsiElement(identifier)('name')(1541,1545)
                    PsiWhiteSpace(' ')(1545,1546)
                    PsiElement(==)('==')(1546,1548)
                    PsiWhiteSpace(' ')(1548,1549)
                    VARIABLE_REFERENCE_EXPRESSION(1549,1555)
                      FIELD_VARIABLE_REFERENCE(1549,1555)
                        SIMPLE_VARIABLE_REFERENCE(1549,1550)
                          NAME_REFERENCE(1549,1550)
                            PsiElement(identifier)('p')(1549,1550)
                        FIELD(1550,1555)
                          PsiElement(.)('.')(1550,1551)
                          PsiElement(identifier)('name')(1551,1555)
                PsiWhiteSpace('\n        ')(1555,1564)
                SELECT_CLAUSE(1564,1789)
                  PsiElement(select)('select')(1564,1570)
                  PsiWhiteSpace(' ')(1570,1571)
                  SELECT_EXPRESSION_LIST(1571,1663)
                    SELECT_EXPRESSION(1571,1577)
                      VARIABLE_REFERENCE_EXPRESSION(1571,1577)
                        FIELD_VARIABLE_REFERENCE(1571,1577)
                          SIMPLE_VARIABLE_REFERENCE(1571,1572)
                            NAME_REFERENCE(1571,1572)
                              PsiElement(identifier)('r')(1571,1572)
                          FIELD(1572,1577)
                            PsiElement(.)('.')(1572,1573)
                            PsiElement(identifier)('name')(1573,1577)
                    PsiElement(,)(',')(1577,1578)
                    PsiWhiteSpace(' ')(1578,1579)
                    SELECT_EXPRESSION(1579,1612)
                      VARIABLE_REFERENCE_EXPRESSION(1579,1592)
                        FUNCTION_INVOCATION_REFERENCE(1579,1592)
                          FUNCTION_INVOCATION(1579,1592)
                            FUNCTION_NAME_REFERENCE(1579,1582)
                              ANY_IDENTIFIER_NAME(1579,1582)
                                PsiElement(identifier)('sum')(1579,1582)
                            PsiElement(()('(')(1582,1583)
                            INVOCATION_ARG_LIST(1583,1591)
                              INVOCATION_ARG(1583,1591)
                                VARIABLE_REFERENCE_EXPRESSION(1583,1591)
                                  FIELD_VARIABLE_REFERENCE(1583,1591)
                                    SIMPLE_VARIABLE_REFERENCE(1583,1584)
                                      NAME_REFERENCE(1583,1584)
                                        PsiElement(identifier)('r')(1583,1584)
                                    FIELD(1584,1591)
                                      PsiElement(.)('.')(1584,1585)
                                      PsiElement(identifier)('amount')(1585,1591)
                            PsiElement())(')')(1591,1592)
                      PsiWhiteSpace(' ')(1592,1593)
                      PsiElement(as)('as')(1593,1595)
                      PsiWhiteSpace(' ')(1595,1596)
                      PsiElement(identifier)('totalRawMaterial')(1596,1612)
                    PsiElement(,)(',')(1612,1613)
                    PsiWhiteSpace('\n                ')(1613,1630)
                    SELECT_EXPRESSION(1630,1663)
                      VARIABLE_REFERENCE_EXPRESSION(1630,1643)
                        FUNCTION_INVOCATION_REFERENCE(1630,1643)
                          FUNCTION_INVOCATION(1630,1643)
                            FUNCTION_NAME_REFERENCE(1630,1633)
                              ANY_IDENTIFIER_NAME(1630,1633)
                                PsiElement(identifier)('sum')(1630,1633)
                            PsiElement(()('(')(1633,1634)
                            INVOCATION_ARG_LIST(1634,1642)
                              INVOCATION_ARG(1634,1642)
                                VARIABLE_REFERENCE_EXPRESSION(1634,1642)
                                  FIELD_VARIABLE_REFERENCE(1634,1642)
                                    SIMPLE_VARIABLE_REFERENCE(1634,1635)
                                      NAME_REFERENCE(1634,1635)
                                        PsiElement(identifier)('p')(1634,1635)
                                    FIELD(1635,1642)
                                      PsiElement(.)('.')(1635,1636)
                                      PsiElement(identifier)('amount')(1636,1642)
                            PsiElement())(')')(1642,1643)
                      PsiWhiteSpace(' ')(1643,1644)
                      PsiElement(as)('as')(1644,1646)
                      PsiWhiteSpace(' ')(1646,1647)
                      PsiElement(identifier)('totalConsumption')(1647,1663)
                  PsiWhiteSpace('\n        ')(1663,1672)
                  GROUP_BY_CLAUSE(1672,1687)
                    PsiElement(group)('group')(1672,1677)
                    PsiWhiteSpace(' ')(1677,1678)
                    PsiElement(by)('by')(1678,1680)
                    PsiWhiteSpace(' ')(1680,1681)
                    VARIABLE_REFERENCE_LIST(1681,1687)
                      FIELD_VARIABLE_REFERENCE(1681,1687)
                        SIMPLE_VARIABLE_REFERENCE(1681,1682)
                          NAME_REFERENCE(1681,1682)
                            PsiElement(identifier)('r')(1681,1682)
                        FIELD(1682,1687)
                          PsiElement(.)('.')(1682,1683)
                          PsiElement(identifier)('name')(1683,1687)
                  PsiWhiteSpace('\n        ')(1687,1696)
                  HAVING_CLAUSE(1696,1789)
                    PsiElement(having)('having')(1696,1702)
                    PsiWhiteSpace(' ')(1702,1703)
                    BINARY_COMPARE_EXPRESSION(1703,1789)
                      BRACED_OR_TUPLE_EXPRESSION(1703,1785)
                        TUPLE_LITERAL(1703,1785)
                          PsiElement(()('(')(1703,1704)
                          BINARY_DIV_MUL_MOD_EXPRESSION(1704,1784)
                            BINARY_DIV_MUL_MOD_EXPRESSION(1704,1749)
                              BRACED_OR_TUPLE_EXPRESSION(1704,1741)
                                TUPLE_LITERAL(1704,1741)
                                  PsiElement(()('(')(1704,1705)
                                  BINARY_ADD_SUB_EXPRESSION(1705,1740)
                                    VARIABLE_REFERENCE_EXPRESSION(1705,1721)
                                      SIMPLE_VARIABLE_REFERENCE(1705,1721)
                                        NAME_REFERENCE(1705,1721)
                                          PsiElement(identifier)('totalRawMaterial')(1705,1721)
                                    PsiWhiteSpace(' ')(1721,1722)
                                    PsiElement(-)('-')(1722,1723)
                                    PsiWhiteSpace(' ')(1723,1724)
                                    VARIABLE_REFERENCE_EXPRESSION(1724,1740)
                                      SIMPLE_VARIABLE_REFERENCE(1724,1740)
                                        NAME_REFERENCE(1724,1740)
                                          PsiElement(identifier)('totalConsumption')(1724,1740)
                                  PsiElement())(')')(1740,1741)
                              PsiWhiteSpace(' ')(1741,1742)
                              PsiElement(*)('*')(1742,1743)
                              PsiWhiteSpace(' ')(1743,1744)
                              SIMPLE_LITERAL_EXPRESSION(1744,1749)
                                SIMPLE_LITERAL(1744,1749)
                                  FLOATING_POINT_LITERAL(1744,1749)
                                    PsiElement(DECIMAL_FLOATING_POINT_NUMBER)('100.0')(1744,1749)
                            PsiWhiteSpace(' ')(1749,1750)
                            PsiElement(/)('/')(1750,1751)
                            PsiWhiteSpace('\n                ')(1751,1768)
                            VARIABLE_REFERENCE_EXPRESSION(1768,1784)
                              SIMPLE_VARIABLE_REFERENCE(1768,1784)
                                NAME_REFERENCE(1768,1784)
                                  PsiElement(identifier)('totalRawMaterial')(1768,1784)
                          PsiElement())(')')(1784,1785)
                      PsiWhiteSpace(' ')(1785,1786)
                      PsiElement(>)('>')(1786,1787)
                      PsiWhiteSpace(' ')(1787,1788)
                      SIMPLE_LITERAL_EXPRESSION(1788,1789)
                        SIMPLE_LITERAL(1788,1789)
                          INTEGER_LITERAL(1788,1789)
                            PsiElement(DECIMAL_INTEGER_LITERAL)('5')(1788,1789)
                PsiWhiteSpace('\n        ')(1789,1798)
                STREAMING_ACTION(1798,2185)
                  PsiElement(=>)('=>')(1798,1800)
                  PsiWhiteSpace(' ')(1800,1801)
                  PsiElement(()('(')(1801,1802)
                  PARAMETER(1802,1832)
                    PARAMETER_WITH_TYPE(1802,1832)
                      ARRAY_TYPE_NAME(1802,1817)
                        SIMPLE_TYPE_NAME(1802,1815)
                          REFERENCE_TYPE_NAME(1802,1815)
                            USER_DEFINE_TYPE_NAME(1802,1815)
                              NAME_REFERENCE(1802,1815)
                                PsiElement(identifier)('MaterialUsage')(1802,1815)
                        PsiElement([)('[')(1815,1816)
                        PsiElement(])(']')(1816,1817)
                      PsiWhiteSpace(' ')(1817,1818)
                      PsiElement(identifier)('materialUsages')(1818,1832)
                  PsiElement())(')')(1832,1833)
                  PsiWhiteSpace(' ')(1833,1834)
                  PsiElement({)('{')(1834,1835)
                  PsiWhiteSpace('\n        ')(1835,1844)
                  PsiComment(LINE_COMMENT)('// `materialUsages` is the output that matches the defined streaming rules. It is published to the `materialUsageStream` stream.')(1844,1972)
                  PsiWhiteSpace('\n        ')(1972,1981)
                  PsiComment(LINE_COMMENT)('// The selected clause should match the structure of the `MaterialUsage` type.')(1981,2059)
                  PsiWhiteSpace('\n            ')(2059,2072)
                  BLOCK(2072,2175)
                    STATEMENT(2072,2175)
                      FOREACH_STATEMENT(2072,2175)
                        PsiElement(foreach)('foreach')(2072,2079)
                        PsiWhiteSpace(' ')(2079,2080)
                        PsiElement(var)('var')(2080,2083)
                        PsiWhiteSpace(' ')(2083,2084)
                        BINDING_PATTERN(2084,2089)
                          PsiElement(identifier)('usage')(2084,2089)
                        PsiWhiteSpace(' ')(2089,2090)
                        PsiElement(in)('in')(2090,2092)
                        PsiWhiteSpace(' ')(2092,2093)
                        VARIABLE_REFERENCE_EXPRESSION(2093,2107)
                          SIMPLE_VARIABLE_REFERENCE(2093,2107)
                            NAME_REFERENCE(2093,2107)
                              PsiElement(identifier)('materialUsages')(2093,2107)
                        PsiWhiteSpace(' ')(2107,2108)
                        PsiElement({)('{')(2108,2109)
                        PsiWhiteSpace('\n                ')(2109,2126)
                        BLOCK(2126,2161)
                          STATEMENT(2126,2161)
                            EXPRESSION_STMT(2126,2161)
                              VARIABLE_REFERENCE_EXPRESSION(2126,2160)
                                INVOCATION_REFERENCE(2126,2160)
                                  SIMPLE_VARIABLE_REFERENCE(2126,2145)
                                    NAME_REFERENCE(2126,2145)
                                      PsiElement(identifier)('materialUsageStream')(2126,2145)
                                  INVOCATION(2145,2160)
                                    PsiElement(.)('.')(2145,2146)
                                    ANY_IDENTIFIER_NAME(2146,2153)
                                      PsiElement(identifier)('publish')(2146,2153)
                                    PsiElement(()('(')(2153,2154)
                                    INVOCATION_ARG_LIST(2154,2159)
                                      INVOCATION_ARG(2154,2159)
                                        VARIABLE_REFERENCE_EXPRESSION(2154,2159)
                                          SIMPLE_VARIABLE_REFERENCE(2154,2159)
                                            NAME_REFERENCE(2154,2159)
                                              PsiElement(identifier)('usage')(2154,2159)
                                    PsiElement())(')')(2159,2160)
                              PsiElement(;)(';')(2160,2161)
                        PsiWhiteSpace('\n            ')(2161,2174)
                        PsiElement(})('}')(2174,2175)
                  PsiWhiteSpace('\n        ')(2175,2184)
                  PsiElement(})('}')(2184,2185)
            PsiWhiteSpace('\n    ')(2185,2190)
            PsiElement(})('}')(2190,2191)
        PsiWhiteSpace('\n')(2191,2192)
        PsiElement(})('}')(2192,2193)
  PsiWhiteSpace('\n\n')(2193,2195)
  DEFINITION(2195,2636)
    FUNCTION_DEFINITION(2195,2636)
      PsiElement(function)('function')(2195,2203)
      PsiWhiteSpace(' ')(2203,2204)
      CALLABLE_UNIT_SIGNATURE(2204,2256)
        ANY_IDENTIFIER_NAME(2204,2227)
          PsiElement(identifier)('printMaterialUsageAlert')(2204,2227)
        PsiElement(()('(')(2227,2228)
        FORMAL_PARAMETER_LIST(2228,2255)
          PARAMETER(2228,2255)
            PARAMETER_WITH_TYPE(2228,2255)
              SIMPLE_TYPE_NAME(2228,2241)
                REFERENCE_TYPE_NAME(2228,2241)
                  USER_DEFINE_TYPE_NAME(2228,2241)
                    NAME_REFERENCE(2228,2241)
                      PsiElement(identifier)('MaterialUsage')(2228,2241)
              PsiWhiteSpace(' ')(2241,2242)
              PsiElement(identifier)('materialUsage')(2242,2255)
        PsiElement())(')')(2255,2256)
      PsiWhiteSpace(' ')(2256,2257)
      CALLABLE_UNIT_BODY(2257,2636)
        PsiElement({)('{')(2257,2258)
        PsiWhiteSpace('\n    ')(2258,2263)
        STATEMENT(2263,2432)
          VARIABLE_DEFINITION_STATEMENT(2263,2432)
            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(2263,2432)
              SIMPLE_TYPE_NAME(2263,2268)
                VALUE_TYPE_NAME(2263,2268)
                  PsiElement(float)('float')(2263,2268)
              PsiWhiteSpace(' ')(2268,2269)
              BINDING_PATTERN(2269,2292)
                PsiElement(identifier)('materialUsageDifference')(2269,2292)
              PsiWhiteSpace(' ')(2292,2293)
              PsiElement(=)('=')(2293,2294)
              PsiWhiteSpace(' ')(2294,2295)
              BINARY_DIV_MUL_MOD_EXPRESSION(2295,2431)
                BINARY_DIV_MUL_MOD_EXPRESSION(2295,2380)
                  BRACED_OR_TUPLE_EXPRESSION(2295,2372)
                    TUPLE_LITERAL(2295,2372)
                      PsiElement(()('(')(2295,2296)
                      BINARY_ADD_SUB_EXPRESSION(2296,2371)
                        VARIABLE_REFERENCE_EXPRESSION(2296,2326)
                          FIELD_VARIABLE_REFERENCE(2296,2326)
                            SIMPLE_VARIABLE_REFERENCE(2296,2309)
                              NAME_REFERENCE(2296,2309)
                                PsiElement(identifier)('materialUsage')(2296,2309)
                            FIELD(2309,2326)
                              PsiElement(.)('.')(2309,2310)
                              PsiElement(identifier)('totalRawMaterial')(2310,2326)
                        PsiWhiteSpace(' ')(2326,2327)
                        PsiElement(-)('-')(2327,2328)
                        PsiWhiteSpace('\n            ')(2328,2341)
                        VARIABLE_REFERENCE_EXPRESSION(2341,2371)
                          FIELD_VARIABLE_REFERENCE(2341,2371)
                            SIMPLE_VARIABLE_REFERENCE(2341,2354)
                              NAME_REFERENCE(2341,2354)
                                PsiElement(identifier)('materialUsage')(2341,2354)
                            FIELD(2354,2371)
                              PsiElement(.)('.')(2354,2355)
                              PsiElement(identifier)('totalConsumption')(2355,2371)
                      PsiElement())(')')(2371,2372)
                  PsiWhiteSpace(' ')(2372,2373)
                  PsiElement(*)('*')(2373,2374)
                  PsiWhiteSpace(' ')(2374,2375)
                  SIMPLE_LITERAL_EXPRESSION(2375,2380)
                    SIMPLE_LITERAL(2375,2380)
                      FLOATING_POINT_LITERAL(2375,2380)
                        PsiElement(DECIMAL_FLOATING_POINT_NUMBER)('100.0')(2375,2380)
                PsiWhiteSpace(' ')(2380,2381)
                PsiElement(/)('/')(2381,2382)
                PsiWhiteSpace('\n                ')(2382,2399)
                BRACED_OR_TUPLE_EXPRESSION(2399,2431)
                  TUPLE_LITERAL(2399,2431)
                    PsiElement(()('(')(2399,2400)
                    VARIABLE_REFERENCE_EXPRESSION(2400,2430)
                      FIELD_VARIABLE_REFERENCE(2400,2430)
                        SIMPLE_VARIABLE_REFERENCE(2400,2413)
                          NAME_REFERENCE(2400,2413)
                            PsiElement(identifier)('materialUsage')(2400,2413)
                        FIELD(2413,2430)
                          PsiElement(.)('.')(2413,2414)
                          PsiElement(identifier)('totalRawMaterial')(2414,2430)
                    PsiElement())(')')(2430,2431)
              PsiElement(;)(';')(2431,2432)
        PsiWhiteSpace('\n\n    ')(2432,2438)
        STATEMENT(2438,2634)
          EXPRESSION_STMT(2438,2634)
            VARIABLE_REFERENCE_EXPRESSION(2438,2633)
              FUNCTION_INVOCATION_REFERENCE(2438,2633)
                FUNCTION_INVOCATION(2438,2633)
                  FUNCTION_NAME_REFERENCE(2438,2448)
                    PACKAGE_REFERENCE(2438,2441)
                      PsiElement(identifier)('io')(2438,2440)
                      PsiElement(:)(':')(2440,2441)
                    ANY_IDENTIFIER_NAME(2441,2448)
                      PsiElement(identifier)('println')(2441,2448)
                  PsiElement(()('(')(2448,2449)
                  INVOCATION_ARG_LIST(2449,2632)
                    INVOCATION_ARG(2449,2632)
                      BINARY_ADD_SUB_EXPRESSION(2449,2632)
                        BINARY_ADD_SUB_EXPRESSION(2449,2606)
                          BINARY_ADD_SUB_EXPRESSION(2449,2563)
                            BINARY_ADD_SUB_EXPRESSION(2449,2542)
                              SIMPLE_LITERAL_EXPRESSION(2449,2503)
                                SIMPLE_LITERAL(2449,2503)
                                  PsiElement(QUOTED_STRING_LITERAL)('"ALERT!! : Material usage is higher than the expected"')(2449,2503)
                              PsiWhiteSpace('\n            ')(2503,2516)
                              PsiElement(+)('+')(2516,2517)
                              PsiWhiteSpace(' ')(2517,2518)
                              SIMPLE_LITERAL_EXPRESSION(2518,2542)
                                SIMPLE_LITERAL(2518,2542)
                                  PsiElement(QUOTED_STRING_LITERAL)('" limit for material : "')(2518,2542)
                            PsiWhiteSpace(' ')(2542,2543)
                            PsiElement(+)('+')(2543,2544)
                            PsiWhiteSpace(' ')(2544,2545)
                            VARIABLE_REFERENCE_EXPRESSION(2545,2563)
                              FIELD_VARIABLE_REFERENCE(2545,2563)
                                SIMPLE_VARIABLE_REFERENCE(2545,2558)
                                  NAME_REFERENCE(2545,2558)
                                    PsiElement(identifier)('materialUsage')(2545,2558)
                                FIELD(2558,2563)
                                  PsiElement(.)('.')(2558,2559)
                                  PsiElement(identifier)('name')(2559,2563)
                          PsiWhiteSpace(' ')(2563,2564)
                          PsiElement(+)('+')(2564,2565)
                          PsiWhiteSpace('\n            ')(2565,2578)
                          SIMPLE_LITERAL_EXPRESSION(2578,2606)
                            SIMPLE_LITERAL(2578,2606)
                              PsiElement(QUOTED_STRING_LITERAL)('" , usage difference (%) : "')(2578,2606)
                        PsiWhiteSpace(' ')(2606,2607)
                        PsiElement(+)('+')(2607,2608)
                        PsiWhiteSpace(' ')(2608,2609)
                        VARIABLE_REFERENCE_EXPRESSION(2609,2632)
                          SIMPLE_VARIABLE_REFERENCE(2609,2632)
                            NAME_REFERENCE(2609,2632)
                              PsiElement(identifier)('materialUsageDifference')(2609,2632)
                  PsiElement())(')')(2632,2633)
            PsiElement(;)(';')(2633,2634)
        PsiWhiteSpace('\n')(2634,2635)
        PsiElement(})('}')(2635,2636)
  PsiWhiteSpace('\n\n')(2636,2638)
  DEFINITION(2638,2698)
    GLOBAL_VARIABLE_DEFINITION(2638,2698)
      PsiElement(listener)('listener')(2638,2646)
      PsiWhiteSpace(' ')(2646,2647)
      SIMPLE_TYPE_NAME(2647,2660)
        REFERENCE_TYPE_NAME(2647,2660)
          USER_DEFINE_TYPE_NAME(2647,2660)
            NAME_REFERENCE(2647,2660)
              PACKAGE_REFERENCE(2647,2652)
                PsiElement(identifier)('http')(2647,2651)
                PsiElement(:)(':')(2651,2652)
              PsiElement(identifier)('Listener')(2652,2660)
      PsiWhiteSpace(' ')(2660,2661)
      PsiElement(identifier)('productMaterialListener')(2661,2684)
      PsiWhiteSpace(' ')(2684,2685)
      PsiElement(=)('=')(2685,2686)
      PsiWhiteSpace(' ')(2686,2687)
      TYPE_INIT_EXPRESSION(2687,2697)
        INIT_WITHOUT_TYPE(2687,2697)
          PsiElement(new)('new')(2687,2690)
          PsiWhiteSpace(' ')(2690,2691)
          PsiElement(()('(')(2691,2692)
          INVOCATION_ARG_LIST(2692,2696)
            INVOCATION_ARG(2692,2696)
              SIMPLE_LITERAL_EXPRESSION(2692,2696)
                SIMPLE_LITERAL(2692,2696)
                  INTEGER_LITERAL(2692,2696)
                    PsiElement(DECIMAL_INTEGER_LITERAL)('9090')(2692,2696)
          PsiElement())(')')(2696,2697)
      PsiElement(;)(';')(2697,2698)
  PsiWhiteSpace('\n\n')(2698,2700)
  PsiComment(LINE_COMMENT)('// The service, which receives events related to the production outcome and the raw material input.')(2700,2799)
  PsiWhiteSpace('\n')(2799,2800)
  DEFINITION(2800,4634)
    ANNOTATION_ATTACHMENT(2800,2841)
      PsiElement(@)('@')(2800,2801)
      NAME_REFERENCE(2801,2819)
        PACKAGE_REFERENCE(2801,2806)
          PsiElement(identifier)('http')(2801,2805)
          PsiElement(:)(':')(2805,2806)
        PsiElement(identifier)('ServiceConfig')(2806,2819)
      PsiWhiteSpace(' ')(2819,2820)
      RECORD_LITERAL(2820,2841)
        PsiElement({)('{')(2820,2821)
        PsiWhiteSpace('\n    ')(2821,2826)
        RECORD_LITERAL_BODY(2826,2839)
          RECORD_KEY_VALUE(2826,2839)
            RECORD_KEY(2826,2834)
              VARIABLE_REFERENCE_EXPRESSION(2826,2834)
                SIMPLE_VARIABLE_REFERENCE(2826,2834)
                  NAME_REFERENCE(2826,2834)
                    PsiElement(identifier)('basePath')(2826,2834)
            PsiElement(:)(':')(2834,2835)
            PsiWhiteSpace(' ')(2835,2836)
            SIMPLE_LITERAL_EXPRESSION(2836,2839)
              SIMPLE_LITERAL(2836,2839)
                PsiElement(QUOTED_STRING_LITERAL)('"/"')(2836,2839)
        PsiWhiteSpace('\n')(2839,2840)
        PsiElement(})('}')(2840,2841)
    PsiWhiteSpace('\n')(2841,2842)
    DEFINITION(2842,4634)
      SERVICE_DEFINITION(2842,4634)
        PsiElement(service)('service')(2842,2849)
        PsiWhiteSpace(' ')(2849,2850)
        PsiElement(identifier)('productMaterialService')(2850,2872)
        PsiWhiteSpace(' ')(2872,2873)
        PsiElement(on)('on')(2873,2875)
        PsiWhiteSpace(' ')(2875,2876)
        EXPRESSION_LIST(2876,2899)
          VARIABLE_REFERENCE_EXPRESSION(2876,2899)
            SIMPLE_VARIABLE_REFERENCE(2876,2899)
              NAME_REFERENCE(2876,2899)
                PsiElement(identifier)('productMaterialListener')(2876,2899)
        PsiWhiteSpace(' ')(2899,2900)
        SERVICE_BODY(2900,4634)
          PsiElement({)('{')(2900,2901)
          PsiWhiteSpace('\n\n    ')(2901,2907)
          PsiComment(LINE_COMMENT)('// Initialize the function that contains streaming queries.')(2907,2966)
          PsiWhiteSpace('\n    ')(2966,2971)
          SERVICE_BODY_MEMBER(2971,3024)
            OBJECT_FIELD_DEFINITION(2971,3024)
              SIMPLE_TYPE_NAME(2971,2981)
                REFERENCE_TYPE_NAME(2971,2981)
                  BUILT_IN_REFERENCE_TYPE_NAME(2971,2981)
                    FUTURE_TYPE_NAME(2971,2981)
                      PsiElement(future)('future')(2971,2977)
                      PsiElement(<)('<')(2977,2978)
                      SIMPLE_TYPE_NAME(2978,2980)
                        EMPTY_TUPLE_LITERAL(2978,2980)
                          PsiElement(()('(')(2978,2979)
                          PsiElement())(')')(2979,2980)
                      PsiElement(>)('>')(2980,2981)
              PsiWhiteSpace(' ')(2981,2982)
              PsiElement(identifier)('ftr')(2982,2985)
              PsiWhiteSpace(' ')(2985,2986)
              PsiElement(=)('=')(2986,2987)
              PsiWhiteSpace(' ')(2987,2988)
              VARIABLE_REFERENCE_EXPRESSION(2988,3023)
                PsiElement(start)('start')(2988,2993)
                PsiWhiteSpace(' ')(2993,2994)
                FUNCTION_INVOCATION_REFERENCE(2994,3023)
                  FUNCTION_INVOCATION(2994,3023)
                    FUNCTION_NAME_REFERENCE(2994,3021)
                      ANY_IDENTIFIER_NAME(2994,3021)
                        PsiElement(identifier)('initRealtimeProductionAlert')(2994,3021)
                    PsiElement(()('(')(3021,3022)
                    PsiElement())(')')(3022,3023)
              PsiElement(;)(';')(3023,3024)
          PsiWhiteSpace('\n\n    ')(3024,3030)
          SERVICE_BODY_MEMBER(3030,3803)
            OBJECT_FUNCTION_DEFINITION(3030,3803)
              ANNOTATION_ATTACHMENT(3030,3114)
                PsiElement(@)('@')(3030,3031)
                NAME_REFERENCE(3031,3050)
                  PACKAGE_REFERENCE(3031,3036)
                    PsiElement(identifier)('http')(3031,3035)
                    PsiElement(:)(':')(3035,3036)
                  PsiElement(identifier)('ResourceConfig')(3036,3050)
                PsiWhiteSpace(' ')(3050,3051)
                RECORD_LITERAL(3051,3114)
                  PsiElement({)('{')(3051,3052)
                  PsiWhiteSpace('\n        ')(3052,3061)
                  RECORD_LITERAL_BODY(3061,3108)
                    RECORD_KEY_VALUE(3061,3078)
                      RECORD_KEY(3061,3068)
                        VARIABLE_REFERENCE_EXPRESSION(3061,3068)
                          SIMPLE_VARIABLE_REFERENCE(3061,3068)
                            NAME_REFERENCE(3061,3068)
                              PsiElement(identifier)('methods')(3061,3068)
                      PsiElement(:)(':')(3068,3069)
                      PsiWhiteSpace(' ')(3069,3070)
                      ARRAY_LITERAL_EXPRESSION(3070,3078)
                        ARRAY_LITERAL(3070,3078)
                          PsiElement([)('[')(3070,3071)
                          EXPRESSION_LIST(3071,3077)
                            SIMPLE_LITERAL_EXPRESSION(3071,3077)
                              SIMPLE_LITERAL(3071,3077)
                                PsiElement(QUOTED_STRING_LITERAL)('"POST"')(3071,3077)
                          PsiElement(])(']')(3077,3078)
                    PsiElement(,)(',')(3078,3079)
                    PsiWhiteSpace('\n        ')(3079,3088)
                    RECORD_KEY_VALUE(3088,3108)
                      RECORD_KEY(3088,3092)
                        VARIABLE_REFERENCE_EXPRESSION(3088,3092)
                          SIMPLE_VARIABLE_REFERENCE(3088,3092)
                            NAME_REFERENCE(3088,3092)
                              PsiElement(identifier)('path')(3088,3092)
                      PsiElement(:)(':')(3092,3093)
                      PsiWhiteSpace(' ')(3093,3094)
                      SIMPLE_LITERAL_EXPRESSION(3094,3108)
                        SIMPLE_LITERAL(3094,3108)
                          PsiElement(QUOTED_STRING_LITERAL)('"/rawmaterial"')(3094,3108)
                  PsiWhiteSpace('\n    ')(3108,3113)
                  PsiElement(})('}')(3113,3114)
              PsiWhiteSpace('\n    ')(3114,3119)
              PsiElement(resource)('resource')(3119,3127)
              PsiWhiteSpace(' ')(3127,3128)
              PsiElement(function)('function')(3128,3136)
              PsiWhiteSpace(' ')(3136,3137)
              CALLABLE_UNIT_SIGNATURE(3137,3194)
                ANY_IDENTIFIER_NAME(3137,3156)
                  PsiElement(identifier)('rawmaterialrequests')(3137,3156)
                PsiElement(()('(')(3156,3157)
                FORMAL_PARAMETER_LIST(3157,3193)
                  PARAMETER(3157,3175)
                    PARAMETER_WITH_TYPE(3157,3175)
                      SIMPLE_TYPE_NAME(3157,3168)
                        REFERENCE_TYPE_NAME(3157,3168)
                          USER_DEFINE_TYPE_NAME(3157,3168)
                            NAME_REFERENCE(3157,3168)
                              PACKAGE_REFERENCE(3157,3162)
                                PsiElement(identifier)('http')(3157,3161)
                                PsiElement(:)(':')(3161,3162)
                              PsiElement(identifier)('Caller')(3162,3168)
                      PsiWhiteSpace(' ')(3168,3169)
                      PsiElement(identifier)('caller')(3169,3175)
                  PsiElement(,)(',')(3175,3176)
                  PsiWhiteSpace(' ')(3176,3177)
                  PARAMETER(3177,3193)
                    PARAMETER_WITH_TYPE(3177,3193)
                      SIMPLE_TYPE_NAME(3177,3189)
                        REFERENCE_TYPE_NAME(3177,3189)
                          USER_DEFINE_TYPE_NAME(3177,3189)
                            NAME_REFERENCE(3177,3189)
                              PACKAGE_REFERENCE(3177,3182)
                                PsiElement(identifier)('http')(3177,3181)
                                PsiElement(:)(':')(3181,3182)
                              PsiElement(identifier)('Request')(3182,3189)
                      PsiWhiteSpace(' ')(3189,3190)
                      PsiElement(identifier)('req')(3190,3193)
                PsiElement())(')')(3193,3194)
              PsiWhiteSpace(' ')(3194,3195)
              CALLABLE_UNIT_BODY(3195,3803)
                PsiElement({)('{')(3195,3196)
                PsiWhiteSpace('\n        ')(3196,3205)
                STATEMENT(3205,3240)
                  VARIABLE_DEFINITION_STATEMENT(3205,3240)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(3205,3240)
                      PsiElement(var)('var')(3205,3208)
                      PsiWhiteSpace(' ')(3208,3209)
                      BINDING_PATTERN(3209,3216)
                        PsiElement(identifier)('jsonMsg')(3209,3216)
                      PsiWhiteSpace(' ')(3216,3217)
                      PsiElement(=)('=')(3217,3218)
                      PsiWhiteSpace(' ')(3218,3219)
                      VARIABLE_REFERENCE_EXPRESSION(3219,3239)
                        INVOCATION_REFERENCE(3219,3239)
                          SIMPLE_VARIABLE_REFERENCE(3219,3222)
                            NAME_REFERENCE(3219,3222)
                              PsiElement(identifier)('req')(3219,3222)
                          INVOCATION(3222,3239)
                            PsiElement(.)('.')(3222,3223)
                            ANY_IDENTIFIER_NAME(3223,3237)
                              PsiElement(identifier)('getJsonPayload')(3223,3237)
                            PsiElement(()('(')(3237,3238)
                            PsiElement())(')')(3238,3239)
                      PsiElement(;)(';')(3239,3240)
                PsiWhiteSpace('\n        ')(3240,3249)
                STATEMENT(3249,3797)
                  IF_ELSE_STATEMENT(3249,3797)
                    IF_CLAUSE(3249,3617)
                      PsiElement(if)('if')(3249,3251)
                      PsiWhiteSpace(' ')(3251,3252)
                      BRACED_OR_TUPLE_EXPRESSION(3252,3269)
                        TUPLE_LITERAL(3252,3269)
                          PsiElement(()('(')(3252,3253)
                          TYPE_TEST_EXPRESSION(3253,3268)
                            VARIABLE_REFERENCE_EXPRESSION(3253,3260)
                              SIMPLE_VARIABLE_REFERENCE(3253,3260)
                                NAME_REFERENCE(3253,3260)
                                  PsiElement(identifier)('jsonMsg')(3253,3260)
                            PsiWhiteSpace(' ')(3260,3261)
                            PsiElement(is)('is')(3261,3263)
                            PsiWhiteSpace(' ')(3263,3264)
                            SIMPLE_TYPE_NAME(3264,3268)
                              REFERENCE_TYPE_NAME(3264,3268)
                                BUILT_IN_REFERENCE_TYPE_NAME(3264,3268)
                                  JSON_TYPE_NAME(3264,3268)
                                    PsiElement(json)('json')(3264,3268)
                          PsiElement())(')')(3268,3269)
                      PsiWhiteSpace(' ')(3269,3270)
                      PsiElement({)('{')(3270,3271)
                      PsiWhiteSpace('\n            ')(3271,3284)
                      BLOCK(3284,3607)
                        STATEMENT(3284,3339)
                          VARIABLE_DEFINITION_STATEMENT(3284,3339)
                            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(3284,3339)
                              PsiElement(var)('var')(3284,3287)
                              PsiWhiteSpace(' ')(3287,3288)
                              BINDING_PATTERN(3288,3303)
                                PsiElement(identifier)('productMaterial')(3288,3303)
                              PsiWhiteSpace(' ')(3303,3304)
                              PsiElement(=)('=')(3304,3305)
                              PsiWhiteSpace(' ')(3305,3306)
                              VARIABLE_REFERENCE_EXPRESSION(3306,3338)
                                INVOCATION_REFERENCE(3306,3338)
                                  SIMPLE_VARIABLE_REFERENCE(3306,3321)
                                    NAME_REFERENCE(3306,3321)
                                      PsiElement(identifier)('ProductMaterial')(3306,3321)
                                  INVOCATION(3321,3338)
                                    PsiElement(.)('.')(3321,3322)
                                    ANY_IDENTIFIER_NAME(3322,3329)
                                      PsiElement(identifier)('convert')(3322,3329)
                                    PsiElement(()('(')(3329,3330)
                                    INVOCATION_ARG_LIST(3330,3337)
                                      INVOCATION_ARG(3330,3337)
                                        VARIABLE_REFERENCE_EXPRESSION(3330,3337)
                                          SIMPLE_VARIABLE_REFERENCE(3330,3337)
                                            NAME_REFERENCE(3330,3337)
                                              PsiElement(identifier)('jsonMsg')(3330,3337)
                                    PsiElement())(')')(3337,3338)
                              PsiElement(;)(';')(3338,3339)
                        PsiWhiteSpace('\n            ')(3339,3352)
                        STATEMENT(3352,3395)
                          EXPRESSION_STMT(3352,3395)
                            VARIABLE_REFERENCE_EXPRESSION(3352,3394)
                              INVOCATION_REFERENCE(3352,3394)
                                SIMPLE_VARIABLE_REFERENCE(3352,3369)
                                  NAME_REFERENCE(3352,3369)
                                    PsiElement(identifier)('rawMaterialStream')(3352,3369)
                                INVOCATION(3369,3394)
                                  PsiElement(.)('.')(3369,3370)
                                  ANY_IDENTIFIER_NAME(3370,3377)
                                    PsiElement(identifier)('publish')(3370,3377)
                                  PsiElement(()('(')(3377,3378)
                                  INVOCATION_ARG_LIST(3378,3393)
                                    INVOCATION_ARG(3378,3393)
                                      VARIABLE_REFERENCE_EXPRESSION(3378,3393)
                                        SIMPLE_VARIABLE_REFERENCE(3378,3393)
                                          NAME_REFERENCE(3378,3393)
                                            PsiElement(identifier)('productMaterial')(3378,3393)
                                  PsiElement())(')')(3393,3394)
                            PsiElement(;)(';')(3394,3395)
                        PsiWhiteSpace('\n\n            ')(3395,3409)
                        STATEMENT(3409,3433)
                          VARIABLE_DEFINITION_STATEMENT(3409,3433)
                            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(3409,3433)
                              SIMPLE_TYPE_NAME(3409,3422)
                                REFERENCE_TYPE_NAME(3409,3422)
                                  USER_DEFINE_TYPE_NAME(3409,3422)
                                    NAME_REFERENCE(3409,3422)
                                      PACKAGE_REFERENCE(3409,3414)
                                        PsiElement(identifier)('http')(3409,3413)
                                        PsiElement(:)(':')(3413,3414)
                                      PsiElement(identifier)('Response')(3414,3422)
                              PsiWhiteSpace(' ')(3422,3423)
                              BINDING_PATTERN(3423,3426)
                                PsiElement(identifier)('res')(3423,3426)
                              PsiWhiteSpace(' ')(3426,3427)
                              PsiElement(=)('=')(3427,3428)
                              PsiWhiteSpace(' ')(3428,3429)
                              TYPE_INIT_EXPRESSION(3429,3432)
                                INIT_WITHOUT_TYPE(3429,3432)
                                  PsiElement(new)('new')(3429,3432)
                              PsiElement(;)(';')(3432,3433)
                        PsiWhiteSpace('\n            ')(3433,3446)
                        STATEMENT(3446,3569)
                          EXPRESSION_STMT(3446,3569)
                            VARIABLE_REFERENCE_EXPRESSION(3446,3568)
                              INVOCATION_REFERENCE(3446,3568)
                                SIMPLE_VARIABLE_REFERENCE(3446,3449)
                                  NAME_REFERENCE(3446,3449)
                                    PsiElement(identifier)('res')(3446,3449)
                                INVOCATION(3449,3568)
                                  PsiElement(.)('.')(3449,3450)
                                  ANY_IDENTIFIER_NAME(3450,3464)
                                    PsiElement(identifier)('setJsonPayload')(3450,3464)
                                  PsiElement(()('(')(3464,3465)
                                  INVOCATION_ARG_LIST(3465,3567)
                                    INVOCATION_ARG(3465,3567)
                                      RECORD_LITERAL_EXPRESSION(3465,3567)
                                        RECORD_LITERAL(3465,3567)
                                          PsiElement({)('{')(3465,3466)
                                          RECORD_LITERAL_BODY(3466,3566)
                                            RECORD_KEY_VALUE(3466,3566)
                                              RECORD_KEY(3466,3475)
                                                SIMPLE_LITERAL_EXPRESSION(3466,3475)
                                                  SIMPLE_LITERAL(3466,3475)
                                                    PsiElement(QUOTED_STRING_LITERAL)('"message"')(3466,3475)
                                              PsiElement(:)(':')(3475,3476)
                                              PsiWhiteSpace(' ')(3476,3477)
                                              BINARY_ADD_SUB_EXPRESSION(3477,3566)
                                                SIMPLE_LITERAL_EXPRESSION(3477,3499)
                                                  SIMPLE_LITERAL(3477,3499)
                                                    PsiElement(QUOTED_STRING_LITERAL)('"Raw material request"')(3477,3499)
                                                PsiWhiteSpace('\n                                        ')(3499,3540)
                                                PsiElement(+)('+')(3540,3541)
                                                PsiWhiteSpace(' ')(3541,3542)
                                                SIMPLE_LITERAL_EXPRESSION(3542,3566)
                                                  SIMPLE_LITERAL(3542,3566)
                                                    PsiElement(QUOTED_STRING_LITERAL)('" successfully received"')(3542,3566)
                                          PsiElement(})('}')(3566,3567)
                                  PsiElement())(')')(3567,3568)
                            PsiElement(;)(';')(3568,3569)
                        PsiWhiteSpace('\n            ')(3569,3582)
                        STATEMENT(3582,3607)
                          ASSIGNMENT_STATEMENT(3582,3607)
                            SIMPLE_VARIABLE_REFERENCE(3582,3583)
                              NAME_REFERENCE(3582,3583)
                                PsiElement(identifier)('_')(3582,3583)
                            PsiWhiteSpace(' ')(3583,3584)
                            PsiElement(=)('=')(3584,3585)
                            PsiWhiteSpace(' ')(3585,3586)
                            ACTION_INVOCATION_EXPRESSION(3586,3606)
                              ACTION_INVOCATION(3586,3606)
                                SIMPLE_VARIABLE_REFERENCE(3586,3592)
                                  NAME_REFERENCE(3586,3592)
                                    PsiElement(identifier)('caller')(3586,3592)
                                PsiElement(->)('->')(3592,3594)
                                FUNCTION_INVOCATION(3594,3606)
                                  FUNCTION_NAME_REFERENCE(3594,3601)
                                    ANY_IDENTIFIER_NAME(3594,3601)
                                      PsiElement(identifier)('respond')(3594,3601)
                                  PsiElement(()('(')(3601,3602)
                                  INVOCATION_ARG_LIST(3602,3605)
                                    INVOCATION_ARG(3602,3605)
                                      VARIABLE_REFERENCE_EXPRESSION(3602,3605)
                                        SIMPLE_VARIABLE_REFERENCE(3602,3605)
                                          NAME_REFERENCE(3602,3605)
                                            PsiElement(identifier)('res')(3602,3605)
                                  PsiElement())(')')(3605,3606)
                            PsiElement(;)(';')(3606,3607)
                      PsiWhiteSpace('\n        ')(3607,3616)
                      PsiElement(})('}')(3616,3617)
                    PsiWhiteSpace(' ')(3617,3618)
                    ELSE_CLAUSE(3618,3797)
                      PsiElement(else)('else')(3618,3622)
                      PsiWhiteSpace(' ')(3622,3623)
                      PsiElement({)('{')(3623,3624)
                      PsiWhiteSpace('\n            ')(3624,3637)
                      BLOCK(3637,3787)
                        STATEMENT(3637,3661)
                          VARIABLE_DEFINITION_STATEMENT(3637,3661)
                            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(3637,3661)
                              SIMPLE_TYPE_NAME(3637,3650)
                                REFERENCE_TYPE_NAME(3637,3650)
                                  USER_DEFINE_TYPE_NAME(3637,3650)
                                    NAME_REFERENCE(3637,3650)
                                      PACKAGE_REFERENCE(3637,3642)
                                        PsiElement(identifier)('http')(3637,3641)
                                        PsiElement(:)(':')(3641,3642)
                                      PsiElement(identifier)('Response')(3642,3650)
                              PsiWhiteSpace(' ')(3650,3651)
                              BINDING_PATTERN(3651,3654)
                                PsiElement(identifier)('res')(3651,3654)
                              PsiWhiteSpace(' ')(3654,3655)
                              PsiElement(=)('=')(3655,3656)
                              PsiWhiteSpace(' ')(3656,3657)
                              TYPE_INIT_EXPRESSION(3657,3660)
                                INIT_WITHOUT_TYPE(3657,3660)
                                  PsiElement(new)('new')(3657,3660)
                              PsiElement(;)(';')(3660,3661)
                        PsiWhiteSpace('\n            ')(3661,3674)
                        STATEMENT(3674,3695)
                          ASSIGNMENT_STATEMENT(3674,3695)
                            FIELD_VARIABLE_REFERENCE(3674,3688)
                              SIMPLE_VARIABLE_REFERENCE(3674,3677)
                                NAME_REFERENCE(3674,3677)
                                  PsiElement(identifier)('res')(3674,3677)
                              FIELD(3677,3688)
                                PsiElement(.)('.')(3677,3678)
                                PsiElement(identifier)('statusCode')(3678,3688)
                            PsiWhiteSpace(' ')(3688,3689)
                            PsiElement(=)('=')(3689,3690)
                            PsiWhiteSpace(' ')(3690,3691)
                            SIMPLE_LITERAL_EXPRESSION(3691,3694)
                              SIMPLE_LITERAL(3691,3694)
                                INTEGER_LITERAL(3691,3694)
                                  PsiElement(DECIMAL_INTEGER_LITERAL)('500')(3691,3694)
                            PsiElement(;)(';')(3694,3695)
                        PsiWhiteSpace('\n            ')(3695,3708)
                        STATEMENT(3708,3749)
                          EXPRESSION_STMT(3708,3749)
                            VARIABLE_REFERENCE_EXPRESSION(3708,3748)
                              INVOCATION_REFERENCE(3708,3748)
                                SIMPLE_VARIABLE_REFERENCE(3708,3711)
                                  NAME_REFERENCE(3708,3711)
                                    PsiElement(identifier)('res')(3708,3711)
                                INVOCATION(3711,3748)
                                  PsiElement(.)('.')(3711,3712)
                                  ANY_IDENTIFIER_NAME(3712,3722)
                                    PsiElement(identifier)('setPayload')(3712,3722)
                                  PsiElement(()('(')(3722,3723)
                                  INVOCATION_ARG_LIST(3723,3747)
                                    INVOCATION_ARG(3723,3747)
                                      UNARY_EXPRESSION(3723,3747)
                                        PsiElement(untaint)('untaint')(3723,3730)
                                        PsiWhiteSpace(' ')(3730,3731)
                                        VARIABLE_REFERENCE_EXPRESSION(3731,3747)
                                          INVOCATION_REFERENCE(3731,3747)
                                            SIMPLE_VARIABLE_REFERENCE(3731,3738)
                                              NAME_REFERENCE(3731,3738)
                                                PsiElement(identifier)('jsonMsg')(3731,3738)
                                            INVOCATION(3738,3747)
                                              PsiElement(.)('.')(3738,3739)
                                              ANY_IDENTIFIER_NAME(3739,3745)
                                                PsiElement(identifier)('reason')(3739,3745)
                                              PsiElement(()('(')(3745,3746)
                                              PsiElement())(')')(3746,3747)
                                  PsiElement())(')')(3747,3748)
                            PsiElement(;)(';')(3748,3749)
                        PsiWhiteSpace('\n            ')(3749,3762)
                        STATEMENT(3762,3787)
                          ASSIGNMENT_STATEMENT(3762,3787)
                            SIMPLE_VARIABLE_REFERENCE(3762,3763)
                              NAME_REFERENCE(3762,3763)
                                PsiElement(identifier)('_')(3762,3763)
                            PsiWhiteSpace(' ')(3763,3764)
                            PsiElement(=)('=')(3764,3765)
                            PsiWhiteSpace(' ')(3765,3766)
                            ACTION_INVOCATION_EXPRESSION(3766,3786)
                              ACTION_INVOCATION(3766,3786)
                                SIMPLE_VARIABLE_REFERENCE(3766,3772)
                                  NAME_REFERENCE(3766,3772)
                                    PsiElement(identifier)('caller')(3766,3772)
                                PsiElement(->)('->')(3772,3774)
                                FUNCTION_INVOCATION(3774,3786)
                                  FUNCTION_NAME_REFERENCE(3774,3781)
                                    ANY_IDENTIFIER_NAME(3774,3781)
                                      PsiElement(identifier)('respond')(3774,3781)
                                  PsiElement(()('(')(3781,3782)
                                  INVOCATION_ARG_LIST(3782,3785)
                                    INVOCATION_ARG(3782,3785)
                                      VARIABLE_REFERENCE_EXPRESSION(3782,3785)
                                        SIMPLE_VARIABLE_REFERENCE(3782,3785)
                                          NAME_REFERENCE(3782,3785)
                                            PsiElement(identifier)('res')(3782,3785)
                                  PsiElement())(')')(3785,3786)
                            PsiElement(;)(';')(3786,3787)
                      PsiWhiteSpace('\n        ')(3787,3796)
                      PsiElement(})('}')(3796,3797)
                PsiWhiteSpace('\n    ')(3797,3802)
                PsiElement(})('}')(3802,3803)
          PsiWhiteSpace('\n\n    ')(3803,3809)
          SERVICE_BODY_MEMBER(3809,4632)
            OBJECT_FUNCTION_DEFINITION(3809,4632)
              ANNOTATION_ATTACHMENT(3809,3900)
                PsiElement(@)('@')(3809,3810)
                NAME_REFERENCE(3810,3829)
                  PACKAGE_REFERENCE(3810,3815)
                    PsiElement(identifier)('http')(3810,3814)
                    PsiElement(:)(':')(3814,3815)
                  PsiElement(identifier)('ResourceConfig')(3815,3829)
                PsiWhiteSpace(' ')(3829,3830)
                RECORD_LITERAL(3830,3900)
                  PsiElement({)('{')(3830,3831)
                  PsiWhiteSpace('\n        ')(3831,3840)
                  RECORD_LITERAL_BODY(3840,3894)
                    RECORD_KEY_VALUE(3840,3857)
                      RECORD_KEY(3840,3847)
                        VARIABLE_REFERENCE_EXPRESSION(3840,3847)
                          SIMPLE_VARIABLE_REFERENCE(3840,3847)
                            NAME_REFERENCE(3840,3847)
                              PsiElement(identifier)('methods')(3840,3847)
                      PsiElement(:)(':')(3847,3848)
                      PsiWhiteSpace(' ')(3848,3849)
                      ARRAY_LITERAL_EXPRESSION(3849,3857)
                        ARRAY_LITERAL(3849,3857)
                          PsiElement([)('[')(3849,3850)
                          EXPRESSION_LIST(3850,3856)
                            SIMPLE_LITERAL_EXPRESSION(3850,3856)
                              SIMPLE_LITERAL(3850,3856)
                                PsiElement(QUOTED_STRING_LITERAL)('"POST"')(3850,3856)
                          PsiElement(])(']')(3856,3857)
                    PsiElement(,)(',')(3857,3858)
                    PsiWhiteSpace('\n        ')(3858,3867)
                    RECORD_KEY_VALUE(3867,3894)
                      RECORD_KEY(3867,3871)
                        VARIABLE_REFERENCE_EXPRESSION(3867,3871)
                          SIMPLE_VARIABLE_REFERENCE(3867,3871)
                            NAME_REFERENCE(3867,3871)
                              PsiElement(identifier)('path')(3867,3871)
                      PsiElement(:)(':')(3871,3872)
                      PsiWhiteSpace(' ')(3872,3873)
                      SIMPLE_LITERAL_EXPRESSION(3873,3894)
                        SIMPLE_LITERAL(3873,3894)
                          PsiElement(QUOTED_STRING_LITERAL)('"/productionmaterial"')(3873,3894)
                  PsiWhiteSpace('\n    ')(3894,3899)
                  PsiElement(})('}')(3899,3900)
              PsiWhiteSpace('\n    ')(3900,3905)
              PsiElement(resource)('resource')(3905,3913)
              PsiWhiteSpace(' ')(3913,3914)
              PsiElement(function)('function')(3914,3922)
              PsiWhiteSpace(' ')(3922,3923)
              CALLABLE_UNIT_SIGNATURE(3923,4018)
                ANY_IDENTIFIER_NAME(3923,3949)
                  PsiElement(identifier)('productionmaterialrequests')(3923,3949)
                PsiElement(()('(')(3949,3950)
                FORMAL_PARAMETER_LIST(3950,4017)
                  PARAMETER(3950,3968)
                    PARAMETER_WITH_TYPE(3950,3968)
                      SIMPLE_TYPE_NAME(3950,3961)
                        REFERENCE_TYPE_NAME(3950,3961)
                          USER_DEFINE_TYPE_NAME(3950,3961)
                            NAME_REFERENCE(3950,3961)
                              PACKAGE_REFERENCE(3950,3955)
                                PsiElement(identifier)('http')(3950,3954)
                                PsiElement(:)(':')(3954,3955)
                              PsiElement(identifier)('Caller')(3955,3961)
                      PsiWhiteSpace(' ')(3961,3962)
                      PsiElement(identifier)('caller')(3962,3968)
                  PsiElement(,)(',')(3968,3969)
                  PsiWhiteSpace('\n                               ')(3969,4001)
                  PARAMETER(4001,4017)
                    PARAMETER_WITH_TYPE(4001,4017)
                      SIMPLE_TYPE_NAME(4001,4013)
                        REFERENCE_TYPE_NAME(4001,4013)
                          USER_DEFINE_TYPE_NAME(4001,4013)
                            NAME_REFERENCE(4001,4013)
                              PACKAGE_REFERENCE(4001,4006)
                                PsiElement(identifier)('http')(4001,4005)
                                PsiElement(:)(':')(4005,4006)
                              PsiElement(identifier)('Request')(4006,4013)
                      PsiWhiteSpace(' ')(4013,4014)
                      PsiElement(identifier)('req')(4014,4017)
                PsiElement())(')')(4017,4018)
              PsiWhiteSpace(' ')(4018,4019)
              CALLABLE_UNIT_BODY(4019,4632)
                PsiElement({)('{')(4019,4020)
                PsiWhiteSpace('\n        ')(4020,4029)
                STATEMENT(4029,4064)
                  VARIABLE_DEFINITION_STATEMENT(4029,4064)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(4029,4064)
                      PsiElement(var)('var')(4029,4032)
                      PsiWhiteSpace(' ')(4032,4033)
                      BINDING_PATTERN(4033,4040)
                        PsiElement(identifier)('jsonMsg')(4033,4040)
                      PsiWhiteSpace(' ')(4040,4041)
                      PsiElement(=)('=')(4041,4042)
                      PsiWhiteSpace(' ')(4042,4043)
                      VARIABLE_REFERENCE_EXPRESSION(4043,4063)
                        INVOCATION_REFERENCE(4043,4063)
                          SIMPLE_VARIABLE_REFERENCE(4043,4046)
                            NAME_REFERENCE(4043,4046)
                              PsiElement(identifier)('req')(4043,4046)
                          INVOCATION(4046,4063)
                            PsiElement(.)('.')(4046,4047)
                            ANY_IDENTIFIER_NAME(4047,4061)
                              PsiElement(identifier)('getJsonPayload')(4047,4061)
                            PsiElement(()('(')(4061,4062)
                            PsiElement())(')')(4062,4063)
                      PsiElement(;)(';')(4063,4064)
                PsiWhiteSpace('\n        ')(4064,4073)
                STATEMENT(4073,4626)
                  IF_ELSE_STATEMENT(4073,4626)
                    IF_CLAUSE(4073,4446)
                      PsiElement(if)('if')(4073,4075)
                      PsiWhiteSpace(' ')(4075,4076)
                      BRACED_OR_TUPLE_EXPRESSION(4076,4093)
                        TUPLE_LITERAL(4076,4093)
                          PsiElement(()('(')(4076,4077)
                          TYPE_TEST_EXPRESSION(4077,4092)
                            VARIABLE_REFERENCE_EXPRESSION(4077,4084)
                              SIMPLE_VARIABLE_REFERENCE(4077,4084)
                                NAME_REFERENCE(4077,4084)
                                  PsiElement(identifier)('jsonMsg')(4077,4084)
                            PsiWhiteSpace(' ')(4084,4085)
                            PsiElement(is)('is')(4085,4087)
                            PsiWhiteSpace(' ')(4087,4088)
                            SIMPLE_TYPE_NAME(4088,4092)
                              REFERENCE_TYPE_NAME(4088,4092)
                                BUILT_IN_REFERENCE_TYPE_NAME(4088,4092)
                                  JSON_TYPE_NAME(4088,4092)
                                    PsiElement(json)('json')(4088,4092)
                          PsiElement())(')')(4092,4093)
                      PsiWhiteSpace(' ')(4093,4094)
                      PsiElement({)('{')(4094,4095)
                      PsiWhiteSpace('\n            ')(4095,4108)
                      BLOCK(4108,4435)
                        STATEMENT(4108,4163)
                          VARIABLE_DEFINITION_STATEMENT(4108,4163)
                            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(4108,4163)
                              PsiElement(var)('var')(4108,4111)
                              PsiWhiteSpace(' ')(4111,4112)
                              BINDING_PATTERN(4112,4127)
                                PsiElement(identifier)('productMaterial')(4112,4127)
                              PsiWhiteSpace(' ')(4127,4128)
                              PsiElement(=)('=')(4128,4129)
                              PsiWhiteSpace(' ')(4129,4130)
                              VARIABLE_REFERENCE_EXPRESSION(4130,4162)
                                INVOCATION_REFERENCE(4130,4162)
                                  SIMPLE_VARIABLE_REFERENCE(4130,4145)
                                    NAME_REFERENCE(4130,4145)
                                      PsiElement(identifier)('ProductMaterial')(4130,4145)
                                  INVOCATION(4145,4162)
                                    PsiElement(.)('.')(4145,4146)
                                    ANY_IDENTIFIER_NAME(4146,4153)
                                      PsiElement(identifier)('convert')(4146,4153)
                                    PsiElement(()('(')(4153,4154)
                                    INVOCATION_ARG_LIST(4154,4161)
                                      INVOCATION_ARG(4154,4161)
                                        VARIABLE_REFERENCE_EXPRESSION(4154,4161)
                                          SIMPLE_VARIABLE_REFERENCE(4154,4161)
                                            NAME_REFERENCE(4154,4161)
                                              PsiElement(identifier)('jsonMsg')(4154,4161)
                                    PsiElement())(')')(4161,4162)
                              PsiElement(;)(';')(4162,4163)
                        PsiWhiteSpace('\n            ')(4163,4176)
                        STATEMENT(4176,4223)
                          EXPRESSION_STMT(4176,4223)
                            VARIABLE_REFERENCE_EXPRESSION(4176,4222)
                              INVOCATION_REFERENCE(4176,4222)
                                SIMPLE_VARIABLE_REFERENCE(4176,4197)
                                  NAME_REFERENCE(4176,4197)
                                    PsiElement(identifier)('productionInputStream')(4176,4197)
                                INVOCATION(4197,4222)
                                  PsiElement(.)('.')(4197,4198)
                                  ANY_IDENTIFIER_NAME(4198,4205)
                                    PsiElement(identifier)('publish')(4198,4205)
                                  PsiElement(()('(')(4205,4206)
                                  INVOCATION_ARG_LIST(4206,4221)
                                    INVOCATION_ARG(4206,4221)
                                      VARIABLE_REFERENCE_EXPRESSION(4206,4221)
                                        SIMPLE_VARIABLE_REFERENCE(4206,4221)
                                          NAME_REFERENCE(4206,4221)
                                            PsiElement(identifier)('productMaterial')(4206,4221)
                                  PsiElement())(')')(4221,4222)
                            PsiElement(;)(';')(4222,4223)
                        PsiWhiteSpace('\n\n            ')(4223,4237)
                        STATEMENT(4237,4261)
                          VARIABLE_DEFINITION_STATEMENT(4237,4261)
                            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(4237,4261)
                              SIMPLE_TYPE_NAME(4237,4250)
                                REFERENCE_TYPE_NAME(4237,4250)
                                  USER_DEFINE_TYPE_NAME(4237,4250)
                                    NAME_REFERENCE(4237,4250)
                                      PACKAGE_REFERENCE(4237,4242)
                                        PsiElement(identifier)('http')(4237,4241)
                                        PsiElement(:)(':')(4241,4242)
                                      PsiElement(identifier)('Response')(4242,4250)
                              PsiWhiteSpace(' ')(4250,4251)
                              BINDING_PATTERN(4251,4254)
                                PsiElement(identifier)('res')(4251,4254)
                              PsiWhiteSpace(' ')(4254,4255)
                              PsiElement(=)('=')(4255,4256)
                              PsiWhiteSpace(' ')(4256,4257)
                              TYPE_INIT_EXPRESSION(4257,4260)
                                INIT_WITHOUT_TYPE(4257,4260)
                                  PsiElement(new)('new')(4257,4260)
                              PsiElement(;)(';')(4260,4261)
                        PsiWhiteSpace('\n            ')(4261,4274)
                        STATEMENT(4274,4397)
                          EXPRESSION_STMT(4274,4397)
                            VARIABLE_REFERENCE_EXPRESSION(4274,4396)
                              INVOCATION_REFERENCE(4274,4396)
                                SIMPLE_VARIABLE_REFERENCE(4274,4277)
                                  NAME_REFERENCE(4274,4277)
                                    PsiElement(identifier)('res')(4274,4277)
                                INVOCATION(4277,4396)
                                  PsiElement(.)('.')(4277,4278)
                                  ANY_IDENTIFIER_NAME(4278,4292)
                                    PsiElement(identifier)('setJsonPayload')(4278,4292)
                                  PsiElement(()('(')(4292,4293)
                                  INVOCATION_ARG_LIST(4293,4395)
                                    INVOCATION_ARG(4293,4395)
                                      RECORD_LITERAL_EXPRESSION(4293,4395)
                                        RECORD_LITERAL(4293,4395)
                                          PsiElement({)('{')(4293,4294)
                                          RECORD_LITERAL_BODY(4294,4394)
                                            RECORD_KEY_VALUE(4294,4394)
                                              RECORD_KEY(4294,4303)
                                                SIMPLE_LITERAL_EXPRESSION(4294,4303)
                                                  SIMPLE_LITERAL(4294,4303)
                                                    PsiElement(QUOTED_STRING_LITERAL)('"message"')(4294,4303)
                                              PsiElement(:)(':')(4303,4304)
                                              PsiWhiteSpace(' ')(4304,4305)
                                              BINARY_ADD_SUB_EXPRESSION(4305,4394)
                                                SIMPLE_LITERAL_EXPRESSION(4305,4324)
                                                  SIMPLE_LITERAL(4305,4324)
                                                    PsiElement(QUOTED_STRING_LITERAL)('"Production input "')(4305,4324)
                                                PsiWhiteSpace(' ')(4324,4325)
                                                PsiElement(+)('+')(4325,4326)
                                                PsiWhiteSpace('\n                                    ')(4326,4363)
                                                SIMPLE_LITERAL_EXPRESSION(4363,4394)
                                                  SIMPLE_LITERAL(4363,4394)
                                                    PsiElement(QUOTED_STRING_LITERAL)('"request successfully received"')(4363,4394)
                                          PsiElement(})('}')(4394,4395)
                                  PsiElement())(')')(4395,4396)
                            PsiElement(;)(';')(4396,4397)
                        PsiWhiteSpace('\n            ')(4397,4410)
                        STATEMENT(4410,4435)
                          ASSIGNMENT_STATEMENT(4410,4435)
                            SIMPLE_VARIABLE_REFERENCE(4410,4411)
                              NAME_REFERENCE(4410,4411)
                                PsiElement(identifier)('_')(4410,4411)
                            PsiWhiteSpace(' ')(4411,4412)
                            PsiElement(=)('=')(4412,4413)
                            PsiWhiteSpace(' ')(4413,4414)
                            ACTION_INVOCATION_EXPRESSION(4414,4434)
                              ACTION_INVOCATION(4414,4434)
                                SIMPLE_VARIABLE_REFERENCE(4414,4420)
                                  NAME_REFERENCE(4414,4420)
                                    PsiElement(identifier)('caller')(4414,4420)
                                PsiElement(->)('->')(4420,4422)
                                FUNCTION_INVOCATION(4422,4434)
                                  FUNCTION_NAME_REFERENCE(4422,4429)
                                    ANY_IDENTIFIER_NAME(4422,4429)
                                      PsiElement(identifier)('respond')(4422,4429)
                                  PsiElement(()('(')(4429,4430)
                                  INVOCATION_ARG_LIST(4430,4433)
                                    INVOCATION_ARG(4430,4433)
                                      VARIABLE_REFERENCE_EXPRESSION(4430,4433)
                                        SIMPLE_VARIABLE_REFERENCE(4430,4433)
                                          NAME_REFERENCE(4430,4433)
                                            PsiElement(identifier)('res')(4430,4433)
                                  PsiElement())(')')(4433,4434)
                            PsiElement(;)(';')(4434,4435)
                      PsiWhiteSpace('\n\n        ')(4435,4445)
                      PsiElement(})('}')(4445,4446)
                    PsiWhiteSpace(' ')(4446,4447)
                    ELSE_CLAUSE(4447,4626)
                      PsiElement(else)('else')(4447,4451)
                      PsiWhiteSpace(' ')(4451,4452)
                      PsiElement({)('{')(4452,4453)
                      PsiWhiteSpace('\n            ')(4453,4466)
                      BLOCK(4466,4616)
                        STATEMENT(4466,4490)
                          VARIABLE_DEFINITION_STATEMENT(4466,4490)
                            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(4466,4490)
                              SIMPLE_TYPE_NAME(4466,4479)
                                REFERENCE_TYPE_NAME(4466,4479)
                                  USER_DEFINE_TYPE_NAME(4466,4479)
                                    NAME_REFERENCE(4466,4479)
                                      PACKAGE_REFERENCE(4466,4471)
                                        PsiElement(identifier)('http')(4466,4470)
                                        PsiElement(:)(':')(4470,4471)
                                      PsiElement(identifier)('Response')(4471,4479)
                              PsiWhiteSpace(' ')(4479,4480)
                              BINDING_PATTERN(4480,4483)
                                PsiElement(identifier)('res')(4480,4483)
                              PsiWhiteSpace(' ')(4483,4484)
                              PsiElement(=)('=')(4484,4485)
                              PsiWhiteSpace(' ')(4485,4486)
                              TYPE_INIT_EXPRESSION(4486,4489)
                                INIT_WITHOUT_TYPE(4486,4489)
                                  PsiElement(new)('new')(4486,4489)
                              PsiElement(;)(';')(4489,4490)
                        PsiWhiteSpace('\n            ')(4490,4503)
                        STATEMENT(4503,4524)
                          ASSIGNMENT_STATEMENT(4503,4524)
                            FIELD_VARIABLE_REFERENCE(4503,4517)
                              SIMPLE_VARIABLE_REFERENCE(4503,4506)
                                NAME_REFERENCE(4503,4506)
                                  PsiElement(identifier)('res')(4503,4506)
                              FIELD(4506,4517)
                                PsiElement(.)('.')(4506,4507)
                                PsiElement(identifier)('statusCode')(4507,4517)
                            PsiWhiteSpace(' ')(4517,4518)
                            PsiElement(=)('=')(4518,4519)
                            PsiWhiteSpace(' ')(4519,4520)
                            SIMPLE_LITERAL_EXPRESSION(4520,4523)
                              SIMPLE_LITERAL(4520,4523)
                                INTEGER_LITERAL(4520,4523)
                                  PsiElement(DECIMAL_INTEGER_LITERAL)('500')(4520,4523)
                            PsiElement(;)(';')(4523,4524)
                        PsiWhiteSpace('\n            ')(4524,4537)
                        STATEMENT(4537,4578)
                          EXPRESSION_STMT(4537,4578)
                            VARIABLE_REFERENCE_EXPRESSION(4537,4577)
                              INVOCATION_REFERENCE(4537,4577)
                                SIMPLE_VARIABLE_REFERENCE(4537,4540)
                                  NAME_REFERENCE(4537,4540)
                                    PsiElement(identifier)('res')(4537,4540)
                                INVOCATION(4540,4577)
                                  PsiElement(.)('.')(4540,4541)
                                  ANY_IDENTIFIER_NAME(4541,4551)
                                    PsiElement(identifier)('setPayload')(4541,4551)
                                  PsiElement(()('(')(4551,4552)
                                  INVOCATION_ARG_LIST(4552,4576)
                                    INVOCATION_ARG(4552,4576)
                                      UNARY_EXPRESSION(4552,4576)
                                        PsiElement(untaint)('untaint')(4552,4559)
                                        PsiWhiteSpace(' ')(4559,4560)
                                        VARIABLE_REFERENCE_EXPRESSION(4560,4576)
                                          INVOCATION_REFERENCE(4560,4576)
                                            SIMPLE_VARIABLE_REFERENCE(4560,4567)
                                              NAME_REFERENCE(4560,4567)
                                                PsiElement(identifier)('jsonMsg')(4560,4567)
                                            INVOCATION(4567,4576)
                                              PsiElement(.)('.')(4567,4568)
                                              ANY_IDENTIFIER_NAME(4568,4574)
                                                PsiElement(identifier)('reason')(4568,4574)
                                              PsiElement(()('(')(4574,4575)
                                              PsiElement())(')')(4575,4576)
                                  PsiElement())(')')(4576,4577)
                            PsiElement(;)(';')(4577,4578)
                        PsiWhiteSpace('\n            ')(4578,4591)
                        STATEMENT(4591,4616)
                          ASSIGNMENT_STATEMENT(4591,4616)
                            SIMPLE_VARIABLE_REFERENCE(4591,4592)
                              NAME_REFERENCE(4591,4592)
                                PsiElement(identifier)('_')(4591,4592)
                            PsiWhiteSpace(' ')(4592,4593)
                            PsiElement(=)('=')(4593,4594)
                            PsiWhiteSpace(' ')(4594,4595)
                            ACTION_INVOCATION_EXPRESSION(4595,4615)
                              ACTION_INVOCATION(4595,4615)
                                SIMPLE_VARIABLE_REFERENCE(4595,4601)
                                  NAME_REFERENCE(4595,4601)
                                    PsiElement(identifier)('caller')(4595,4601)
                                PsiElement(->)('->')(4601,4603)
                                FUNCTION_INVOCATION(4603,4615)
                                  FUNCTION_NAME_REFERENCE(4603,4610)
                                    ANY_IDENTIFIER_NAME(4603,4610)
                                      PsiElement(identifier)('respond')(4603,4610)
                                  PsiElement(()('(')(4610,4611)
                                  INVOCATION_ARG_LIST(4611,4614)
                                    INVOCATION_ARG(4611,4614)
                                      VARIABLE_REFERENCE_EXPRESSION(4611,4614)
                                        SIMPLE_VARIABLE_REFERENCE(4611,4614)
                                          NAME_REFERENCE(4611,4614)
                                            PsiElement(identifier)('res')(4611,4614)
                                  PsiElement())(')')(4614,4615)
                            PsiElement(;)(';')(4615,4616)
                      PsiWhiteSpace('\n        ')(4616,4625)
                      PsiElement(})('}')(4625,4626)
                PsiWhiteSpace('\n    ')(4626,4631)
                PsiElement(})('}')(4631,4632)
          PsiWhiteSpace('\n')(4632,4633)
          PsiElement(})('}')(4633,4634)
