Ballerina File(0,2242)
  PsiComment(LINE_COMMENT)('// This is the client implementation for the TCP socket with the attached callback service. Callback service is optional.')(0,121)
  PsiWhiteSpace('\n')(121,122)
  IMPORT_DECLARATION(122,142)
    PsiElement(import)('import')(122,128)
    PsiWhiteSpace(' ')(128,129)
    ORG_NAME(129,138)
      PsiElement(identifier)('ballerina')(129,138)
    PsiElement(/)('/')(138,139)
    COMPLETE_PACKAGE_NAME(139,141)
      PACKAGE_NAME(139,141)
        PsiElement(identifier)('io')(139,141)
    PsiElement(;)(';')(141,142)
  PsiWhiteSpace('\n')(142,143)
  IMPORT_DECLARATION(143,167)
    PsiElement(import)('import')(143,149)
    PsiWhiteSpace(' ')(149,150)
    ORG_NAME(150,159)
      PsiElement(identifier)('ballerina')(150,159)
    PsiElement(/)('/')(159,160)
    COMPLETE_PACKAGE_NAME(160,166)
      PACKAGE_NAME(160,166)
        PsiElement(identifier)('socket')(160,166)
    PsiElement(;)(';')(166,167)
  PsiWhiteSpace('\n\n')(167,169)
  DEFINITION(169,722)
    FUNCTION_DEFINITION(169,722)
      PsiElement(PUBLIC)('public')(169,175)
      PsiWhiteSpace(' ')(175,176)
      PsiElement(function)('function')(176,184)
      PsiWhiteSpace(' ')(184,185)
      CALLABLE_UNIT_SIGNATURE(185,191)
        ANY_IDENTIFIER_NAME(185,189)
          PsiElement(identifier)('main')(185,189)
        PsiElement(()('(')(189,190)
        PsiElement())(')')(190,191)
      PsiWhiteSpace(' ')(191,192)
      CALLABLE_UNIT_BODY(192,722)
        PsiElement({)('{')(192,193)
        PsiWhiteSpace('\n    ')(193,198)
        PsiComment(LINE_COMMENT)('// Create a new socket client by providing the host, port, and callback service.')(198,278)
        PsiWhiteSpace('\n    ')(278,283)
        STATEMENT(283,396)
          VARIABLE_DEFINITION_STATEMENT(283,396)
            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(283,396)
              SIMPLE_TYPE_NAME(283,296)
                REFERENCE_TYPE_NAME(283,296)
                  USER_DEFINE_TYPE_NAME(283,296)
                    NAME_REFERENCE(283,296)
                      PACKAGE_REFERENCE(283,290)
                        PsiElement(identifier)('socket')(283,289)
                        PsiElement(:)(':')(289,290)
                      PsiElement(identifier)('Client')(290,296)
              PsiWhiteSpace(' ')(296,297)
              BINDING_PATTERN(297,309)
                PsiElement(identifier)('socketClient')(297,309)
              PsiWhiteSpace(' ')(309,310)
              PsiElement(=)('=')(310,311)
              PsiWhiteSpace(' ')(311,312)
              TYPE_INIT_EXPRESSION(312,395)
                INIT_WITHOUT_TYPE(312,395)
                  PsiElement(new)('new')(312,315)
                  PsiElement(()('(')(315,316)
                  INVOCATION_ARG_LIST(316,394)
                    INVOCATION_ARG(316,394)
                      RECORD_LITERAL_EXPRESSION(316,394)
                        RECORD_LITERAL(316,394)
                          PsiElement({)('{')(316,317)
                          PsiWhiteSpace(' ')(317,318)
                          RECORD_LITERAL_BODY(318,392)
                            RECORD_KEY_VALUE(318,335)
                              RECORD_KEY(318,322)
                                VARIABLE_REFERENCE_EXPRESSION(318,322)
                                  SIMPLE_VARIABLE_REFERENCE(318,322)
                                    NAME_REFERENCE(318,322)
                                      PsiElement(identifier)('host')(318,322)
                              PsiElement(:)(':')(322,323)
                              PsiWhiteSpace(' ')(323,324)
                              SIMPLE_LITERAL_EXPRESSION(324,335)
                                SIMPLE_LITERAL(324,335)
                                  PsiElement(QUOTED_STRING_LITERAL)('"localhost"')(324,335)
                            PsiElement(,)(',')(335,336)
                            PsiWhiteSpace(' ')(336,337)
                            RECORD_KEY_VALUE(337,348)
                              RECORD_KEY(337,341)
                                VARIABLE_REFERENCE_EXPRESSION(337,341)
                                  SIMPLE_VARIABLE_REFERENCE(337,341)
                                    NAME_REFERENCE(337,341)
                                      PsiElement(identifier)('port')(337,341)
                              PsiElement(:)(':')(341,342)
                              PsiWhiteSpace(' ')(342,343)
                              SIMPLE_LITERAL_EXPRESSION(343,348)
                                SIMPLE_LITERAL(343,348)
                                  INTEGER_LITERAL(343,348)
                                    PsiElement(DECIMAL_INTEGER_LITERAL)('61598')(343,348)
                            PsiElement(,)(',')(348,349)
                            PsiWhiteSpace('\n            ')(349,362)
                            RECORD_KEY_VALUE(362,392)
                              RECORD_KEY(362,377)
                                VARIABLE_REFERENCE_EXPRESSION(362,377)
                                  SIMPLE_VARIABLE_REFERENCE(362,377)
                                    NAME_REFERENCE(362,377)
                                      PsiElement(identifier)('callbackService')(362,377)
                              PsiElement(:)(':')(377,378)
                              PsiWhiteSpace(' ')(378,379)
                              VARIABLE_REFERENCE_EXPRESSION(379,392)
                                SIMPLE_VARIABLE_REFERENCE(379,392)
                                  NAME_REFERENCE(379,392)
                                    PsiElement(identifier)('ClientService')(379,392)
                          PsiWhiteSpace(' ')(392,393)
                          PsiElement(})('}')(393,394)
                  PsiElement())(')')(394,395)
              PsiElement(;)(';')(395,396)
        PsiWhiteSpace('\n    ')(396,401)
        STATEMENT(401,436)
          VARIABLE_DEFINITION_STATEMENT(401,436)
            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(401,436)
              SIMPLE_TYPE_NAME(401,407)
                VALUE_TYPE_NAME(401,407)
                  PsiElement(string)('string')(401,407)
              PsiWhiteSpace(' ')(407,408)
              BINDING_PATTERN(408,415)
                PsiElement(identifier)('content')(408,415)
              PsiWhiteSpace(' ')(415,416)
              PsiElement(=)('=')(416,417)
              PsiWhiteSpace(' ')(417,418)
              SIMPLE_LITERAL_EXPRESSION(418,435)
                SIMPLE_LITERAL(418,435)
                  PsiElement(QUOTED_STRING_LITERAL)('"Hello Ballerina"')(418,435)
              PsiElement(;)(';')(435,436)
        PsiWhiteSpace('\n    ')(436,441)
        STATEMENT(441,491)
          VARIABLE_DEFINITION_STATEMENT(441,491)
            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(441,491)
              ARRAY_TYPE_NAME(441,447)
                SIMPLE_TYPE_NAME(441,445)
                  VALUE_TYPE_NAME(441,445)
                    PsiElement(byte)('byte')(441,445)
                PsiElement([)('[')(445,446)
                PsiElement(])(']')(446,447)
              PsiWhiteSpace(' ')(447,448)
              BINDING_PATTERN(448,459)
                PsiElement(identifier)('payloadByte')(448,459)
              PsiWhiteSpace(' ')(459,460)
              PsiElement(=)('=')(460,461)
              PsiWhiteSpace(' ')(461,462)
              VARIABLE_REFERENCE_EXPRESSION(462,490)
                INVOCATION_REFERENCE(462,490)
                  SIMPLE_VARIABLE_REFERENCE(462,469)
                    NAME_REFERENCE(462,469)
                      PsiElement(identifier)('content')(462,469)
                  INVOCATION(469,490)
                    PsiElement(.)('.')(469,470)
                    ANY_IDENTIFIER_NAME(470,481)
                      PsiElement(identifier)('toByteArray')(470,481)
                    PsiElement(()('(')(481,482)
                    INVOCATION_ARG_LIST(482,489)
                      INVOCATION_ARG(482,489)
                        SIMPLE_LITERAL_EXPRESSION(482,489)
                          SIMPLE_LITERAL(482,489)
                            PsiElement(QUOTED_STRING_LITERAL)('"UTF-8"')(482,489)
                    PsiElement())(')')(489,490)
              PsiElement(;)(';')(490,491)
        PsiWhiteSpace('\n    ')(491,496)
        PsiComment(LINE_COMMENT)('// Send desired content to the server using the write function.')(496,559)
        PsiWhiteSpace('\n    ')(559,564)
        STATEMENT(564,615)
          VARIABLE_DEFINITION_STATEMENT(564,615)
            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(564,615)
              PsiElement(var)('var')(564,567)
              PsiWhiteSpace(' ')(567,568)
              BINDING_PATTERN(568,579)
                PsiElement(identifier)('writeResult')(568,579)
              PsiWhiteSpace(' ')(579,580)
              PsiElement(=)('=')(580,581)
              PsiWhiteSpace(' ')(581,582)
              ACTION_INVOCATION_EXPRESSION(582,614)
                ACTION_INVOCATION(582,614)
                  SIMPLE_VARIABLE_REFERENCE(582,594)
                    NAME_REFERENCE(582,594)
                      PsiElement(identifier)('socketClient')(582,594)
                  PsiElement(->)('->')(594,596)
                  FUNCTION_INVOCATION(596,614)
                    FUNCTION_NAME_REFERENCE(596,601)
                      ANY_IDENTIFIER_NAME(596,601)
                        PsiElement(identifier)('write')(596,601)
                    PsiElement(()('(')(601,602)
                    INVOCATION_ARG_LIST(602,613)
                      INVOCATION_ARG(602,613)
                        VARIABLE_REFERENCE_EXPRESSION(602,613)
                          SIMPLE_VARIABLE_REFERENCE(602,613)
                            NAME_REFERENCE(602,613)
                              PsiElement(identifier)('payloadByte')(602,613)
                    PsiElement())(')')(613,614)
              PsiElement(;)(';')(614,615)
        PsiWhiteSpace('\n    ')(615,620)
        STATEMENT(620,720)
          IF_ELSE_STATEMENT(620,720)
            IF_CLAUSE(620,720)
              PsiElement(if)('if')(620,622)
              PsiWhiteSpace(' ')(622,623)
              BRACED_OR_TUPLE_EXPRESSION(623,645)
                TUPLE_LITERAL(623,645)
                  PsiElement(()('(')(623,624)
                  TYPE_TEST_EXPRESSION(624,644)
                    VARIABLE_REFERENCE_EXPRESSION(624,635)
                      SIMPLE_VARIABLE_REFERENCE(624,635)
                        NAME_REFERENCE(624,635)
                          PsiElement(identifier)('writeResult')(624,635)
                    PsiWhiteSpace(' ')(635,636)
                    PsiElement(is)('is')(636,638)
                    PsiWhiteSpace(' ')(638,639)
                    SIMPLE_TYPE_NAME(639,644)
                      REFERENCE_TYPE_NAME(639,644)
                        BUILT_IN_REFERENCE_TYPE_NAME(639,644)
                          ERROR_TYPE_NAME(639,644)
                            PsiElement(error)('error')(639,644)
                  PsiElement())(')')(644,645)
              PsiWhiteSpace(' ')(645,646)
              PsiElement({)('{')(646,647)
              PsiWhiteSpace('\n        ')(647,656)
              BLOCK(656,714)
                STATEMENT(656,714)
                  EXPRESSION_STMT(656,714)
                    VARIABLE_REFERENCE_EXPRESSION(656,713)
                      FUNCTION_INVOCATION_REFERENCE(656,713)
                        FUNCTION_INVOCATION(656,713)
                          FUNCTION_NAME_REFERENCE(656,666)
                            PACKAGE_REFERENCE(656,659)
                              PsiElement(identifier)('io')(656,658)
                              PsiElement(:)(':')(658,659)
                            ANY_IDENTIFIER_NAME(659,666)
                              PsiElement(identifier)('println')(659,666)
                          PsiElement(()('(')(666,667)
                          INVOCATION_ARG_LIST(667,712)
                            INVOCATION_ARG(667,699)
                              SIMPLE_LITERAL_EXPRESSION(667,699)
                                SIMPLE_LITERAL(667,699)
                                  PsiElement(QUOTED_STRING_LITERAL)('"Unable to written the content "')(667,699)
                            PsiElement(,)(',')(699,700)
                            PsiWhiteSpace(' ')(700,701)
                            INVOCATION_ARG(701,712)
                              VARIABLE_REFERENCE_EXPRESSION(701,712)
                                SIMPLE_VARIABLE_REFERENCE(701,712)
                                  NAME_REFERENCE(701,712)
                                    PsiElement(identifier)('writeResult')(701,712)
                          PsiElement())(')')(712,713)
                    PsiElement(;)(';')(713,714)
              PsiWhiteSpace('\n    ')(714,719)
              PsiElement(})('}')(719,720)
        PsiWhiteSpace('\n')(720,721)
        PsiElement(})('}')(721,722)
  PsiWhiteSpace('\n\n')(722,724)
  PsiComment(LINE_COMMENT)('// Callback service for the TCP client. The service needs to have four predefined resources.')(724,816)
  PsiWhiteSpace('\n')(816,817)
  DEFINITION(817,2242)
    GLOBAL_VARIABLE_DEFINITION(817,2242)
      SIMPLE_TYPE_NAME(817,824)
        REFERENCE_TYPE_NAME(817,824)
          BUILT_IN_REFERENCE_TYPE_NAME(817,824)
            SERVICE_TYPE_NAME(817,824)
              PsiElement(service)('service')(817,824)
      PsiWhiteSpace(' ')(824,825)
      PsiElement(identifier)('ClientService')(825,838)
      PsiWhiteSpace(' ')(838,839)
      PsiElement(=)('=')(839,840)
      PsiWhiteSpace(' ')(840,841)
      SERVICE_CONSTRUCTOR_EXPRESSION(841,2241)
        PsiElement(service)('service')(841,848)
        PsiWhiteSpace(' ')(848,849)
        SERVICE_BODY(849,2241)
          PsiElement({)('{')(849,850)
          PsiWhiteSpace('\n\n    ')(850,856)
          PsiComment(LINE_COMMENT)('// This is invoked once the client connects to the TCP server.')(856,918)
          PsiWhiteSpace('\n    ')(918,923)
          SERVICE_BODY_MEMBER(923,1035)
            OBJECT_FUNCTION_DEFINITION(923,1035)
              PsiElement(resource)('resource')(923,931)
              PsiWhiteSpace(' ')(931,932)
              PsiElement(function)('function')(932,940)
              PsiWhiteSpace(' ')(940,941)
              CALLABLE_UNIT_SIGNATURE(941,972)
                ANY_IDENTIFIER_NAME(941,950)
                  PsiElement(identifier)('onConnect')(941,950)
                PsiElement(()('(')(950,951)
                FORMAL_PARAMETER_LIST(951,971)
                  PARAMETER(951,971)
                    PARAMETER_WITH_TYPE(951,971)
                      SIMPLE_TYPE_NAME(951,964)
                        REFERENCE_TYPE_NAME(951,964)
                          USER_DEFINE_TYPE_NAME(951,964)
                            NAME_REFERENCE(951,964)
                              PACKAGE_REFERENCE(951,958)
                                PsiElement(identifier)('socket')(951,957)
                                PsiElement(:)(':')(957,958)
                              PsiElement(identifier)('Caller')(958,964)
                      PsiWhiteSpace(' ')(964,965)
                      PsiElement(identifier)('caller')(965,971)
                PsiElement())(')')(971,972)
              PsiWhiteSpace(' ')(972,973)
              CALLABLE_UNIT_BODY(973,1035)
                PsiElement({)('{')(973,974)
                PsiWhiteSpace('\n        ')(974,983)
                STATEMENT(983,1029)
                  EXPRESSION_STMT(983,1029)
                    VARIABLE_REFERENCE_EXPRESSION(983,1028)
                      FUNCTION_INVOCATION_REFERENCE(983,1028)
                        FUNCTION_INVOCATION(983,1028)
                          FUNCTION_NAME_REFERENCE(983,993)
                            PACKAGE_REFERENCE(983,986)
                              PsiElement(identifier)('io')(983,985)
                              PsiElement(:)(':')(985,986)
                            ANY_IDENTIFIER_NAME(986,993)
                              PsiElement(identifier)('println')(986,993)
                          PsiElement(()('(')(993,994)
                          INVOCATION_ARG_LIST(994,1027)
                            INVOCATION_ARG(994,1008)
                              SIMPLE_LITERAL_EXPRESSION(994,1008)
                                SIMPLE_LITERAL(994,1008)
                                  PsiElement(QUOTED_STRING_LITERAL)('"Connect to: "')(994,1008)
                            PsiElement(,)(',')(1008,1009)
                            PsiWhiteSpace(' ')(1009,1010)
                            INVOCATION_ARG(1010,1027)
                              VARIABLE_REFERENCE_EXPRESSION(1010,1027)
                                FIELD_VARIABLE_REFERENCE(1010,1027)
                                  SIMPLE_VARIABLE_REFERENCE(1010,1016)
                                    NAME_REFERENCE(1010,1016)
                                      PsiElement(identifier)('caller')(1010,1016)
                                  FIELD(1016,1027)
                                    PsiElement(.)('.')(1016,1017)
                                    PsiElement(identifier)('remotePort')(1017,1027)
                          PsiElement())(')')(1027,1028)
                    PsiElement(;)(';')(1028,1029)
                PsiWhiteSpace('\n    ')(1029,1034)
                PsiElement(})('}')(1034,1035)
          PsiWhiteSpace('\n\n    ')(1035,1041)
          PsiComment(LINE_COMMENT)('// This is invoked when the server sends any content.')(1041,1094)
          PsiWhiteSpace('\n    ')(1094,1099)
          SERVICE_BODY_MEMBER(1099,1831)
            OBJECT_FUNCTION_DEFINITION(1099,1831)
              PsiElement(resource)('resource')(1099,1107)
              PsiWhiteSpace(' ')(1107,1108)
              PsiElement(function)('function')(1108,1116)
              PsiWhiteSpace(' ')(1116,1117)
              CALLABLE_UNIT_SIGNATURE(1117,1166)
                ANY_IDENTIFIER_NAME(1117,1128)
                  PsiElement(identifier)('onReadReady')(1117,1128)
                PsiElement(()('(')(1128,1129)
                FORMAL_PARAMETER_LIST(1129,1165)
                  PARAMETER(1129,1149)
                    PARAMETER_WITH_TYPE(1129,1149)
                      SIMPLE_TYPE_NAME(1129,1142)
                        REFERENCE_TYPE_NAME(1129,1142)
                          USER_DEFINE_TYPE_NAME(1129,1142)
                            NAME_REFERENCE(1129,1142)
                              PACKAGE_REFERENCE(1129,1136)
                                PsiElement(identifier)('socket')(1129,1135)
                                PsiElement(:)(':')(1135,1136)
                              PsiElement(identifier)('Caller')(1136,1142)
                      PsiWhiteSpace(' ')(1142,1143)
                      PsiElement(identifier)('caller')(1143,1149)
                  PsiElement(,)(',')(1149,1150)
                  PsiWhiteSpace(' ')(1150,1151)
                  PARAMETER(1151,1165)
                    PARAMETER_WITH_TYPE(1151,1165)
                      ARRAY_TYPE_NAME(1151,1157)
                        SIMPLE_TYPE_NAME(1151,1155)
                          VALUE_TYPE_NAME(1151,1155)
                            PsiElement(byte)('byte')(1151,1155)
                        PsiElement([)('[')(1155,1156)
                        PsiElement(])(']')(1156,1157)
                      PsiWhiteSpace(' ')(1157,1158)
                      PsiElement(identifier)('content')(1158,1165)
                PsiElement())(')')(1165,1166)
              PsiWhiteSpace(' ')(1166,1167)
              CALLABLE_UNIT_BODY(1167,1831)
                PsiElement({)('{')(1167,1168)
                PsiWhiteSpace('\n        ')(1168,1177)
                STATEMENT(1177,1248)
                  VARIABLE_DEFINITION_STATEMENT(1177,1248)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(1177,1248)
                      SIMPLE_TYPE_NAME(1177,1199)
                        REFERENCE_TYPE_NAME(1177,1199)
                          USER_DEFINE_TYPE_NAME(1177,1199)
                            NAME_REFERENCE(1177,1199)
                              PACKAGE_REFERENCE(1177,1180)
                                PsiElement(identifier)('io')(1177,1179)
                                PsiElement(:)(':')(1179,1180)
                              PsiElement(identifier)('ReadableByteChannel')(1180,1199)
                      PsiWhiteSpace(' ')(1199,1200)
                      BINDING_PATTERN(1200,1211)
                        PsiElement(identifier)('byteChannel')(1200,1211)
                      PsiWhiteSpace(' ')(1211,1212)
                      PsiElement(=)('=')(1212,1213)
                      PsiWhiteSpace(' ')(1213,1214)
                      VARIABLE_REFERENCE_EXPRESSION(1214,1247)
                        FUNCTION_INVOCATION_REFERENCE(1214,1247)
                          FUNCTION_INVOCATION(1214,1247)
                            FUNCTION_NAME_REFERENCE(1214,1238)
                              PACKAGE_REFERENCE(1214,1217)
                                PsiElement(identifier)('io')(1214,1216)
                                PsiElement(:)(':')(1216,1217)
                              ANY_IDENTIFIER_NAME(1217,1238)
                                PsiElement(identifier)('createReadableChannel')(1217,1238)
                            PsiElement(()('(')(1238,1239)
                            INVOCATION_ARG_LIST(1239,1246)
                              INVOCATION_ARG(1239,1246)
                                VARIABLE_REFERENCE_EXPRESSION(1239,1246)
                                  SIMPLE_VARIABLE_REFERENCE(1239,1246)
                                    NAME_REFERENCE(1239,1246)
                                      PsiElement(identifier)('content')(1239,1246)
                            PsiElement())(')')(1246,1247)
                      PsiElement(;)(';')(1247,1248)
                PsiWhiteSpace('\n        ')(1248,1257)
                STATEMENT(1257,1382)
                  VARIABLE_DEFINITION_STATEMENT(1257,1382)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(1257,1382)
                      SIMPLE_TYPE_NAME(1257,1284)
                        REFERENCE_TYPE_NAME(1257,1284)
                          USER_DEFINE_TYPE_NAME(1257,1284)
                            NAME_REFERENCE(1257,1284)
                              PACKAGE_REFERENCE(1257,1260)
                                PsiElement(identifier)('io')(1257,1259)
                                PsiElement(:)(':')(1259,1260)
                              PsiElement(identifier)('ReadableCharacterChannel')(1260,1284)
                      PsiWhiteSpace(' ')(1284,1285)
                      BINDING_PATTERN(1285,1301)
                        PsiElement(identifier)('characterChannel')(1285,1301)
                      PsiWhiteSpace(' ')(1301,1302)
                      PsiElement(=)('=')(1302,1303)
                      PsiWhiteSpace('\n                        ')(1303,1328)
                      TYPE_INIT_EXPRESSION(1328,1381)
                        INIT_WITH_TYPE(1328,1381)
                          PsiElement(new)('new')(1328,1331)
                          PsiWhiteSpace(' ')(1331,1332)
                          USER_DEFINE_TYPE_NAME(1332,1359)
                            NAME_REFERENCE(1332,1359)
                              PACKAGE_REFERENCE(1332,1335)
                                PsiElement(identifier)('io')(1332,1334)
                                PsiElement(:)(':')(1334,1335)
                              PsiElement(identifier)('ReadableCharacterChannel')(1335,1359)
                          PsiElement(()('(')(1359,1360)
                          INVOCATION_ARG_LIST(1360,1380)
                            INVOCATION_ARG(1360,1371)
                              VARIABLE_REFERENCE_EXPRESSION(1360,1371)
                                SIMPLE_VARIABLE_REFERENCE(1360,1371)
                                  NAME_REFERENCE(1360,1371)
                                    PsiElement(identifier)('byteChannel')(1360,1371)
                            PsiElement(,)(',')(1371,1372)
                            PsiWhiteSpace(' ')(1372,1373)
                            INVOCATION_ARG(1373,1380)
                              SIMPLE_LITERAL_EXPRESSION(1373,1380)
                                SIMPLE_LITERAL(1373,1380)
                                  PsiElement(QUOTED_STRING_LITERAL)('"UTF-8"')(1373,1380)
                          PsiElement())(')')(1380,1381)
                      PsiElement(;)(';')(1381,1382)
                PsiWhiteSpace('\n        ')(1382,1391)
                STATEMENT(1391,1427)
                  VARIABLE_DEFINITION_STATEMENT(1391,1427)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(1391,1427)
                      PsiElement(var)('var')(1391,1394)
                      PsiWhiteSpace(' ')(1394,1395)
                      BINDING_PATTERN(1395,1398)
                        PsiElement(identifier)('str')(1395,1398)
                      PsiWhiteSpace(' ')(1398,1399)
                      PsiElement(=)('=')(1399,1400)
                      PsiWhiteSpace(' ')(1400,1401)
                      VARIABLE_REFERENCE_EXPRESSION(1401,1426)
                        INVOCATION_REFERENCE(1401,1426)
                          SIMPLE_VARIABLE_REFERENCE(1401,1417)
                            NAME_REFERENCE(1401,1417)
                              PsiElement(identifier)('characterChannel')(1401,1417)
                          INVOCATION(1417,1426)
                            PsiElement(.)('.')(1417,1418)
                            ANY_IDENTIFIER_NAME(1418,1422)
                              PsiElement(identifier)('read')(1418,1422)
                            PsiElement(()('(')(1422,1423)
                            INVOCATION_ARG_LIST(1423,1425)
                              INVOCATION_ARG(1423,1425)
                                SIMPLE_LITERAL_EXPRESSION(1423,1425)
                                  SIMPLE_LITERAL(1423,1425)
                                    INTEGER_LITERAL(1423,1425)
                                      PsiElement(DECIMAL_INTEGER_LITERAL)('25')(1423,1425)
                            PsiElement())(')')(1425,1426)
                      PsiElement(;)(';')(1426,1427)
                PsiWhiteSpace('\n        ')(1427,1436)
                STATEMENT(1436,1549)
                  IF_ELSE_STATEMENT(1436,1549)
                    IF_CLAUSE(1436,1503)
                      PsiElement(if)('if')(1436,1438)
                      PsiWhiteSpace(' ')(1438,1439)
                      BRACED_OR_TUPLE_EXPRESSION(1439,1454)
                        TUPLE_LITERAL(1439,1454)
                          PsiElement(()('(')(1439,1440)
                          TYPE_TEST_EXPRESSION(1440,1453)
                            VARIABLE_REFERENCE_EXPRESSION(1440,1443)
                              SIMPLE_VARIABLE_REFERENCE(1440,1443)
                                NAME_REFERENCE(1440,1443)
                                  PsiElement(identifier)('str')(1440,1443)
                            PsiWhiteSpace(' ')(1443,1444)
                            PsiElement(is)('is')(1444,1446)
                            PsiWhiteSpace(' ')(1446,1447)
                            SIMPLE_TYPE_NAME(1447,1453)
                              VALUE_TYPE_NAME(1447,1453)
                                PsiElement(string)('string')(1447,1453)
                          PsiElement())(')')(1453,1454)
                      PsiWhiteSpace(' ')(1454,1455)
                      PsiElement({)('{')(1455,1456)
                      PsiWhiteSpace('\n            ')(1456,1469)
                      BLOCK(1469,1493)
                        STATEMENT(1469,1493)
                          EXPRESSION_STMT(1469,1493)
                            VARIABLE_REFERENCE_EXPRESSION(1469,1492)
                              FUNCTION_INVOCATION_REFERENCE(1469,1492)
                                FUNCTION_INVOCATION(1469,1492)
                                  FUNCTION_NAME_REFERENCE(1469,1479)
                                    PACKAGE_REFERENCE(1469,1472)
                                      PsiElement(identifier)('io')(1469,1471)
                                      PsiElement(:)(':')(1471,1472)
                                    ANY_IDENTIFIER_NAME(1472,1479)
                                      PsiElement(identifier)('println')(1472,1479)
                                  PsiElement(()('(')(1479,1480)
                                  INVOCATION_ARG_LIST(1480,1491)
                                    INVOCATION_ARG(1480,1491)
                                      UNARY_EXPRESSION(1480,1491)
                                        PsiElement(untaint)('untaint')(1480,1487)
                                        PsiWhiteSpace(' ')(1487,1488)
                                        VARIABLE_REFERENCE_EXPRESSION(1488,1491)
                                          SIMPLE_VARIABLE_REFERENCE(1488,1491)
                                            NAME_REFERENCE(1488,1491)
                                              PsiElement(identifier)('str')(1488,1491)
                                  PsiElement())(')')(1491,1492)
                            PsiElement(;)(';')(1492,1493)
                      PsiWhiteSpace('\n        ')(1493,1502)
                      PsiElement(})('}')(1502,1503)
                    PsiWhiteSpace(' ')(1503,1504)
                    ELSE_CLAUSE(1504,1549)
                      PsiElement(else)('else')(1504,1508)
                      PsiWhiteSpace(' ')(1508,1509)
                      PsiElement({)('{')(1509,1510)
                      PsiWhiteSpace('\n            ')(1510,1523)
                      BLOCK(1523,1539)
                        STATEMENT(1523,1539)
                          EXPRESSION_STMT(1523,1539)
                            VARIABLE_REFERENCE_EXPRESSION(1523,1538)
                              FUNCTION_INVOCATION_REFERENCE(1523,1538)
                                FUNCTION_INVOCATION(1523,1538)
                                  FUNCTION_NAME_REFERENCE(1523,1533)
                                    PACKAGE_REFERENCE(1523,1526)
                                      PsiElement(identifier)('io')(1523,1525)
                                      PsiElement(:)(':')(1525,1526)
                                    ANY_IDENTIFIER_NAME(1526,1533)
                                      PsiElement(identifier)('println')(1526,1533)
                                  PsiElement(()('(')(1533,1534)
                                  INVOCATION_ARG_LIST(1534,1537)
                                    INVOCATION_ARG(1534,1537)
                                      VARIABLE_REFERENCE_EXPRESSION(1534,1537)
                                        SIMPLE_VARIABLE_REFERENCE(1534,1537)
                                          NAME_REFERENCE(1534,1537)
                                            PsiElement(identifier)('str')(1534,1537)
                                  PsiElement())(')')(1537,1538)
                            PsiElement(;)(';')(1538,1539)
                      PsiWhiteSpace('\n        ')(1539,1548)
                      PsiElement(})('}')(1548,1549)
                PsiWhiteSpace('\n        ')(1549,1558)
                PsiComment(LINE_COMMENT)('// Close the connection between the server and the client.')(1558,1616)
                PsiWhiteSpace('\n        ')(1616,1625)
                STATEMENT(1625,1659)
                  VARIABLE_DEFINITION_STATEMENT(1625,1659)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(1625,1659)
                      PsiElement(var)('var')(1625,1628)
                      PsiWhiteSpace(' ')(1628,1629)
                      BINDING_PATTERN(1629,1640)
                        PsiElement(identifier)('closeResult')(1629,1640)
                      PsiWhiteSpace(' ')(1640,1641)
                      PsiElement(=)('=')(1641,1642)
                      PsiWhiteSpace(' ')(1642,1643)
                      ACTION_INVOCATION_EXPRESSION(1643,1658)
                        ACTION_INVOCATION(1643,1658)
                          SIMPLE_VARIABLE_REFERENCE(1643,1649)
                            NAME_REFERENCE(1643,1649)
                              PsiElement(identifier)('caller')(1643,1649)
                          PsiElement(->)('->')(1649,1651)
                          FUNCTION_INVOCATION(1651,1658)
                            FUNCTION_NAME_REFERENCE(1651,1656)
                              ANY_IDENTIFIER_NAME(1651,1656)
                                PsiElement(identifier)('close')(1651,1656)
                            PsiElement(()('(')(1656,1657)
                            PsiElement())(')')(1657,1658)
                      PsiElement(;)(';')(1658,1659)
                PsiWhiteSpace('\n        ')(1659,1668)
                STATEMENT(1668,1825)
                  IF_ELSE_STATEMENT(1668,1825)
                    IF_CLAUSE(1668,1742)
                      PsiElement(if)('if')(1668,1670)
                      PsiWhiteSpace(' ')(1670,1671)
                      BRACED_OR_TUPLE_EXPRESSION(1671,1693)
                        TUPLE_LITERAL(1671,1693)
                          PsiElement(()('(')(1671,1672)
                          TYPE_TEST_EXPRESSION(1672,1692)
                            VARIABLE_REFERENCE_EXPRESSION(1672,1683)
                              SIMPLE_VARIABLE_REFERENCE(1672,1683)
                                NAME_REFERENCE(1672,1683)
                                  PsiElement(identifier)('closeResult')(1672,1683)
                            PsiWhiteSpace(' ')(1683,1684)
                            PsiElement(is)('is')(1684,1686)
                            PsiWhiteSpace(' ')(1686,1687)
                            SIMPLE_TYPE_NAME(1687,1692)
                              REFERENCE_TYPE_NAME(1687,1692)
                                BUILT_IN_REFERENCE_TYPE_NAME(1687,1692)
                                  ERROR_TYPE_NAME(1687,1692)
                                    PsiElement(error)('error')(1687,1692)
                          PsiElement())(')')(1692,1693)
                      PsiWhiteSpace(' ')(1693,1694)
                      PsiElement({)('{')(1694,1695)
                      PsiWhiteSpace('\n            ')(1695,1708)
                      BLOCK(1708,1732)
                        STATEMENT(1708,1732)
                          EXPRESSION_STMT(1708,1732)
                            VARIABLE_REFERENCE_EXPRESSION(1708,1731)
                              FUNCTION_INVOCATION_REFERENCE(1708,1731)
                                FUNCTION_INVOCATION(1708,1731)
                                  FUNCTION_NAME_REFERENCE(1708,1718)
                                    PACKAGE_REFERENCE(1708,1711)
                                      PsiElement(identifier)('io')(1708,1710)
                                      PsiElement(:)(':')(1710,1711)
                                    ANY_IDENTIFIER_NAME(1711,1718)
                                      PsiElement(identifier)('println')(1711,1718)
                                  PsiElement(()('(')(1718,1719)
                                  INVOCATION_ARG_LIST(1719,1730)
                                    INVOCATION_ARG(1719,1730)
                                      VARIABLE_REFERENCE_EXPRESSION(1719,1730)
                                        SIMPLE_VARIABLE_REFERENCE(1719,1730)
                                          NAME_REFERENCE(1719,1730)
                                            PsiElement(identifier)('closeResult')(1719,1730)
                                  PsiElement())(')')(1730,1731)
                            PsiElement(;)(';')(1731,1732)
                      PsiWhiteSpace('\n        ')(1732,1741)
                      PsiElement(})('}')(1741,1742)
                    PsiWhiteSpace(' ')(1742,1743)
                    ELSE_CLAUSE(1743,1825)
                      PsiElement(else)('else')(1743,1747)
                      PsiWhiteSpace(' ')(1747,1748)
                      PsiElement({)('{')(1748,1749)
                      PsiWhiteSpace('\n            ')(1749,1762)
                      BLOCK(1762,1815)
                        STATEMENT(1762,1815)
                          EXPRESSION_STMT(1762,1815)
                            VARIABLE_REFERENCE_EXPRESSION(1762,1814)
                              FUNCTION_INVOCATION_REFERENCE(1762,1814)
                                FUNCTION_INVOCATION(1762,1814)
                                  FUNCTION_NAME_REFERENCE(1762,1772)
                                    PACKAGE_REFERENCE(1762,1765)
                                      PsiElement(identifier)('io')(1762,1764)
                                      PsiElement(:)(':')(1764,1765)
                                    ANY_IDENTIFIER_NAME(1765,1772)
                                      PsiElement(identifier)('println')(1765,1772)
                                  PsiElement(()('(')(1772,1773)
                                  INVOCATION_ARG_LIST(1773,1813)
                                    INVOCATION_ARG(1773,1813)
                                      SIMPLE_LITERAL_EXPRESSION(1773,1813)
                                        SIMPLE_LITERAL(1773,1813)
                                          PsiElement(QUOTED_STRING_LITERAL)('"Client connection closed successfully."')(1773,1813)
                                  PsiElement())(')')(1813,1814)
                            PsiElement(;)(';')(1814,1815)
                      PsiWhiteSpace('\n        ')(1815,1824)
                      PsiElement(})('}')(1824,1825)
                PsiWhiteSpace('\n    ')(1825,1830)
                PsiElement(})('}')(1830,1831)
          PsiWhiteSpace('\n\n    ')(1831,1837)
          PsiComment(LINE_COMMENT)('// This is invoked once the connection is closed.')(1837,1886)
          PsiWhiteSpace('\n    ')(1886,1891)
          SERVICE_BODY_MEMBER(1891,2001)
            OBJECT_FUNCTION_DEFINITION(1891,2001)
              PsiElement(resource)('resource')(1891,1899)
              PsiWhiteSpace(' ')(1899,1900)
              PsiElement(function)('function')(1900,1908)
              PsiWhiteSpace(' ')(1908,1909)
              CALLABLE_UNIT_SIGNATURE(1909,1938)
                ANY_IDENTIFIER_NAME(1909,1916)
                  PsiElement(identifier)('onClose')(1909,1916)
                PsiElement(()('(')(1916,1917)
                FORMAL_PARAMETER_LIST(1917,1937)
                  PARAMETER(1917,1937)
                    PARAMETER_WITH_TYPE(1917,1937)
                      SIMPLE_TYPE_NAME(1917,1930)
                        REFERENCE_TYPE_NAME(1917,1930)
                          USER_DEFINE_TYPE_NAME(1917,1930)
                            NAME_REFERENCE(1917,1930)
                              PACKAGE_REFERENCE(1917,1924)
                                PsiElement(identifier)('socket')(1917,1923)
                                PsiElement(:)(':')(1923,1924)
                              PsiElement(identifier)('Caller')(1924,1930)
                      PsiWhiteSpace(' ')(1930,1931)
                      PsiElement(identifier)('caller')(1931,1937)
                PsiElement())(')')(1937,1938)
              PsiWhiteSpace(' ')(1938,1939)
              CALLABLE_UNIT_BODY(1939,2001)
                PsiElement({)('{')(1939,1940)
                PsiWhiteSpace('\n        ')(1940,1949)
                STATEMENT(1949,1995)
                  EXPRESSION_STMT(1949,1995)
                    VARIABLE_REFERENCE_EXPRESSION(1949,1994)
                      FUNCTION_INVOCATION_REFERENCE(1949,1994)
                        FUNCTION_INVOCATION(1949,1994)
                          FUNCTION_NAME_REFERENCE(1949,1959)
                            PACKAGE_REFERENCE(1949,1952)
                              PsiElement(identifier)('io')(1949,1951)
                              PsiElement(:)(':')(1951,1952)
                            ANY_IDENTIFIER_NAME(1952,1959)
                              PsiElement(identifier)('println')(1952,1959)
                          PsiElement(()('(')(1959,1960)
                          INVOCATION_ARG_LIST(1960,1993)
                            INVOCATION_ARG(1960,1974)
                              SIMPLE_LITERAL_EXPRESSION(1960,1974)
                                SIMPLE_LITERAL(1960,1974)
                                  PsiElement(QUOTED_STRING_LITERAL)('"Leave from: "')(1960,1974)
                            PsiElement(,)(',')(1974,1975)
                            PsiWhiteSpace(' ')(1975,1976)
                            INVOCATION_ARG(1976,1993)
                              VARIABLE_REFERENCE_EXPRESSION(1976,1993)
                                FIELD_VARIABLE_REFERENCE(1976,1993)
                                  SIMPLE_VARIABLE_REFERENCE(1976,1982)
                                    NAME_REFERENCE(1976,1982)
                                      PsiElement(identifier)('caller')(1976,1982)
                                  FIELD(1982,1993)
                                    PsiElement(.)('.')(1982,1983)
                                    PsiElement(identifier)('remotePort')(1983,1993)
                          PsiElement())(')')(1993,1994)
                    PsiElement(;)(';')(1994,1995)
                PsiWhiteSpace('\n    ')(1995,2000)
                PsiElement(})('}')(2000,2001)
          PsiWhiteSpace('\n\n    ')(2001,2007)
          PsiComment(LINE_COMMENT)('// This resource is invoked for the error situation')(2007,2058)
          PsiWhiteSpace('\n    ')(2058,2063)
          PsiComment(LINE_COMMENT)('// if it happens during the `onConnect`, `onReadReady`, and `onClose` functions.')(2063,2143)
          PsiWhiteSpace('\n    ')(2143,2148)
          SERVICE_BODY_MEMBER(2148,2239)
            OBJECT_FUNCTION_DEFINITION(2148,2239)
              PsiElement(resource)('resource')(2148,2156)
              PsiWhiteSpace(' ')(2156,2157)
              PsiElement(function)('function')(2157,2165)
              PsiWhiteSpace(' ')(2165,2166)
              CALLABLE_UNIT_SIGNATURE(2166,2206)
                ANY_IDENTIFIER_NAME(2166,2173)
                  PsiElement(identifier)('onError')(2166,2173)
                PsiElement(()('(')(2173,2174)
                FORMAL_PARAMETER_LIST(2174,2205)
                  PARAMETER(2174,2194)
                    PARAMETER_WITH_TYPE(2174,2194)
                      SIMPLE_TYPE_NAME(2174,2187)
                        REFERENCE_TYPE_NAME(2174,2187)
                          USER_DEFINE_TYPE_NAME(2174,2187)
                            NAME_REFERENCE(2174,2187)
                              PACKAGE_REFERENCE(2174,2181)
                                PsiElement(identifier)('socket')(2174,2180)
                                PsiElement(:)(':')(2180,2181)
                              PsiElement(identifier)('Caller')(2181,2187)
                      PsiWhiteSpace(' ')(2187,2188)
                      PsiElement(identifier)('caller')(2188,2194)
                  PsiElement(,)(',')(2194,2195)
                  PsiWhiteSpace(' ')(2195,2196)
                  PARAMETER(2196,2205)
                    PARAMETER_WITH_TYPE(2196,2205)
                      SIMPLE_TYPE_NAME(2196,2201)
                        REFERENCE_TYPE_NAME(2196,2201)
                          BUILT_IN_REFERENCE_TYPE_NAME(2196,2201)
                            ERROR_TYPE_NAME(2196,2201)
                              PsiElement(error)('error')(2196,2201)
                      PsiWhiteSpace(' ')(2201,2202)
                      PsiElement(identifier)('err')(2202,2205)
                PsiElement())(')')(2205,2206)
              PsiWhiteSpace(' ')(2206,2207)
              CALLABLE_UNIT_BODY(2207,2239)
                PsiElement({)('{')(2207,2208)
                PsiWhiteSpace('\n        ')(2208,2217)
                STATEMENT(2217,2233)
                  EXPRESSION_STMT(2217,2233)
                    VARIABLE_REFERENCE_EXPRESSION(2217,2232)
                      FUNCTION_INVOCATION_REFERENCE(2217,2232)
                        FUNCTION_INVOCATION(2217,2232)
                          FUNCTION_NAME_REFERENCE(2217,2227)
                            PACKAGE_REFERENCE(2217,2220)
                              PsiElement(identifier)('io')(2217,2219)
                              PsiElement(:)(':')(2219,2220)
                            ANY_IDENTIFIER_NAME(2220,2227)
                              PsiElement(identifier)('println')(2220,2227)
                          PsiElement(()('(')(2227,2228)
                          INVOCATION_ARG_LIST(2228,2231)
                            INVOCATION_ARG(2228,2231)
                              VARIABLE_REFERENCE_EXPRESSION(2228,2231)
                                SIMPLE_VARIABLE_REFERENCE(2228,2231)
                                  NAME_REFERENCE(2228,2231)
                                    PsiElement(identifier)('err')(2228,2231)
                          PsiElement())(')')(2231,2232)
                    PsiElement(;)(';')(2232,2233)
                PsiWhiteSpace('\n    ')(2233,2238)
                PsiElement(})('}')(2238,2239)
          PsiWhiteSpace('\n')(2239,2240)
          PsiElement(})('}')(2240,2241)
      PsiElement(;)(';')(2241,2242)
